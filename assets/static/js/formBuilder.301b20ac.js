/*! For license information please see formBuilder.301b20ac.js.LICENSE.txt */
this.eventespresso=this.eventespresso||{},this.eventespresso.formBuilder=function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=1463)}({0:function(e,t){e.exports=window.React},1:function(e,t,n){"use strict";e.exports=n(66)},11:function(e,t){e.exports=window.eventespresso.utils},1189:function(e,t,n){"use strict";var a=n(2),r=n(0),c=n(8),o=n.n(c),i=n(24),s=n(5),l=n(11),u=n(7),b=n(4),d=n(3),j=n(1466),p=n(23),m={id:"",appliesTo:"all",name:"",order:1,status:"active"},O={id:"",belongsTo:"",type:"text",order:1,status:"active"},f=["checkbox-multi","radio","select"],h=[{label:Object(d.__)("Form Section"),type:"formSection",desc:Object(d.__)("Used for creating logical groupings for questions and form elements. Need to add a heading or description? Use the HTML form element.")},{label:Object(d.__)("HTML Block"),type:"html",desc:Object(d.__)("allows you to add HTML like headings or text paragraphs to your form")},{label:Object(d.__)("Text Input"),type:"text",desc:Object(d.__)("adds a text input that only accepts plain text")},{label:Object(d.__)("Plain Text Area"),type:"textarea",desc:Object(d.__)("adds a textarea block that only accepts plain text")},{label:Object(d.__)("HTML Text Area"),type:"textarea-html",desc:Object(d.__)("adds a textarea block that accepts text including simple HTML markup")},{label:Object(d.__)("Email Address"),type:"email",desc:Object(d.__)("adds a text input that only accets a valid email address")},{label:Object(d.__)("Email Confirmation"),type:"email-confirmation",desc:"adds a text input that confirms the entered email address matches the value entered into another email address input"},{label:Object(d.__)("Password"),type:"password",desc:Object(d.__)("adds a text input that accepts text but masks what the user enters")},{label:Object(d.__)("URL"),type:"url",desc:Object(d.__)("adds a text input for entering a URL address")},{label:Object(d.__)("Date"),type:"date",desc:Object(d.__)("adds a text input that allows users to enter a date directly via keyboard or a datepicker")},{label:Object(d.__)("Local Date"),type:"datetime-local",desc:"adds a text input that allows users to enter a date and time (no timezone) directly via keyboard or a date/time picker"},{label:Object(d.__)("Month"),type:"month",desc:Object(d.__)("adds a text input that allows users to enter a month and year directly via keyboard or a datepicker")},{label:Object(d.__)("Time"),type:"time",desc:Object(d.__)("adds a text input that allows users to enter a time directly via keyboard or a timepicker")},{label:Object(d.__)("Week"),type:"week",desc:Object(d.__)("adds a text input that allows users to enter a week and year directly via keyboard or a datepicker")},{label:Object(d.__)("Day Selector"),type:"day-select",desc:Object(d.__)("adds a dropdown selector that allows users to select the day of the month (01 to 31)")},{label:Object(d.__)("Month Selector"),type:"month-select",desc:Object(d.__)("adds a dropdown selector that allows users to select the month of the year (01 to 12)")},{label:Object(d.__)("Year Selector"),type:"year-select",desc:Object(d.__)("adds a dropdown selector that allows users to select the year from a configurable range")},{label:Object(d.__)("Radio Buttons"),type:"radio",desc:Object(d.__)("adds one or more radio buttons that allow users to only select one option from those provided")},{label:Object(d.__)("Decimal Number"),type:"decimal",desc:Object(d.__)("adds a text input that only accepts numbers whose value is a decimal (float)")},{label:Object(d.__)("Whole Number"),type:"integer",desc:Object(d.__)("adds a text input that only accepts numbers whose value is an integer (whole number)")},{label:Object(d.__)("Number Range"),type:"range",desc:"adds a slider input that can be used to indicate a number range for setting a minimum and maximum values"},{label:Object(d.__)("Phone Number"),type:"tel",desc:"adds a text field for entering a telephone number. Can be configured to only accept input that matches a pattern"},{label:Object(d.__)("Dropdown"),type:"select",desc:Object(d.__)("adds a dropdown selector that accepts a single value")},{label:Object(d.__)("Multi Select"),type:"select-multi",desc:Object(d.__)("adds a dropdown selector that accepts multiple values")},{label:Object(d.__)("Toggle/Switch"),type:"switch",desc:Object(d.__)("adds a toggle or a switch to accept true or false value")},{label:Object(d.__)("Multi Checkbox"),type:"checkbox-multi",desc:Object(d.__)("adds checkboxes that allow users to select zero or more options from those provided")},{label:Object(d.__)("Country Selector"),type:"select-country",desc:Object(d.__)("adds a dropdown selector populated with names of countries that are enabled for the site")},{label:Object(d.__)("State Selector"),type:"select-state",desc:"adds a dropdown selector populated with names of states/provinces for the countries that are enabled for the site"},{label:Object(d.__)("Button"),type:"button",desc:Object(d.__)("adds a button to the form that can be used for triggering fucntionality (requires custom coding)")},{label:Object(d.__)("Reset Button"),type:"reset",desc:Object(d.__)("adds a button that will reset the form back to its orginial state.")}],v=b.indexBy(b.prop("type"),h),x=h.map((function(e){return{label:e.label,value:e.type}})),_=n(55),g=n.n(_),y=n(6),E=n(26),w=n(14);function k(e){return b.sortBy(b.prop("order"),e)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.map((function(e,n){return Object(a.a)(Object(a.a)({},e),{},{order:n+t})}))}var S=b.propSatisfies(b.complement(b.flip(b.includes)(["shared","default"])),"status");function T(e,t){var n=b.splitAt(t,e),a=Object(u.a)(n,2),r=a[0],c=a[1].map(b.set(b.lensProp("isModified"),!0));return[].concat(Object(E.a)(r),Object(E.a)(c))}var N,P=function(e,t){return function(n){var r=k(Object.values(n.sections)),c=b.findIndex(b.propEq("id",t),r)+1;return r=T(r=C(r=b.insert(c,e,r)),c),Object(a.a)(Object(a.a)({},n),{},{sections:b.indexBy(b.prop("id"),r),openElement:e.id})}},I=function(e,t){return function(n){var r=k(Object.values(n.sections)),c=b.findIndex(b.propEq("id",e),r);return c<0?n:(r=T(r=C(r=b.move(c,t,r)),Math.min(c,t)),Object(a.a)(Object(a.a)({},n),{},{sections:b.indexBy(b.prop("id"),r),openElement:""}))}},M=function(e,t){return function(n){var r=k(Object.values(n.elements).filter(b.propEq("belongsTo",e.belongsTo))),c=t?b.findIndex(b.propEq("id",t),r):-1,o=c<0?-1:c+1;return r=T(r=C(r=b.insert(o,e,r)),o),Object(a.a)(Object(a.a)({},n),{},{elements:Object(a.a)(Object(a.a)({},n.elements),b.indexBy(b.prop("id"),r)),openElement:e.id})}},L=function(e,t,n){return function(r){var c=Object(a.a)(Object(a.a)({},r.elements),{},Object(w.a)({},e,Object(a.a)(Object(a.a)({},r.elements[e]),{},{belongsTo:n}))),o=k(Object.values(c).filter(b.propEq("belongsTo",n))),i=b.findIndex(b.propEq("id",e),o);return i<0?r:(o=T(o=C(o=b.move(i,t,o)),Math.min(i,t)),Object(a.a)(Object(a.a)({},r),{},{elements:Object(a.a)(Object(a.a)({},r.elements),b.indexBy(b.prop("id"),o)),openElement:""}))}},D={elements:{},sections:{},deletedElements:[],deletedSections:[],isDirty:!1,openElement:""},A=["isModified","isNew"],B=function(e){return Object(r.useCallback)((function(t,n){var r,c,o=n.id,i=n.afterId,s=n.section,u=n.element,d=n.type,j=n.index,p=n.sectionId,f=n.openElement,h=Object(l.uuid)(),v=[];switch(d){case"ADD_SECTION":var x=Object(a.a)(Object(a.a)(Object(a.a)({},m),s),{},{id:h,isNew:!0});v=[P(x,i)];break;case"COPY_SECTION":var _=Object(a.a)(Object(a.a)(Object(a.a)({},t.sections[o]),s),{},{id:h,isNew:!0});v=[P(_,o),(r=o,c=_.id,function(e){var t=[];return t=(t=Object.values(e.elements).filter(b.propEq("belongsTo",r))).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{id:Object(l.uuid)(),belongsTo:c,isNew:!0})})),Object(a.a)(Object(a.a)({},e),{},{elements:Object(a.a)(Object(a.a)({},e.elements),b.indexBy(b.prop("id"),t))})})];break;case"MOVE_SECTION":v=[I(o,j)];break;case"UPDATE_SECTION":var g=Object(a.a)(Object(a.a)({},s),{},{id:o,isModified:!0});v=[b.over(b.lensPath(["sections",o]),b.mergeLeft(g))];break;case"DELETE_SECTION":var y=function(e,t){return Object.values(e.elements).filter(b.propEq("belongsTo",t)).map((function(e){return e.id}))}(t,o);v=[b.over(b.lensPath(["sections"]),b.omit([o])),b.over(b.lensPath(["elements"]),b.omit(y)),b.unless(b.pathEq(["sections",o,"isNew"],!0),b.over(b.lensPath(["deletedSections"]),b.concat([o])))];break;case"MARK_SECTION_AS_SAVED":v=[b.over(b.lensPath(["sections",o]),(function(e){var t=!Object(l.isEqualJson)(s,e),n=b.omit(A,e);return Object(a.a)(Object(a.a)({},n),{},{isModified:t})}))];break;case"MARK_SECTION_AS_DELETED":v=[b.over(b.lensPath(["deletedSections"]),b.without([o]))];break;case"ADD_ELEMENT":var w=Object(a.a)(Object(a.a)(Object(a.a)({},O),u),{},{id:h,isNew:!0});v=[M(w)];break;case"COPY_ELEMENT":var k=Object(a.a)(Object(a.a)({},t.elements[o]),{},{id:h,isNew:!0});v=[M(k,o)];break;case"MOVE_ELEMENT":v=[L(o,j,p)];break;case"UPDATE_ELEMENT":var C=Object(a.a)(Object(a.a)({},u),{},{id:o,isModified:!0});v=[b.over(b.lensPath(["elements",o]),b.mergeLeft(C))];break;case"DELETE_ELEMENT":v=[b.over(b.lensPath(["elements"]),b.omit([o])),b.unless(b.pathEq(["elements",o,"isNew"],!0),b.over(b.lensPath(["deletedElements"]),b.concat([o])))];break;case"MARK_ELEMENT_AS_SAVED":v=[b.over(b.lensPath(["elements",o]),(function(e){var t=!Object(l.isEqualJson)(u,e),n=b.omit(A,e);return Object(a.a)(Object(a.a)({},n),{},{isModified:t})}))];break;case"MARK_ELEMENT_AS_DELETED":v=[b.over(b.lensPath(["deletedElements"]),b.without([o]))];break;case"TOGGLE_OPEN_ELEMENT":v=[b.set(b.lensPath(["openElement"]),f!==t.openElement?f:"")];break;case"RESET":return e(D);default:throw new Error("Unexpected action")}var S=b.compose.apply(b,Object(E.a)(v))(t);return Object(a.a)(Object(a.a)({},S),{},{isDirty:!0})}),[e])},z=function(e){var t=e.onChange,n=function(e){var t=e.initialSections,n=e.initialElements;return Object(r.useCallback)((function(e){var r=b.indexBy(b.prop("id"),t||[]),c=b.indexBy(b.prop("id"),n||[]);return Object(a.a)(Object(a.a)({},e),{},{sections:r,elements:c})}),[n,t])}(Object(y.a)(e,["onChange"])),c=B(n),o=Object(r.useReducer)(c,D,n),i=Object(u.a)(o,2),s=i[0],l=i[1];Object(r.useEffect)((function(){null===t||void 0===t||t(s)}),[s]);var d=Object(r.useCallback)((function(){return s}),[s]),j=Object(r.useCallback)((function(){return k(Object.values(s.sections).filter(S))}),[s.sections]),p=Object(r.useCallback)((function(e){var t=e.sectionId,n=Object.values(s.elements);return t&&(n=n.filter(b.propEq("belongsTo",t))),k(n)}),[s.elements]),m=Object(r.useCallback)((function(e){var t=e.section,n=e.afterId;l({type:"ADD_SECTION",afterId:n,section:t})}),[]),O=Object(r.useCallback)((function(e){var t=e.id;l({type:"COPY_SECTION",id:t})}),[]),f=Object(r.useCallback)((function(e){var t=e.id,n=e.index;l({type:"MOVE_SECTION",id:t,index:n})}),[]),h=Object(r.useCallback)((function(e){var t=e.id,n=e.section;l({type:"UPDATE_SECTION",id:t,section:n})}),[]),v=Object(r.useCallback)((function(e){var t=e.id;l({type:"DELETE_SECTION",id:t})}),[]),x=Object(r.useCallback)((function(e){var t=e.id,n=e.section;l({type:"MARK_SECTION_AS_SAVED",id:t,section:n})}),[]),_=Object(r.useCallback)((function(e){var t=e.id;l({type:"MARK_SECTION_AS_DELETED",id:t})}),[]),g=Object(r.useCallback)((function(e){var t=e.element;l({type:"ADD_ELEMENT",element:t})}),[]),E=Object(r.useCallback)((function(e){var t=e.id;l({type:"COPY_ELEMENT",id:t})}),[]),w=Object(r.useCallback)((function(e){var t=e.id,n=e.index,a=e.sectionId;l({type:"MOVE_ELEMENT",id:t,index:n,sectionId:a})}),[]),C=Object(r.useCallback)((function(e){var t=e.id,n=e.element;l({type:"UPDATE_ELEMENT",id:t,element:n})}),[]),T=Object(r.useCallback)((function(e){var t=e.id;l({type:"DELETE_ELEMENT",id:t})}),[]),N=Object(r.useCallback)((function(e){var t=e.id,n=e.element;l({type:"MARK_ELEMENT_AS_SAVED",id:t,element:n})}),[]),P=Object(r.useCallback)((function(e){var t=e.id;l({type:"MARK_ELEMENT_AS_DELETED",id:t})}),[]),I=Object(r.useCallback)((function(e){return e.id===s.openElement}),[s.openElement]),M=Object(r.useCallback)((function(e){var t=e.openElement;l({type:"TOGGLE_OPEN_ELEMENT",openElement:t})}),[]),L=Object(r.useCallback)((function(){l({type:"RESET"})}),[]);return Object(r.useMemo)((function(){return Object(a.a)(Object(a.a)({},s),{},{addElement:g,addSection:m,copyElement:E,copySection:O,deleteElement:T,deleteSection:v,getData:d,getElements:p,getSections:j,isElementOpen:I,markElementAsDeleted:P,markElementAsSaved:N,markSectionAsDeleted:_,markSectionAsSaved:x,moveElement:w,moveSection:f,reset:L,toggleOpenElement:M,updateElement:C,updateSection:h})}),[s])},R=n(1),q=Object(r.createContext)(null),V=q.Provider,F=(q.Consumer,function(e){var t=e.children,n=Object(y.a)(e,["children"]),a=z(n);return Object(R.jsx)(V,{value:a,children:t})}),W=function(){var e=Object(r.useContext)(q);return g()(e,"useFormState must be used inside FormStateProvider"),e},H=[{id:"lkj567",adminLabel:"pet questions",appliesTo:"primary",belongsTo:"",customCss:"",description:"",htmlClass:"",name:"About Your Pet",order:3,relation:"",showName:!1,showDescription:!1,status:"default",wpUser:1}],U=H.map((function(e){return{label:e.adminLabel,value:e.id}})),K=function(e){var t=e.formSection,n=Object(p.useDisclosure)(),a=n.isOpen,c=n.onOpen,o=n.onClose,i=W(),l=i.addSection,m=i.addElement,O=Object(r.useState)("formSection"),f=Object(u.a)(O,2),h=f[0],v=f[1],_=Object(r.useState)(U[0].value),g=Object(u.a)(_,2),y=g[0],E=g[1],w=Object(r.useCallback)((function(){"formSection"===h?l({afterId:t.id,section:{}}):m({element:{type:h,belongsTo:t.id}}),o()}),[m,l,t.id,o,h]),k=Object(r.useCallback)((function(){var e=b.find(b.propEq("id",y),H);l({section:e,afterId:t.id}),o()}),[l,t.id,o,y]),C=Object(r.useCallback)((function(e){v(e)}),[]),S=Object(r.useCallback)((function(e){E(e)}),[]),T=a?0:-1;return Object(R.jsxs)(s.Popover,{className:"ee-add-form-element__popover",contentClassName:"ee-add-form-element__content",header:Object(R.jsx)(s.Heading,{as:"h5",children:Object(d.__)("Add Form Element")}),isOpen:a,onClose:o,placement:"top-end",trigger:Object(R.jsx)(s.Button,{buttonText:Object(d.__)("Add Form Element"),className:"ee-add-form-element__trigger",icon:j.a,onClick:c,size:"small"}),children:[Object(R.jsx)("p",{children:Object(d.__)("form element order can be changed after adding by using the drag handles in the form element toolbar")}),Object(R.jsxs)("div",{className:"ee-add-form-element__option",children:[Object(R.jsx)(s.SelectWithLabel,{id:"".concat(t.id,"-load-existing-section-selector"),label:Object(d.__)("load existing form section"),options:U,onChangeValue:S,size:"small",tabIndex:T}),Object(R.jsx)(s.Button,{buttonText:Object(d.__)("Add"),onClick:k,buttonType:"primary",size:"small",tabIndex:T})]}),Object(R.jsxs)("div",{className:"ee-add-form-element__option",children:[Object(R.jsx)(s.SelectWithLabel,{id:"".concat(t.id,"-add-new-section-selector"),label:Object(d.__)("add new form element"),options:x,onChangeValue:C,size:"small",tabIndex:T}),Object(R.jsx)(s.Button,{buttonText:Object(d.__)("Add"),onClick:w,buttonType:"primary",size:"small",tabIndex:T})]})]})},Y=n(423),G=n(19),J=Object(G.a)((function(e){return Object(R.jsx)("svg",Object(a.a)(Object(a.a)({color:"currentColor",fill:"none","aria-hidden":"true",height:"1.25em",width:"1.25em",viewBox:"0 0 24 24",className:"ee-svg--settings-outlined"},e),{},{children:Object(R.jsx)("path",{className:"settingsOutlined_svg__ee-outlined",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",stroke:"currentColor",strokeWidth:2})}))}),"settings-outlined"),$=n(1465),Q=Object(G.a)((function(e){return Object(R.jsx)("svg",Object(a.a)(Object(a.a)({color:"currentColor",fill:"currentColor","aria-hidden":"true",height:"1.25em",width:"1.25em",viewBox:"0 0 18 18",className:"ee-svg--drag-handle"},e),{},{children:Object(R.jsx)("path",{d:"M5 4h2V2H5v2zm6-2v2h2V2h-2zm-6 8h2V8H5v2zm6 0h2V8h-2v2zm-6 6h2v-2H5v2zm6 0h2v-2h-2v2z",stroke:"currentColor",strokeWidth:2})}))}),"drag-handle"),X=n(947),Z=function(e){var t=e.formSection,n=W(),c=n.isElementOpen,o=n.copySection,l=c({id:t.id})?0:-1,b=Object(r.useState)("shared"),j=Object(u.a)(b,2),p=j[0],m=j[1],O=Object(r.useCallback)((function(){o({id:t.id,section:{status:p,belongsTo:""}})}),[o,t.id,p]),f=Object(r.useCallback)((function(e){var t=e.onOpen,n=Object(y.a)(e,["onOpen"]);return Object(R.jsx)(s.IconButton,Object(a.a)(Object(a.a)({},n),{},{borderless:!0,className:"ee-form-section__toolbar-button",icon:X.a,onClick:t,size:"smaller",tabIndex:l,tooltip:Object(d.__)("save form section for use in other forms"),transparentBg:!0}))}),[l]),h="save-section-".concat(t.id);return Object(R.jsxs)(s.PopoverForm,{closeOnBlur:!0,renderTrigger:f,title:Object(d.__)("save form section for use in other forms"),onSubmit:O,children:[Object(R.jsx)("label",{id:"".concat(h,"-label"),htmlFor:h,children:Object(d.__)("save as")}),Object(R.jsxs)(i.RadioGroup,{value:p,onChange:m,id:h,"aria-labelledby":"".concat(h,"-label"),children:[Object(R.jsx)(s.Radio,{value:"default","aria-describedby":"".concat(h,"-default-desc"),children:Object(d.__)("default")}),Object(R.jsx)("p",{id:"".concat(h,"-default-desc"),children:Object(d.__)(" a copy of this form section will be automatically added to ALL new events")}),Object(R.jsx)(s.Radio,{value:"shared","aria-describedby":"".concat(h,"-shared-desc"),children:Object(d.__)("shared")}),Object(R.jsx)("p",{id:"".concat(h,"-shared-desc"),children:Object(d.__)("a copy of this form section will be saved for use in other events but not loaded by default")})]})]})},ee=Object(r.memo)((function(e){var t=e.formSection,n=e.dragHandleProps,c=W(),o=c.copySection,i=c.deleteSection,l=c.isElementOpen,u=c.toggleOpenElement,b=t.id,j=l({id:b}),p=Object(r.useCallback)((function(){return o({id:b,section:{}})}),[b,o]),m=Object(r.useCallback)((function(){return i({id:b})}),[b,i]),O=Object(r.useCallback)((function(){return u({openElement:b})}),[b,u]),f=j?0:-1,h=Object(r.useMemo)((function(){return{icon:Y.a,borderless:!0,className:"ee-form-section__toolbar-button",size:"small",tabIndex:f,tooltip:Object(d.__)("delete form section"),transparentBg:!0}}),[f]);return Object(R.jsx)("div",{className:"ee-form-section__toolbar",children:Object(R.jsxs)("div",{className:"ee-form-section__toolbar-actions",children:[Object(R.jsx)(s.IconButton,{icon:J,active:j,borderless:!0,className:"ee-form-section__menu-button ee-form-section__toolbar-button",onClick:O,size:"smaller",tooltip:Object(d.__)("form section settings"),transparentBg:!0}),Object(R.jsx)(s.IconButton,{icon:$.a,borderless:!0,className:"ee-form-section__toolbar-button",onClick:p,size:"smaller",tabIndex:f,tooltip:Object(d.__)("copy form section"),transparentBg:!0}),Object(R.jsx)(Z,{formSection:t}),Object(R.jsx)(s.ConfirmDelete,{asIconButton:!0,onConfirm:m,buttonProps:h}),Object(R.jsx)(s.IconButton,Object(a.a)({icon:Q,borderless:!0,className:"ee-drag-handle ee-form-section__toolbar-button",size:"small",tabIndex:f,tooltip:Object(d.__)("click, hold, and drag to reorder form section"),transparentBg:!0},n))]})})}),Object(l.getPropsAreEqual)([["formSection"]])),te=n(43),ne=n(159),ae=function(){return null},re=Object(s.withLabel)((function(e){var t,n=e.type,r=Object(y.a)(e,["type"]);switch(n){case"checkbox-multi":t=s.MultiCheckbox;break;case"date":case"datetime-local":t=te.DatePicker;break;case"email":case"email-confirmation":case"password":case"tel":case"text":case"url":t=s.TextInput;break;case"html":t=ne.SimpleTextEditor;break;case"textarea":case"textarea-html":t=s.Textarea;break;case"integer":case"decimal":t=s.NumberInput;break;case"month":case"month-select":case"week":case"year-select":t=te.DatePicker;break;case"radio":t=s.RadioGroup;break;case"select":case"select-country":case"select-state":t=s.Select;break;case"switch":t=s.Switch;break;case"time":t=te.TimePicker;break;default:t=ae}return Object(R.jsx)(t,Object(a.a)({},r))})),ce=function(e){var t=W().updateElement;return Object(r.useCallback)((function(n){return function(a){t({id:e.id,element:Object(w.a)({},n,a)})}}),[e.id,t])},oe=Object(r.memo)((function(e){var t=e.element,n=ce(t),c=Object(r.useMemo)((function(){var e={placeholder:t.placeholder};switch(t.type){case"checkbox-multi":case"radio":case"select":e.options=(t.options||[]).filter((function(e){var t=e.value,n=e.label;return t&&n}));break;case"select-country":case"select-state":case"month-select":case"year-select":e.options=t.options||[];break;case"date":case"datetime-local":case"month":case"week":case"time":switch(e=Object(a.a)(Object(a.a)({},e),{},{value:t.value,onChange:n("value")}),t.type){case"month":e=Object(a.a)(Object(a.a)({},e),{},{showMonthYearPicker:!0,dateFormat:"MM/yyyy"})}break;case"email":case"password":case"tel":case"text":case"url":e.type=t.type;break;case"email-confirmation":e.type="email";break;case"decimal":case"integer":e.min=t.min,e.max=t.max;break;case"html":e.value=t.placeholder,e.toolbarHidden=!0,e.readonly=!0,e.isDisabled=!0}return e}),[t,n]);return Object(R.jsxs)(i.FormControl,{className:"ee-form-element__input",isRequired:t.required,children:[Object(R.jsx)(re,Object(a.a)({type:t.type,id:t.id,label:t.publicLabel},c)),t.helpText&&Object(R.jsx)(i.FormHelperText,{children:t.helpText})]})}),Object(l.getPropsAreEqual)([["element"]])),ie=Object(r.memo)((function(e){var t,n=e.element,c=e.dragHandleProps,o=W(),i=o.copyElement,l=o.deleteElement,u=o.isElementOpen,b=o.toggleOpenElement,j=n.id,p=u({id:j}),m=(null===(t=v[n.type])||void 0===t?void 0:t.label)||"",O=Object(r.useCallback)((function(){return i({id:j})}),[j,i]),f=Object(r.useCallback)((function(){return l({id:j})}),[j,l]),h=Object(r.useCallback)((function(){return b({openElement:j})}),[j,b]),x=p?0:-1,_=Object(r.useMemo)((function(){return{icon:Y.a,borderless:!0,className:"ee-form-element__toolbar-button",size:"smaller",tabIndex:x,tooltip:Object(d.__)("delete form element"),transparentBg:!0}}),[x]);return Object(R.jsxs)("div",{className:"ee-form-element__toolbar",children:[Object(R.jsx)("div",{className:"ee-form-element__type",children:m}),Object(R.jsxs)("div",{className:"ee-form-element__toolbar-actions",children:[Object(R.jsx)(s.IconButton,{active:p,borderless:!0,className:"ee-form-element__menu-button ee-form-element__toolbar-button",icon:J,onClick:h,size:"small",tooltip:Object(d.__)("form element settings"),transparentBg:!0}),Object(R.jsx)(s.IconButton,{icon:$.a,borderless:!0,className:"ee-form-element__toolbar-button",size:"smaller",onClick:O,tabIndex:x,tooltip:Object(d.__)("copy form element"),transparentBg:!0}),Object(R.jsx)(s.ConfirmDelete,{asIconButton:!0,onConfirm:f,buttonProps:_}),Object(R.jsx)(s.IconButton,Object(a.a)({icon:Q,borderless:!0,className:"ee-drag-handle ee-form-element__toolbar-button",size:"smaller",tabIndex:x,tooltip:Object(d.__)("click, hold, and drag to reorder form element"),transparentBg:!0},c))]})]})}),Object(l.getPropsAreEqual)([["element"]])),se=Object(G.a)((function(e){return Object(R.jsxs)("svg",Object(a.a)(Object(a.a)({"aria-hidden":"true",height:"1.25em",viewBox:"0 0 512 512",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",className:"ee-svg--palette"},e),{},{children:[Object(R.jsx)("path",{d:"M430.11 347.9c-6.6-6.1-16.3-7.6-24.6-9-11.5-1.9-15.9-4-22.6-10-14.3-12.7-14.3-31.1 0-43.8l30.3-26.9c46.4-41 46.4-108.2 0-149.2-34.2-30.1-80.1-45-127.8-45-55.7 0-113.9 20.3-158.8 60.1-83.5 73.8-83.5 194.7 0 268.5 41.5 36.7 97.5 55 152.9 55.4h1.7c55.4 0 110-17.9 148.8-52.4 14.4-12.7 11.99-36.6.1-47.7z"}),Object(R.jsx)("circle",{cx:144,cy:208,r:32,fill:"var(--ee-background-color)"}),Object(R.jsx)("circle",{cx:152,cy:311,r:32,fill:"var(--ee-background-color)"}),Object(R.jsx)("circle",{cx:224,cy:144,r:32,fill:"var(--ee-background-color)"}),Object(R.jsx)("circle",{cx:256,cy:367,r:48,fill:"var(--ee-background-color)"}),Object(R.jsx)("circle",{cx:328,cy:144,r:32,fill:"var(--ee-background-color)"})]}))}),"palette"),le=n(948),ue=Object(G.a)((function(e){return Object(R.jsx)("svg",Object(a.a)(Object(a.a)({"aria-hidden":"true",height:"1.25em",viewBox:"0 0 16 16",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",className:"ee-svg--check-list"},e),{},{children:Object(R.jsx)("path",{d:"M5 11.5a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zM3.854 2.146a.5.5 0 010 .708l-1.5 1.5a.5.5 0 01-.708 0l-.5-.5a.5.5 0 11.708-.708L2 3.293l1.146-1.147a.5.5 0 01.708 0zm0 4a.5.5 0 010 .708l-1.5 1.5a.5.5 0 01-.708 0l-.5-.5a.5.5 0 11.708-.708L2 7.293l1.146-1.147a.5.5 0 01.708 0zm0 4a.5.5 0 010 .708l-1.5 1.5a.5.5 0 01-.708 0l-.5-.5a.5.5 0 01.708-.708l.146.147 1.146-1.147a.5.5 0 01.708 0z"})}))}),"check-list"),be=function(e){var t=e.index,n=e.label,c=e.onChange,l=e.onRemove,u=e.id,b=e.value,j=t>0,p=Object(r.useMemo)((function(){return{icon:Y.a,borderless:!0,className:"ee-field-option__remove",size:"small",tooltip:Object(d.__)("remove option"),transparentBg:!0}}),[]);return Object(R.jsx)(i.Draggable,{draggableId:"ee-field-option-".concat(u,"-").concat(t),index:t,children:function(e,i){var u=e.draggableProps,m=e.dragHandleProps,O=e.innerRef,f=i.isDragging,h=o()("ee-field-option__wrapper","ee-draggable",f&&"ee-draggable--is-dragging");return Object(r.createElement)("div",Object(a.a)(Object(a.a)({},u),{},{key:"".concat(t),ref:O,className:h}),Object(R.jsxs)("div",{className:"ee-field-option",children:[Object(R.jsx)(s.Label,{id:"ee-field-option-value-".concat(t),label:Object(d.__)("value"),hidden:j}),Object(R.jsx)(s.TextInput,{className:"ee-field-option__value",id:"ee-field-option-value-".concat(t),onChangeValue:c("value",t),placeholder:Object(d.__)("value"),value:b})]}),Object(R.jsxs)("div",{className:"ee-field-option",children:[Object(R.jsx)(s.Label,{id:"ee-field-option-label-".concat(t),label:Object(d.__)("label"),hidden:j}),Object(R.jsx)(s.TextInput,{className:"ee-field-option__label",id:"ee-field-option-label-".concat(t),onChangeValue:c("label",t),placeholder:Object(d.__)("label"),value:n})]}),Object(R.jsxs)("div",{className:"ee-field-option ee-field-option__actions",children:[Object(R.jsx)(s.ConfirmDelete,{asIconButton:!0,onConfirm:l(t),buttonProps:p}),Object(R.jsx)(s.IconButton,Object(a.a)({icon:Q,borderless:!0,className:"ee-field-option__drag ee-drag-handle",size:"smaller",tooltip:Object(d.__)("click, hold, and drag to reorder field option"),transparentBg:!0},m))]}))}})},de=Object(s.withLabel)((function(e){var t=e.element,n=ce(t),c=Object(r.useCallback)((function(e,a){return function(r){var c="value"===e?r.replace(/[^\w-]/g,""):r,o=b.adjust(a,b.assoc(e,c),t.options||[]);n("options")(o)}}),[t.options,n]),l=Object(r.useCallback)((function(e){return function(){var a=b.remove(e,1,t.options||[]);n("options")(a)}}),[t.options,n]),u=Object(r.useCallback)((function(){var e=[].concat(Object(E.a)(t.options||[]),[{value:"",label:""}]);n("options")(e)}),[t.options,n]),p="ee-field-option-".concat(t.id),m=Object(r.useCallback)((function(e){var a=e.destination,r=e.source,c=!a,o=(null===r||void 0===r?void 0:r.index)===(null===a||void 0===a?void 0:a.index)&&(null===a||void 0===a?void 0:a.droppableId)===(null===r||void 0===r?void 0:r.droppableId),i=(null===a||void 0===a?void 0:a.droppableId)!==p;if(!(c||o||i)){var s=b.move(r.index,a.index,t.options||[]);n("options")(s)}}),[p,t.options,n]);return Object(R.jsxs)("div",{className:"ee-field-options",children:[Object(R.jsxs)("p",{className:"ee-field-options__desc",children:[Object(d.__)("Options are the choices you give people to select from."),Object(R.jsx)("br",{}),Object(d.__)("The value is a simple key that will be saved to the database and the label is what is shown to the user.")]}),Object(R.jsx)(i.DragDropContext,{onDragEnd:m,children:Object(R.jsx)(i.Droppable,{droppableId:p,type:"option",children:function(e,n){var r=e.innerRef,i=e.droppableProps,s=e.placeholder,u=n.isDraggingOver,b=o()("ee-droppable",u&&"ee-droppable--is-dragging-over");return Object(R.jsxs)("div",Object(a.a)(Object(a.a)({},i),{},{className:b,ref:r,children:[(t.options||[]).map((function(e,n){var a=e.value,r=e.label;return Object(R.jsx)(be,{index:n,label:r,onChange:c,onRemove:l,id:t.id,value:a},"".concat(n))})),s]}))}})}),Object(R.jsx)(s.Button,{buttonText:Object(d.__)("add new option"),className:"ee-field-options__add-option",icon:j.a,onClick:u,size:"smaller"})]})})),je=Object(s.withLabel)(ne.SimpleTextEditor),pe=function(e){var t=e.element,n=ce(t);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(s.TextInputWithLabel,{label:Object(d.__)("admin label"),onChangeValue:n("adminLabel"),value:t.adminLabel}),Object(R.jsx)(s.SwitchWithLabel,{label:Object(d.__)("admin only"),onChangeValue:n("adminOnly"),isChecked:t.adminOnly}),"html"===t.type?Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(je,{label:Object(d.__)("content"),defaultValue:t.placeholder,onChangeValue:n("placeholder")})}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(s.TextInputWithLabel,{label:Object(d.__)("public label"),onChangeValue:n("publicLabel"),value:t.publicLabel}),f.includes(t.type)&&Object(R.jsx)(de,{element:t,label:Object(d.__)("options")}),Object(R.jsx)(s.TextInputWithLabel,{label:Object(d.__)("placeholder"),onChangeValue:n("placeholder"),value:t.placeholder}),Object(R.jsx)(s.TextInputWithLabel,{label:Object(d.__)("help text"),onChangeValue:n("helpText"),value:t.helpText})]})]})},me=function(e){var t=e.element,n=ce(t);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(s.TextInputWithLabel,{label:Object(d.__)("label css class"),onChangeValue:n("labelClass"),value:t.labelClass}),Object(R.jsx)(s.TextInputWithLabel,{label:Object(d.__)("input css class"),onChangeValue:n("inputClass"),value:t.inputClass}),Object(R.jsx)(s.TextInputWithLabel,{label:Object(d.__)("help text css class"),onChangeValue:n("helpClass"),value:t.helpClass}),Object(R.jsx)(s.TextareaWithLabel,{label:Object(d.__)("custom css"),onChangeValue:n("customCss"),value:t.customCss})]})},Oe=["integer","decimal"],fe=function(e){var t=e.element,n=ce(t);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(s.SwitchWithLabel,{label:Object(d.__)("required"),onChangeValue:n("required"),isChecked:t.required}),Object(R.jsx)(s.TextInputWithLabel,{label:Object(d.__)("required text"),onChangeValue:n("requiredText"),value:t.requiredText}),Oe.includes(t.type)&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(s.NumberInputWithLabel,{label:Object(d.__)("min"),onChangeValue:n("min"),value:t.min}),Object(R.jsx)(s.NumberInputWithLabel,{label:Object(d.__)("max"),onChangeValue:n("max"),value:t.max})]})]})},he=Object(r.memo)((function(e){var t=e.element,n=W().isElementOpen;return Object(R.jsx)(s.Collapsible,{show:n({id:t.id}),children:Object(R.jsxs)(s.Tabs,{variant:"enclosed",wrapperClassName:"ee-form-settings__tabs",children:[Object(R.jsxs)(s.TabList,{children:[Object(R.jsxs)(s.Tab,{children:[Object(R.jsx)(J,{className:"ee-tab-icon-settings"}),Object(d.__)("Settings")]}),Object(R.jsxs)(s.Tab,{children:[Object(R.jsx)(se,{className:"ee-tab-icon-palette"}),Object(d.__)("Styles")]}),Object(R.jsxs)(s.Tab,{children:[Object(R.jsx)(le.a,{className:"ee-tab-icon-validation"}),Object(d.__)("Validation")]}),Object(R.jsxs)(s.Tab,{children:[Object(R.jsx)(ue,{className:"ee-tab-icon-rules"}),Object(d.__)("Rules")]})]}),Object(R.jsxs)(s.TabPanels,{children:[Object(R.jsx)(s.TabPanel,{children:Object(R.jsx)(pe,{element:t})}),Object(R.jsx)(s.TabPanel,{children:Object(R.jsx)(me,{element:t})}),Object(R.jsx)(s.TabPanel,{children:Object(R.jsx)(fe,{element:t})}),Object(R.jsx)(s.TabPanel,{children:Object(R.jsx)("p",{children:"dont be bad person"})})]})]})})}),Object(l.getPropsAreEqual)([["element"]])),ve=Object(r.memo)((function(e){var t=e.element,n=e.index,r=(0,W().isElementOpen)({id:t.id}),c=o()("ee-form-element__wrapper",r&&"ee-form-element__wrapper--active");return Object(R.jsx)(i.Draggable,{draggableId:t.id,index:n,children:function(e,n){var r=e.draggableProps,i=e.dragHandleProps,s=e.innerRef,l=n.isDragging,u=o()(c,"ee-draggable",l&&"ee-draggable--is-dragging");return Object(R.jsxs)("div",Object(a.a)(Object(a.a)({className:u},r),{},{ref:s,children:[Object(R.jsxs)("div",{className:"ee-form-element",children:[Object(R.jsx)(oe,{element:t}),Object(R.jsx)(ie,{element:t,dragHandleProps:i})]}),Object(R.jsx)(he,{element:t})]}))}})}),Object(l.getPropsAreEqual)([["element"],["index"]])),xe=Object(r.memo)((function(e){var t=e.formSection,n=W().getElements;return Object(R.jsx)(i.Droppable,{droppableId:t.id,type:"element",children:function(e,r){var c=e.innerRef,i=e.droppableProps,s=e.placeholder,l=r.isDraggingOver,u=o()("ee-droppable",l&&"ee-droppable--is-dragging-over");return Object(R.jsxs)("div",Object(a.a)(Object(a.a)({},i),{},{className:u,ref:c,children:[n({sectionId:t.id}).map((function(e,t){return Object(R.jsx)(ve,{element:e,index:t},e.id)})),s]}))}})}),Object(l.getPropsAreEqual)([["formSection"]])),_e=function(e){var t=W().updateSection;return Object(r.useCallback)((function(n){return function(a){t({id:e.id,section:Object(w.a)({},n,a)})}}),[e.id,t])},ge=function(e){var t=e.formSection,n=_e(t);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(s.TextInputWithLabel,{label:Object(d.__)("css class"),onChangeValue:n("htmlClass"),value:t.htmlClass}),Object(R.jsx)(s.TextareaWithLabel,{label:Object(d.__)("custom css"),onChangeValue:n("customCss"),value:t.customCss})]})},ye=function(e){var t=e.formSection,n=_e(t);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(s.TextInputWithLabel,{label:Object(d.__)("name"),onChangeValue:n("name"),value:t.name}),Object(R.jsx)(s.TextInputWithLabel,{label:Object(d.__)("admin label"),onChangeValue:n("adminLabel"),value:t.adminLabel}),Object(R.jsx)(s.SwitchWithLabel,{label:Object(d.__)("show name"),onChangeValue:n("showName"),isChecked:t.showName})]})},Ee=Object(r.memo)((function(e){var t=e.formSection,n=W().isElementOpen;return Object(R.jsx)(s.Collapsible,{show:n({id:t.id}),children:Object(R.jsxs)(s.Tabs,{variant:"enclosed",wrapperClassName:"ee-form-settings__tabs",children:[Object(R.jsxs)(s.TabList,{children:[Object(R.jsxs)(s.Tab,{children:[Object(R.jsx)(J,{className:"ee-tab-icon-settings"}),Object(d.__)("Settings")]}),Object(R.jsxs)(s.Tab,{children:[Object(R.jsx)(se,{className:"ee-tab-icon-palette"}),Object(d.__)("Styles")]}),Object(R.jsxs)(s.Tab,{children:[Object(R.jsx)(ue,{className:"ee-tab-icon-rules"}),Object(d.__)("Rules")]})]}),Object(R.jsxs)(s.TabPanels,{children:[Object(R.jsx)(s.TabPanel,{children:Object(R.jsx)(ye,{formSection:t})}),Object(R.jsx)(s.TabPanel,{children:Object(R.jsx)(ge,{formSection:t})}),Object(R.jsx)(s.TabPanel,{children:Object(R.jsx)("p",{children:"dont be bad person"})})]})]})})}),Object(l.getPropsAreEqual)([["formSection"]])),we=Object(r.memo)((function(e){var t=e.formSection,n=e.index,r=W().isElementOpen,c=t.id,s=r({id:c}),l=o()("ee-form-section",s&&"ee-form-section--active");return Object(R.jsx)(i.Draggable,{draggableId:c,index:n,children:function(e,n){var r=e.draggableProps,c=e.dragHandleProps,i=e.innerRef,s=n.isDragging,u=o()(l,"ee-draggable",s&&"ee-draggable--is-dragging");return Object(R.jsxs)("fieldset",Object(a.a)(Object(a.a)({className:u},r),{},{ref:i,children:[Object(R.jsxs)("div",{className:"ee-form-section__header",children:[Object(R.jsx)("h4",{className:"ee-form-section__name",children:t.adminLabel||t.name}),Object(R.jsx)(ee,{formSection:t,dragHandleProps:c})]}),Object(R.jsx)(Ee,{formSection:t}),Object(R.jsx)(xe,{formSection:t}),Object(R.jsx)(K,{formSection:t})]}))}})}),Object(l.getPropsAreEqual)([["formSection"],["index"]])),ke=Object(r.memo)((function(e){var t=e.formSections;return Object(R.jsx)(R.Fragment,{children:t.map((function(e,t){return Object(R.jsx)(we,{formSection:e,index:t},e.id)}))})}),Object(l.getPropsAreEqual)([["formSections"]])),Ce=n(42),Se=n(33),Te=n.n(Se),Ne=n(529),Pe=function(){var e=function(){var e=W(),t=e.markElementAsSaved,n=e.markElementAsDeleted;return Object(r.useCallback)(function(){var e=Object(Ce.a)(Te.a.mark((function e(a){var r,c,o=arguments;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:[],c=Promise.all(Object.values(a).map(function(){var e=Object(Ce.a)(Te.a.mark((function e(t){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isNew){e.next=7;break}return console.log("creating element...",t),e.next=4,Object(l.wait)(1500);case 4:return e.abrupt("return",t);case 7:if(!t.isModified){e.next=12;break}return console.log("updating element...",t),e.next=11,Object(l.wait)(1500);case 11:return e.abrupt("return",t);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),!(null===r||void 0===r?void 0:r.length)){e.next=5;break}return e.next=5,Promise.all(r.map(function(){var e=Object(Ce.a)(Te.a.mark((function e(t){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("deleting element...",t),e.next=3,Object(l.wait)(1e3);case 3:n({id:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.next=7,c;case 7:e.sent.filter(Boolean).forEach((function(e){t({id:e.id,element:e})}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,t])}(),t=function(){var e=W(),t=e.markSectionAsSaved,n=e.markSectionAsDeleted;return Object(r.useCallback)(function(){var e=Object(Ce.a)(Te.a.mark((function e(a){var r,c,o=arguments;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:[],c=Promise.all(Object.values(a).map(function(){var e=Object(Ce.a)(Te.a.mark((function e(t){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isNew){e.next=7;break}return console.log("creating section...",t),e.next=4,Object(l.wait)(1500);case 4:return e.abrupt("return",t);case 7:if(!t.isModified){e.next=12;break}return console.log("updating section...",t),e.next=11,Object(l.wait)(1500);case 11:return e.abrupt("return",t);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),!(null===r||void 0===r?void 0:r.length)){e.next=5;break}return e.next=5,Promise.all(r.map(function(){var e=Object(Ce.a)(Te.a.mark((function e(t){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("deleting section...",t),e.next=3,Object(l.wait)(1e3);case 3:n({id:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.next=7,c;case 7:e.sent.filter(Boolean).forEach((function(e){t({id:e.id,section:e})}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,t])}(),n=W().getData,a=Object(Ne.a)(function(){var n=Object(Ce.a)(Te.a.mark((function n(a){return Te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("state",a),t(a.sections,a.deletedSections),e(a.elements,a.deletedElements);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),5e3),c=n();Object(r.useEffect)((function(){a(c)}),[JSON.stringify(c)])};t.a=(N=function(e){var t=e.bodyClassName,n=e.containerClassName,c=e.contentClassName,l=e.header,u=W().getSections;Pe();var b=o()("ee-form-builder__wrapper",t),d=o()("ee-form-builder__form",c),j=o()("ee-form-builder",n),p=Object(r.useMemo)((function(){return{body:b,container:j,content:d}}),[b,j,d]),m=function(){var e=W(),t=e.moveSection,n=e.moveElement;return Object(r.useCallback)((function(e){var a=e.destination,r=e.source,c=e.draggableId,o=e.type,i=!a,s=(null===r||void 0===r?void 0:r.index)===(null===a||void 0===a?void 0:a.index)&&(null===a||void 0===a?void 0:a.droppableId)===(null===r||void 0===r?void 0:r.droppableId);i||s||("section"===o?t({id:c,index:a.index}):"element"===o&&n({id:c,index:a.index,sectionId:null===a||void 0===a?void 0:a.droppableId}))}),[n,t])}();return Object(R.jsx)(s.Container,{classes:p,header:l,children:Object(R.jsx)(i.DragDropContext,{onDragEnd:m,children:Object(R.jsx)(i.Droppable,{droppableId:"form-sections",type:"section",children:function(e,t){var n=e.innerRef,r=e.droppableProps,c=e.placeholder,i=t.isDraggingOver,s=o()("ee-droppable",i&&"ee-droppable--is-dragging-over");return Object(R.jsxs)("div",Object(a.a)(Object(a.a)({},r),{},{className:s,ref:n,children:[Object(R.jsx)(ke,{formSections:u()}),c]}))}})})})},function(e){return Object(R.jsx)(F,Object(a.a)(Object(a.a)({},e),{},{children:Object(R.jsx)(N,Object(a.a)({},e))}))})},14:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}))},1463:function(e,t,n){e.exports=n(1464)},1464:function(e,t,n){"use strict";n.r(t);var a=n(1189);n.d(t,"FormBuilder",(function(){return a.a}));var r=n(949);for(var c in r)["default","FormBuilder"].indexOf(c)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(c)},1465:function(e,t,n){"use strict";var a=n(2),r=n(19),c=n(1);t.a=Object(r.a)((function(e){return Object(c.jsx)("svg",Object(a.a)(Object(a.a)({"aria-hidden":"true",height:"1.25em",viewBox:"0 0 20 20",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",className:"ee-svg--copy"},e),{},{children:Object(c.jsx)("path",{d:"M6 15V2h10v13H6zm-1 1h8v2H3V5h2v11z"})}))}),"copy")},1466:function(e,t,n){"use strict";var a=n(2),r=n(19),c=n(1);t.a=Object(r.a)((function(e){return Object(c.jsxs)("svg",Object(a.a)(Object(a.a)({viewBox:"0 0 1024 1024",height:"1.25em",width:"1.25em",className:"ee-svg--plus"},e),{},{children:[Object(c.jsx)("defs",{children:Object(c.jsx)("style",{})}),Object(c.jsx)("path",{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}),Object(c.jsx)("path",{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"})]}))}),"plus")},159:function(e,t){e.exports=window.eventespresso.richTextEditor},19:function(e,t,n){"use strict";var a=n(2),r=n(6),c=n(8),o=n.n(c),i=n(1);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=function(n){var c=n.noMargin,s=n.size,l=Object(r.a)(n,["noMargin","size"]),u=o()("ee-svg",s&&"ee-icon--".concat(s),c&&"ee-icon--no-margin",t&&"ee-svg--".concat(t),l.className);return Object(i.jsx)(e,Object(a.a)(Object(a.a)({},l),{},{className:u}))};return n}},2:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(14);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},23:function(e,t){e.exports=window.eventespresso.hooks},24:function(e,t){e.exports=window.eventespresso.adapters},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(30);var r=n(64),c=n(35);function o(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||Object(r.a)(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},3:function(e,t){e.exports=window.eventespresso.i18n},30:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,"a",(function(){return a}))},33:function(e,t){e.exports=window.regeneratorRuntime},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(30);function r(e,t){if(e){if("string"===typeof e)return Object(a.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a.a)(e,t):void 0}}},4:function(e,t){e.exports=window.R},42:function(e,t,n){"use strict";function a(e,t,n,a,r,c,o){try{var i=e[c](o),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,c){var o=e.apply(t,n);function i(e){a(o,r,c,i,s,"next",e)}function s(e){a(o,r,c,i,s,"throw",e)}i(void 0)}))}}n.d(t,"a",(function(){return r}))},423:function(e,t,n){"use strict";var a=n(2),r=n(19),c=n(1);t.a=Object(r.a)((function(e){return Object(c.jsx)("svg",Object(a.a)(Object(a.a)({"aria-hidden":"true",fill:"currentColor",height:"1.25rem",viewBox:"0 0 20 20",width:"1.25rem",className:"ee-svg--trash"},e),{},{children:Object(c.jsx)("path",{d:"M12 4h3c.6 0 1 .4 1 1v1H3V5c0-.6.5-1 1-1h3c.2-1.1 1.3-2 2.5-2s2.3.9 2.5 2zM8 4h3c-.2-.6-.9-1-1.5-1S8.2 3.4 8 4zM4 7h11l-.9 10.1c0 .5-.5.9-1 .9H5.9c-.5 0-.9-.4-1-.9L4 7z"})}))}),"trash")},43:function(e,t){e.exports=window.eventespresso.dates},46:function(e,t,n){"use strict";function a(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return a}))},47:function(e,t,n){"use strict";function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return a}))},5:function(e,t){e.exports=window.eventespresso.uiComponents},529:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);function r(e,t,n){var r=this,c=Object(a.useRef)(null),o=Object(a.useRef)(0),i=Object(a.useRef)(null),s=Object(a.useRef)([]),l=Object(a.useRef)(),u=Object(a.useRef)(),b=Object(a.useRef)(e),d=Object(a.useRef)(!0);b.current=e;var j=!t&&0!==t&&"undefined"!==typeof window;if("function"!==typeof e)throw new TypeError("Expected a function");t=+t||0;var p=!!(n=n||{}).leading,m=!("trailing"in n)||!!n.trailing,O="maxWait"in n,f=O?Math.max(+n.maxWait||0,t):null;return Object(a.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]),Object(a.useMemo)((function(){var e=function(e){var t=s.current,n=l.current;return s.current=l.current=null,o.current=e,u.current=b.current.apply(n,t)},n=function(e,t){j&&cancelAnimationFrame(i.current),i.current=j?requestAnimationFrame(e):setTimeout(e,t)},a=function(e){if(!d.current)return!1;var n=e-c.current,a=e-o.current;return!c.current||n>=t||n<0||O&&a>=f},h=function(t){return i.current=null,m&&s.current?e(t):(s.current=l.current=null,u.current)},v=function e(){var r=Date.now();if(a(r))return h(r);if(d.current){var i=r-c.current,s=r-o.current,l=t-i,u=O?Math.min(l,f-s):l;n(e,u)}},x=function(){for(var b=[],j=0;j<arguments.length;j++)b[j]=arguments[j];var m=Date.now(),f=a(m);if(s.current=b,l.current=r,c.current=m,f){if(!i.current&&d.current)return o.current=c.current,n(v,t),p?e(c.current):u.current;if(O)return n(v,t),e(c.current)}return i.current||n(v,t),u.current};return x.cancel=function(){i.current&&(j?cancelAnimationFrame(i.current):clearTimeout(i.current)),o.current=0,s.current=c.current=l.current=i.current=null},x.isPending=function(){return!!i.current},x.flush=function(){return i.current?h(Date.now()):u.current},x}),[p,O,t,f,m,j])}},55:function(e,t,n){"use strict";e.exports=function(e,t,n,a,r,c,o,i){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,a,r,c,o,i],u=0;(s=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},59:function(e,t,n){"use strict";var a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(r){return!1}}()?Object.assign:function(e,t){for(var n,i,s=o(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))r.call(n,u)&&(s[u]=n[u]);if(a){i=a(n);for(var b=0;b<i.length;b++)c.call(n,i[b])&&(s[i[b]]=n[i[b]])}}return s}},6:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n.d(t,"a",(function(){return a}))},64:function(e,t,n){"use strict";function a(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return a}))},66:function(e,t,n){"use strict";n(59);var a=n(0),r=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var c=Symbol.for;r=c("react.element"),t.Fragment=c("react.fragment")}var o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var a,c={},l=null,u=null;for(a in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,a)&&!s.hasOwnProperty(a)&&(c[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===c[a]&&(c[a]=t[a]);return{$$typeof:r,type:e,key:l,ref:u,props:c,_owner:o.current}}t.jsx=l,t.jsxs=l},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(46);var r=n(35),c=n(47);function o(e,t){return Object(a.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(s){r=!0,c=s}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}}(e,t)||Object(r.a)(e,t)||Object(c.a)()}},8:function(e,t,n){var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var c=typeof a;if("string"===c||"number"===c)e.push(a);else if(Array.isArray(a)){if(a.length){var o=r.apply(null,a);o&&e.push(o)}}else if("object"===c)if(a.toString===Object.prototype.toString)for(var i in a)n.call(a,i)&&a[i]&&e.push(i);else e.push(a.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},947:function(e,t,n){"use strict";var a=n(2),r=n(19),c=n(1);t.a=Object(r.a)((function(e){return Object(c.jsx)("svg",Object(a.a)(Object(a.a)({viewBox:"0 0 1024 1024",fill:"currentColor","aria-hidden":"true",height:"1.25em",width:"1.25em",className:"ee-svg--save"},e),{},{children:Object(c.jsx)("path",{d:"M893.3 293.3L730.7 130.7c-12-12-28.3-18.7-45.3-18.7H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 176h256v112H384V176zm128 554c-79.5 0-144-64.5-144-144s64.5-144 144-144 144 64.5 144 144-64.5 144-144 144zm0-224c-44.2 0-80 35.8-80 80s35.8 80 80 80 80-35.8 80-80-35.8-80-80-80z"})}))}),"save")},948:function(e,t,n){"use strict";var a=n(2),r=n(19),c=n(1);t.a=Object(r.a)((function(e){return Object(c.jsxs)("svg",Object(a.a)(Object(a.a)({"aria-hidden":"true",fill:"currentColor",viewBox:"64 64 896 896","data-icon":"check-circle",height:"1.25em",width:"1.25em",className:"ee-svg--check"},e),{},{children:[Object(c.jsx)("path",{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}),Object(c.jsx)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"})]}))}),"check")},949:function(e,t){}});
//# sourceMappingURL=formBuilder.301b20ac.js.map
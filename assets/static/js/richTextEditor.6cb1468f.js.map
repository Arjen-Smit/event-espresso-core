{"version":3,"sources":["../webpack/bootstrap","../external {\"this\":\"React\"}","../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../node_modules/classnames/index.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/draft-js/lib/ContentState.js","../node_modules/fbjs/lib/UnicodeBidi.js","../node_modules/draft-js/lib/DefaultDraftBlockRenderMap.js","../node_modules/draft-js/lib/getEntityKeyForSelection.js","../node_modules/fbjs/lib/containsNode.js","../node_modules/fbjs/lib/Scroll.js","../node_modules/draft-js/lib/moveSelectionBackward.js","../node_modules/fbjs/lib/warning.js","../node_modules/draft-js/lib/KeyBindingUtil.js","../packages/components/src/Select/Select.tsx","../node_modules/draft-convert/lib/index.js","../node_modules/draft-js/lib/EditorState.js","../node_modules/ramda/src/equals.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/ramda/src/internal/_isArguments.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/draft-js/lib/randomizeBlockMapKeys.js","../node_modules/draft-js/lib/removeEntitiesAtEdges.js","../node_modules/draft-js/lib/insertIntoList.js","../node_modules/draft-js/lib/modifyBlockForContentState.js","../node_modules/draft-js/lib/getNextDelimiterBlockKey.js","../node_modules/draft-js/lib/getOwnObjectValues.js","../node_modules/draft-js/lib/DraftEntityInstance.js","../node_modules/draft-js/lib/sanitizeDraftText.js","../node_modules/draft-js/lib/DefaultDraftInlineStyle.js","../node_modules/draft-js/lib/getSelectionOffsetKeyForNode.js","../node_modules/draft-js/lib/getWindowForNode.js","../node_modules/draft-js/lib/editOnSelect.js","../node_modules/draft-js/lib/DraftJsDebugLogging.js","../node_modules/draft-js/lib/getContentEditableContainer.js","../node_modules/draft-js/lib/getDraftEditorSelection.js","../node_modules/draft-js/lib/getDraftEditorSelectionWithNodes.js","../node_modules/draft-js/lib/getUpdatedSelectionState.js","../node_modules/draft-js/lib/draftKeyUtils.js","../node_modules/draft-js/lib/DraftEditorLeaf.react.js","../node_modules/draft-js/lib/isHTMLBRElement.js","../node_modules/draft-js/lib/DraftEffects.js","../node_modules/fbjs/lib/getActiveElement.js","../node_modules/fbjs/lib/getElementPosition.js","../node_modules/fbjs/lib/getViewportDimensions.js","../node_modules/draft-js/lib/DraftEditorBlock.react.js","../node_modules/fbjs/lib/DataTransfer.js","../node_modules/fbjs/lib/emptyFunction.js","../node_modules/draft-js/lib/getTextContentFromFiles.js","../node_modules/draft-js/lib/getFragmentFromSelection.js","../node_modules/draft-js/lib/keyCommandPlainBackspace.js","../node_modules/draft-js/lib/getRangeClientRects.js","../node_modules/draft-js/lib/DraftRemovableWord.js","../node_modules/draft-js/lib/moveSelectionForward.js","../node_modules/draft-js/lib/convertFromHTMLToContentBlocks.js","../node_modules/draft-js/lib/getSafeBodyFromHTML.js","../node_modules/draft-js/lib/RichTextEditorUtil.js","../node_modules/draft-js/lib/getDefaultKeyBinding.js","../node_modules/draft-js/lib/DraftStringKey.js","../node_modules/draft-convert/lib/util/updateMutation.js","../node_modules/draft-convert/lib/util/getElementHTML.js","../node_modules/draft-convert/lib/util/accumulateFunction.js","../node_modules/draft-convert/lib/util/parseHTML.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/ramda/src/internal/_curry2.js","../node_modules/ramda/src/type.js","../node_modules/ramda/src/internal/_equals.js","../node_modules/ramda/src/internal/_arrayFromIterator.js","../node_modules/ramda/src/internal/_includesWith.js","../node_modules/ramda/src/internal/_functionName.js","../node_modules/ramda/src/internal/_objectIs.js","../node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/draft-js/lib/AtomicBlockUtils.js","../node_modules/draft-js/lib/ContentStateInlineStyle.js","../node_modules/draft-js/lib/applyEntityToContentState.js","../node_modules/draft-js/lib/applyEntityToContentBlock.js","../node_modules/draft-js/lib/getCharacterRemovalRange.js","../node_modules/draft-js/lib/DraftEntitySegments.js","../node_modules/draft-js/lib/getRangesForDraftEntity.js","../node_modules/draft-js/lib/insertFragmentIntoContentState.js","../node_modules/draft-js/lib/insertTextIntoContentState.js","../node_modules/draft-js/lib/removeRangeFromContentState.js","../node_modules/draft-js/lib/splitBlockInContentState.js","../node_modules/draft-js/lib/BlockTree.js","../node_modules/draft-js/lib/uuid.js","../node_modules/draft-js/lib/EditorBidiService.js","../node_modules/fbjs/lib/UnicodeBidiService.js","../node_modules/draft-js/lib/moveBlockInContentState.js","../node_modules/draft-js/lib/CompositeDraftDecorator.js","../node_modules/draft-js/lib/DraftEditor.react.js","../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","../node_modules/draft-js/lib/DOMObserver.js","../node_modules/fbjs/lib/UserAgentData.js","../node_modules/ua-parser-js/src/ua-parser.js","../node_modules/fbjs/lib/VersionRange.js","../node_modules/fbjs/lib/mapObject.js","../node_modules/fbjs/lib/memoizeStringOnly.js","../node_modules/draft-js/lib/DraftEditorContents.react.js","../node_modules/draft-js/lib/DraftEditorContentsExperimental.react.js","../node_modules/draft-js/lib/DraftEditorBlockNode.react.js","../node_modules/draft-js/lib/DraftEditorNode.react.js","../node_modules/draft-js/lib/DraftEditorDecoratedLeaves.react.js","../node_modules/draft-js/lib/DraftEditorTextNode.react.js","../node_modules/draft-js/lib/setDraftEditorSelection.js","../node_modules/fbjs/lib/isTextNode.js","../node_modules/fbjs/lib/isNode.js","../node_modules/fbjs/lib/getStyleProperty.js","../node_modules/fbjs/lib/camelize.js","../node_modules/fbjs/lib/hyphenate.js","../node_modules/fbjs/lib/getElementRect.js","../node_modules/fbjs/lib/getDocumentScrollElement.js","../node_modules/fbjs/lib/getUnboundedScrollPosition.js","../node_modules/draft-js/lib/DraftEditorContents-core.react.js","../node_modules/fbjs/lib/joinClasses.js","../node_modules/draft-js/lib/DraftEditorDragHandler.js","../node_modules/fbjs/lib/PhotosMimeType.js","../node_modules/fbjs/lib/createArrayFromMixed.js","../node_modules/draft-js/lib/DraftEditorEditHandler.js","../node_modules/draft-js/lib/editOnBeforeInput.js","../node_modules/draft-js/lib/isSelectionAtLeafStart.js","../node_modules/fbjs/lib/setImmediate.js","../node_modules/setimmediate/setImmediate.js","../node_modules/draft-js/lib/editOnBlur.js","../node_modules/draft-js/lib/editOnCompositionStart.js","../node_modules/draft-js/lib/editOnCopy.js","../node_modules/draft-js/lib/editOnCut.js","../node_modules/draft-js/lib/isInstanceOfNode.js","../node_modules/draft-js/lib/editOnDragOver.js","../node_modules/draft-js/lib/editOnDragStart.js","../node_modules/draft-js/lib/editOnFocus.js","../node_modules/draft-js/lib/editOnInput.js","../node_modules/draft-js/lib/editOnKeyDown.js","../node_modules/draft-js/lib/isSoftNewlineEvent.js","../node_modules/draft-js/lib/SecondaryClipboard.js","../node_modules/draft-js/lib/keyCommandBackspaceToStartOfLine.js","../node_modules/draft-js/lib/expandRangeToStartOfLine.js","../node_modules/draft-js/lib/keyCommandBackspaceWord.js","../node_modules/fbjs/lib/TokenizeUtil.js","../node_modules/draft-js/lib/keyCommandDeleteWord.js","../node_modules/draft-js/lib/keyCommandInsertNewline.js","../node_modules/draft-js/lib/keyCommandMoveSelectionToEndOfBlock.js","../node_modules/draft-js/lib/keyCommandMoveSelectionToStartOfBlock.js","../node_modules/draft-js/lib/keyCommandPlainDelete.js","../node_modules/draft-js/lib/keyCommandTransposeCharacters.js","../node_modules/draft-js/lib/keyCommandUndo.js","../node_modules/draft-js/lib/editOnPaste.js","../node_modules/draft-js/lib/DraftPasteProcessor.js","../node_modules/fbjs/lib/URI.js","../node_modules/draft-js/lib/isHTMLAnchorElement.js","../node_modules/draft-js/lib/isHTMLImageElement.js","../node_modules/draft-js/lib/adjustBlockDepthForContentState.js","../external {\"this\":[\"eventespresso\",\"adapters\"]}","../node_modules/draft-js/lib/splitTextIntoTextBlocks.js","../node_modules/draft-js/lib/DraftEditorFlushControlled.js","../node_modules/draft-js/lib/DraftEditorPlaceholder.react.js","../node_modules/draft-js/lib/convertFromDraftStateToRaw.js","../node_modules/draft-js/lib/encodeEntityRanges.js","../node_modules/draft-js/lib/encodeInlineStyleRanges.js","../node_modules/draft-js/lib/convertFromRawToDraftState.js","../node_modules/draft-js/lib/DraftTreeAdapter.js","../node_modules/draft-js/lib/DraftTreeInvariants.js","../node_modules/draft-js/lib/createCharacterList.js","../node_modules/draft-js/lib/decodeEntityRanges.js","../node_modules/draft-js/lib/decodeInlineStyleRanges.js","../node_modules/draft-js/lib/getVisibleSelectionRect.js","../node_modules/draft-js/lib/getRangeBoundingClientRect.js","../node_modules/draft-convert/lib/convertToHTML.js","../node_modules/react-dom/cjs/react-dom-server.browser.production.min.js","../node_modules/draft-convert/lib/encodeBlock.js","../node_modules/draft-convert/lib/blockEntities.js","../node_modules/draft-convert/lib/util/getElementTagLength.js","../node_modules/draft-convert/lib/blockInlineStyles.js","../node_modules/draft-convert/lib/util/styleObjectFunction.js","../node_modules/draft-convert/lib/default/defaultInlineHTML.js","../node_modules/draft-convert/lib/util/blockTypeObjectFunction.js","../node_modules/draft-convert/lib/util/getBlockTags.js","../node_modules/draft-convert/lib/util/getNestedBlockTags.js","../node_modules/draft-convert/lib/default/defaultBlockHTML.js","../node_modules/draft-convert/lib/convertFromHTML.js","../packages/icons/src/icons/EditorQuote.tsx","../packages/icons/src/icons/EditorOl.tsx","../packages/icons/src/icons/EditorUl.tsx","../packages/rich-text-editor/src/components/StyleButton.tsx","../packages/rich-text-editor/src/components/constants.ts","../packages/rich-text-editor/src/components/ToolbarControls/BlockStyleControls.tsx","../packages/rich-text-editor/src/components/ToolbarControls/HeadingControls.tsx","../packages/rich-text-editor/src/components/ToolbarControls/InlineStyleControls.tsx","../packages/rich-text-editor/src/components/ToolbarControls/index.tsx","../packages/rich-text-editor/src/utils/getBlockStyle.ts","../packages/rich-text-editor/src/components/index.tsx","../packages/icons/src/withEnhance.tsx","../external {\"this\":[\"eventespresso\",\"i18n\"]}","../node_modules/ramda/src/internal/_curry1.js","../node_modules/draft-js/lib/DraftModifier.js","../node_modules/fbjs/lib/nullthrows.js","../node_modules/fbjs/lib/UserAgent.js","../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/ramda/src/internal/_includes.js","../node_modules/object-assign/index.js","../node_modules/draft-js/lib/CharacterMetadata.js","../node_modules/draft-js/lib/ContentBlockNode.js","../node_modules/ramda/src/internal/_indexOf.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/draft-js/lib/Draft.js","../node_modules/draft-js/lib/generateRandomKey.js","../packages/components/src/withLabel/types.ts","../node_modules/draft-js/lib/DraftOffsetKey.js","../node_modules/ramda/src/includes.js","../node_modules/draft-js/lib/gkx.js","../node_modules/ramda/src/internal/_isPlaceholder.js","../node_modules/draft-js/lib/ContentBlock.js","../node_modules/fbjs/lib/cx.js","../node_modules/draft-js/lib/isElement.js","../node_modules/fbjs/lib/UnicodeUtils.js","../node_modules/process/browser.js","../packages/components/src/withLabel/withLabel.tsx","../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/invariant/invariant.js","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/ramda/src/internal/_has.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/draft-js/lib/BlockMapBuilder.js","../node_modules/draft-js/lib/findRangesImmutable.js","../node_modules/draft-js/lib/isHTMLElement.js","../node_modules/draft-js/lib/removeTextWithStrategy.js","../packages/utils/src/keycodes/index.ts","../node_modules/draft-js/lib/getContentStateFragment.js","../node_modules/draft-js/lib/DraftEntity.js","../node_modules/draft-js/lib/SelectionState.js","../node_modules/fbjs/lib/UnicodeBidiDirection.js","../node_modules/draft-js/lib/findAncestorOffsetKey.js","../node_modules/draft-js/lib/getCorrectDocumentFromNode.js","../node_modules/fbjs/lib/Keys.js","../node_modules/fbjs/lib/Style.js","../node_modules/fbjs/lib/getScrollPosition.js","../node_modules/draft-js/lib/isEventHandled.js","../node_modules/react-dom/server.browser.js","../node_modules/draft-convert/lib/util/rangeSort.js","../node_modules/draft-convert/lib/util/splitReactElement.js","../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/ramda/src/keys.js","../node_modules/immutable/dist/immutable.js","../external {\"this\":\"ReactDOM\"}","../node_modules/fbjs/lib/invariant.js","../node_modules/webpack/buildin/global.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","this","obj","hasOwn","classNames","classes","arguments","length","arg","argType","push","Array","isArray","inner","apply","join","default","self","ReferenceError","_objectSpread","target","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_defineProperty","configurable","writable","BlockMapBuilder","require","CharacterMetadata","ContentBlock","ContentBlockNode","DraftEntity","SelectionState","generateRandomKey","getOwnObjectValues","gkx","Immutable","sanitizeDraftText","List","Record","Repeat","ImmutableMap","Map","OrderedMap","ContentStateRecord","entityMap","blockMap","selectionBefore","selectionAfter","ContentBlockNodeRecord","ContentState","_ContentStateRecord","subClass","superClass","constructor","__proto__","_proto","getEntityMap","getBlockMap","getSelectionBefore","getSelectionAfter","getBlockForKey","getKeyBefore","reverse","keySeq","skipUntil","v","skip","first","getKeyAfter","getBlockAfter","_","k","getBlockBefore","getBlocksAsArray","toArray","getFirstBlock","getLastBlock","last","getPlainText","delimiter","map","block","getText","getLastCreatedEntityKey","__getLastCreatedEntityKey","hasText","size","escape","replace","createEntity","type","mutability","data","__create","mergeEntityData","toMerge","__mergeData","replaceEntityData","newData","__replaceData","addEntity","instance","__add","getEntity","__get","getAllEntities","__getAll","loadWithEntities","entities","__loadWithEntities","createFromBlockArray","blocks","theBlocks","contentBlocks","createFromArray","selectionState","isEmpty","createEmpty","getKey","createFromText","text","undefined","strings","split","characterList","EMPTY","fromJS","state","createContentBlockFromJS","UnicodeBidiDirection","invariant","RANGE_BY_BIDI_TYPE","REGEX_STRONG","RegExp","REGEX_RTL","firstStrongChar","str","match","exec","firstStrongCharDir","strongChar","NEUTRAL","RTL","LTR","resolveBlockDir","fallback","blockDir","getDirection","strongFallback","getGlobalDir","isStrong","UnicodeBidi","isDirectionLTR","isDirectionRTL","React","cx","DefaultDraftBlockRenderMap","element","section","article","wrapper","createElement","className","blockquote","atomic","unstyled","aliasedElements","notEmptyKey","filterKey","entityKey","getMutability","contentState","targetSelection","isCollapsed","getAnchorKey","offset","getAnchorOffset","getEntityAt","startKey","getStartKey","startOffset","getStartOffset","startBlock","getLength","isTextNode","containsNode","outerNode","innerNode","parentNode","contains","compareDocumentPosition","_isViewportScrollElement","doc","documentElement","body","Scroll","getTop","ownerDocument","scrollTop","setTop","newTop","getLeft","scrollLeft","setLeft","newLeft","editorState","maxDistance","selection","getSelection","content","getCurrentContent","focusKey","focusOffset","keyBefore","merge","isBackward","warning","UserAgent","isSoftNewlineEvent","isOSX","isPlatform","KeyBindingUtil","isCtrlKeyCommand","e","ctrlKey","altKey","isOptionKeyCommand","usesMacOSHeuristics","hasCommandModifier","metaKey","withLabel","id","props","_interopRequireDefault","_convertToHTML","_convertFromHTML","_parseHTML","BlockTree","EditorBidiService","OrderedSet","Stack","EditorStateRecord","allowUndo","currentContent","decorator","directionMap","forceSelection","inCompositionMode","inlineStyleOverride","lastChangeType","nativelyRenderedContent","redoStack","treeMap","undoStack","EditorState","createWithText","createWithContent","count","firstKey","config","recordConfig","generateNewTreeMap","getDirectionMap","set","put","getImmutable","withMutations","existingDecorator","newContent","newTreeMap","previousTreeMap","toSeq","getDecorations","generate","regenerateTreeForNewDecorator","newBlockMap","newEntityMap","prevBlockMap","regenerateTreeForNewBlocks","immutable","_immutable","toJS","getAllowUndo","getUndoStack","getRedoStack","getDecorator","isInCompositionMode","mustForceSelection","getNativelyRenderedContent","getLastChangeType","getInlineStyleOverride","setInlineStyleOverride","getCurrentInlineStyle","override","getInlineStyleAt","lookUpwardForInlineStyle","getInlineStyleForCollapsedSelection","getInlineStyleForNonCollapsedSelection","getBlockTree","blockKey","getIn","isSelectionAtStartOfContent","hasEdgeWithin","isSelectionAtEndOfContent","end","acceptSelection","updateSelection","getHasFocus","moveSelectionToEnd","lastBlock","lastKey","anchorKey","anchorOffset","moveFocusToEnd","afterSelectionMove","changeType","mustBecomeBoundary","overrideChangeTypes","indexOf","editorStateChanges","undo","newCurrentContent","peek","shift","redo","toOrderedMap","fromKey","lastNonEmpty","_curry2","_equals","equals","a","b","_getPrototypeOf","setPrototypeOf","getPrototypeOf","arrayLikeToArray","arr","iter","iterator","from","TypeError","_has","toString","_isArguments","x","_typeof","lastRootBlock","newKeysRef","blockMapState","index","oldKey","nextKey","getNextSiblingKey","prevKey","getPrevSiblingKey","childrenKeys","getChildKeys","parentKey","getParentKey","setIn","parentChildrenList","childKey","child","randomizeContentBlockNodeKeys","randomizeContentBlockKeys","findRangesImmutable","removeForBlock","chars","getCharacterList","charBefore","charAfter","entityBeforeCursor","entityAfterCursor","current","_getRemovalRange","characters","removalRange","start","getRemovalRange","applyEntity","updatedBlocks","updatedStart","endKey","getEndKey","endOffset","getEndOffset","endBlock","updatedEnd","targetListArg","toInsert","targetList","unshift","head","slice","tail","toList","operation","newBlocks","takeUntil","nextSiblingKey","parent","nextNonDescendantBlock","DraftEntityInstance","_DraftEntityInstanceR","getType","getData","REGEX_BLOCK_DELIMITER","input","BOLD","fontWeight","CODE","fontFamily","wordWrap","ITALIC","fontStyle","STRIKETHROUGH","textDecoration","UNDERLINE","isElement","getSelectionOffsetKeyForNode","node","castedNode","offsetKey","getAttribute","ii","childNodes","childOffsetKey","defaultView","window","DraftJsDebugLogging","getContentEditableContainer","getDraftEditorSelection","editor","_blockSelectEvents","_latestEditorState","logBlockedSelectionEvent","anonymizedDom","extraParams","JSON","stringify","stacktrace","Error","stack","documentSelection","updatedSelectionState","needsRecovery","update","logSelectionStateFailure","isHTMLElement","editorNode","editorContainer","firstChild","getDraftEditorSelectionWithNodes","root","anchorNode","focusNode","rangeCount","findAncestorOffsetKey","getUpdatedSelectionState","nullthrows","getPointForNonTextNode","editorRoot","startNode","childOffset","firstLeaf","getFirstLeaf","nodeBeforeCursor","leafKey","textLength","lastLeaf","lastChild","getLastLeaf","getTextContentLength","textContent","anchorIsTextNode","nodeType","Node","TEXT_NODE","focusIsTextNode","anchorPoint","focusPoint","nodeName","DraftOffsetKey","anchorPath","decode","anchorBlockKey","anchorLeafBlockTree","anchorLeaf","decoratorKey","focusPath","focusBlockKey","focusLeafBlockTree","focusLeaf","anchorLeafStart","focusLeafStart","anchorBlockOffset","focusBlockOffset","getFocusKey","getFocusOffset","anchorLeafEnd","focusLeafEnd","_assign","_assertThisInitialized","DraftEditorTextNode","isHTMLBRElement","setDraftEditorSelection","DraftEditorLeaf","_React$Component","_this","_len","args","_key","_setSelection","_this$props","leaf","targetNode","shouldComponentUpdate","nextProps","leafNode","styleSet","componentDidUpdate","componentDidMount","render","_this2","endsWith","isLast","_this$props2","customStyleMap","customStyleFn","styleObj","reduce","styleName","mergedStyles","style","trim","newStyles","ref","_ref","Component","initODS","handleExtensionCausedError","document","activeElement","getElementRect","rect","left","y","top","width","right","height","bottom","getViewportWidth","clientWidth","getViewportHeight","clientHeight","getViewportDimensions","innerWidth","innerHeight","withoutScrollbars","_extends","Style","getElementPosition","getScrollPosition","isBlockOnSelectionEdge","DraftEditorBlock","tree","direction","preventScroll","blockNode","_node","scrollDelta","scrollParent","getScrollParent","scrollPosition","nodePosition","scrollTo","offsetHeight","offsetTop","_renderChildren","lastLeafSet","hasSelection","leafSet","leavesForLeafSet","leaves","jj","encode","DecoratorComponent","getComponentForKey","decoratorProps","getPropsForKey","decoratorOffsetKey","decoratedText","dir","getHTMLDirIfDifferent","commonProps","_this3","PhotosMimeType","createArrayFromMixed","emptyFunction","CR_LF_REGEX","RICH_TEXT_TYPES","getFileFromDataTransfer","item","kind","getAsFile","DataTransfer","types","isRichText","getHTML","isImage","some","isLink","getLink","items","getFiles","getCount","mozItemCount","files","thatReturnsArgument","hasFiles","makeEmptyFunction","thatReturns","thatReturnsFalse","thatReturnsTrue","thatReturnsNull","thatReturnsThis","TEXT_CLIPPING_REGEX","TEXT_TYPES","callback","readCount","results","file","global","FileReader","_contents","test","reader","onload","result","onerror","readAsText","readFile","getContentStateFragment","UnicodeUtils","moveSelectionBackward","removeTextWithStrategy","afterRemoval","strategyState","charBehind","getUTF16Length","getRangeClientRects","isBrowser","range","tempRange","cloneRange","clientRects","ancestor","endContainer","atCommonAncestor","commonAncestorContainer","setStart","startContainer","rects","getClientRects","setEndBefore","WHITESPACE_AND_PUNCTUATION","getPunctuation","DELETE_REGEX","BACKSPACE_REGEX","getRemovableWord","matches","DraftRemovableWord","getBackward","getForward","_knownListItemDepthCl","URI","getSafeBodyFromHTML","_require","isHTMLAnchorElement","isHTMLImageElement","experimentalTreeDataSupport","REGEX_CR","REGEX_LF","REGEX_LEADING_LF","REGEX_NBSP","REGEX_CARRIAGE","REGEX_ZWS","boldValues","notBoldValues","anchorAttr","imgAttr","knownListItemDepthClasses","HTMLTagToRawInlineStyleMap","code","del","em","strike","strong","u","mark","buildBlockTypeMap","blockRenderMap","blockTypeMap","mapKeys","blockType","desc","elements","detectInlineStyle","includes","getListItemDepth","depth","depthClass","classList","isValidAnchor","href","protocol","isValidImage","imageNode","attributes","getNamedItem","styleFromNodeAttributes","htmlElement","add","remove","isListNode","ContentBlocksBuilder","disambiguate","clear","blockConfigs","currentBlockType","currentDepth","currentEntity","currentText","addDOMNode","_this$blockConfigs","_toBlockConfigs","_trimCurrentText","_makeBlockConfig","getContentBlocks","_toContentBlocks","_toFlatContentBlocks","children","prevSibling","nextSibling","childConfigs","nodes","toLowerCase","wasCurrentDepth","wasWrapper","_addImgNode","_addAnchorNode","newStyle","has","inlineStyle","_addBreakNode","_addTextNode","_wasCurrentDepth","_wasWrapper","_appendText","_this$characterList","characterMetadata","entity","fill","begin","trimLeft","trimRight","findEntry","Math","min","max","image","entityConfig","attr","imageAttribute","anchor","anchorAttribute","url","_hoistContainersInBlockConfigs","flatMap","blockConfig","_this2$_extractTextFr","_extractTextFromBlockConfigs","html","DOMBuilder","safeBody","tag","isOldIE","implementation","createHTMLDocument","innerHTML","getElementsByTagName","DraftModifier","adjustBlockDepthForContentState","RichTextEditorUtil","currentBlockContainsLink","getCurrentBlockType","getDataObjectForLinkURL","uri","handleKeyCommand","command","eventTimeStamp","toggleInlineStyle","toggleCode","onBackspace","onDelete","insertSoftNewline","insertText","newEditorState","blockBefore","withoutAtomicBlock","withoutBlockStyle","tryToRemoveBlockStyle","blockAfter","atomicBlockTarget","removeRange","onTab","event","maxDepth","preventDefault","getDepth","shiftKey","withAdjustment","toggleBlockType","skipWhile","typeToSet","setBlockType","currentStyle","removeInlineStyle","applyInlineStyle","toggleLink","withoutLink","Keys","shouldFixFirefoxMovement","shouldRemoveWord","keyCode","getZCommand","RETURN","DELETE","getDeleteCommand","BACKSPACE","getBackspaceCommand","LEFT","RIGHT","DraftStringKey","String","unstringify","mutation","originalOffset","originalLength","newLength","prefixLength","suffixLength","lengthDiff","assign","_react","isValidElement","hasChildren","_server","renderToStaticMarkup","tags","_splitReactElement","_typeof2","_invariant","_start","_end","Children","newFn","rest","newResult","DOMParser","parser","parseFromString","excluded","sourceKeys","_curry1","_isPlaceholder","fn","f2","_b","_a","val","_arrayFromIterator","_includesWith","_functionName","_objectIs","_uniqContentEquals","aIterator","bIterator","stackA","stackB","eq","aItem","typeA","valueOf","message","ignoreCase","multiline","sticky","unicode","idx","entries","values","keysA","extendedStackA","extendedStackB","next","list","done","pred","len","f","is","assertThisInitialized","moveBlockInContentState","ContentBlockRecord","AtomicBlockUtils","insertAtomicBlock","character","afterSplit","splitBlock","insertionTarget","asAtomicBlock","charData","atomicBlockConfig","atomicDividerBlockConfig","fragmentArray","fragment","withAtomicBlock","replaceWithFragment","moveAtomicBlock","atomicBlock","targetRange","insertionMode","withMovedAtomicBlock","targetBlock","selectionAfterRemoval","_targetBlock","selectionAfterSplit","_targetBlock2","ContentStateInlineStyle","modifyInlineStyle","addOrRemove","sliceStart","sliceEnd","applyStyle","removeStyle","applyEntityToContentBlock","contentBlock","startArg","DraftEntitySegments","getRangesForDraftEntity","getEntityRemovalRange","isEntireSelectionWithinEntity","isEntityAtStart","sideToConsider","entityRanges","entityRange","startEntityKey","endEntityKey","newSelectionState","startSelectionState","endSelectionState","_startSelectionState","_endSelectionState","selectionStart","selectionEnd","entityStart","segments","segment","segmentEnd","segmentStart","removalStart","removalEnd","entityEnd","atStart","atEnd","ranges","findEntityRanges","insertIntoList","randomizeBlockMapKeys","updateExistingBlock","fragmentBlock","targetKey","targetOffset","mergeBlockData","finalKey","finalOffset","newBlock","insertFragment","isTreeBasedBlockMap","newBlockArr","fragmentSize","shouldNotUpdateFromFragmentBlock","headText","headCharacters","appendToHead","updateHead","blockSize","tailText","tailCharacters","prependToTail","updateTail","updatedBlockMap","originalBlockMap","fragmentHeadBlock","headKey","targetNextKey","targetParentKey","fragmentRootBlocks","rootBlock","rootBlocks","lastSiblingKey","getRootBlocks","lastRootFragmentBlockKey","originalTargetParentChildKeys","insertionIndex","newChildrenKeysArray","splice","updateBlockMapLinks","fragmentBlockMap","blockText","newOffset","getNextDelimiterBlockKey","transformBlock","func","getAncestorsKeys","parents","getNextValidSibling","nextValidSiblingKey","getPrevValidSibling","prevValidSiblingKey","nextDelimiters","nextDelimiter","_block","getNextDelimitersBlockKeys","delimiterKey","prevSiblingKey","newParentKey","newParent","find","removeFromList","pop","isExperimentalTreeBlock","parentAncestors","endBlockchildrenKeys","endBlockAncestors","modifiedStart","modifyBlockForContentState","blockToSplit","keyBelow","blockAbove","blockBelow","blocksBefore","blocksAfter","originalBlock","belowBlock","originalBlockKey","belowBlockKey","newChildrenArray","returnTrue","LeafRange","DecoratorRange","of","leafSets","decorations","areEqual","generateLeaves","other","_objectWithoutPropertiesLoose","inlineStyles","getStyle","random","bidiService","UnicodeBidiService","prevBidiMap","reset","nextBidi","valueSeq","bidiMap","zip","defaultDir","_defaultDir","_lastDir","originalBlockToBeMoved","originalTargetBlock","isInsertedAfterTarget","originalTargetKey","originalParentKey","originalNextSiblingKey","originalPrevSiblingKey","newNextSiblingKey","newPrevSiblingKey","newParentChildrenList","targetBlockIndex","blockToBeMoved","blocksToBeMoved","blockMapWithoutBlocksToBeMoved","nextDelimiterBlockKey","takeWhile","isBlockToBeMoved","hasNextSiblingAndIsNotNextSibling","doesNotHaveNextSiblingAndIsNotDelimiter","slicedBlocks","CompositeDraftDecorator","decorators","_decorators","counter","strategy","canOccupySlice","targetArr","componentKey","occupySlice","parseInt","component","_inheritsLoose","DefaultDraftInlineStyle","DraftEditorCompositionHandler","DraftEditorContents","DraftEditorDragHandler","DraftEditorEditHandler","flushControlled","DraftEditorPlaceholder","DraftEffects","getDefaultKeyBinding","isIE","allowSpellCheck","handlerMap","edit","composite","drag","cut","didInitODS","UpdateDraftEditorFlags","_update","DraftEditor","_React$Component2","alreadyHasFocus","focus","blur","onPaste","onCut","onCopy","editHandler","handler","_handler","setMode","setState","contentsKey","clipboard","_clipboard","onChange","_dragCount","exitCurrentMode","_editorKey","editorKey","_placeholderAccessibilityID","_latestCommittedEditorState","_onBeforeInput","_buildHandler","_onBlur","_onCharacterData","_onCompositionEnd","_onCompositionStart","_onCopy","_onCut","_onDragEnd","_onDragOver","_onDragStart","_onDrop","_onInput","_onFocus","_onKeyDown","_onKeyPress","_onKeyUp","_onMouseDown","_onMouseUp","_onPaste","_onSelect","getEditorKey","_proto2","eventName","readOnly","method","_showPlaceholder","placeholder","_renderPlaceholder","placeHolderProps","textAlignment","accessibilityID","_renderARIADescribedBy","describedBy","ariaDescribedBy","placeholderID","blockRendererFn","blockStyleFn","textDirectionality","rootClass","ariaRole","role","ariaExpanded","editorContentsProps","_handleEditorContainerRef","ariaActiveDescendantID","ariaAutoComplete","ariaControls","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwneeID","autoCapitalize","autoComplete","autoCorrect","notranslate","contentEditable","webDriverTestID","onBeforeInput","onBlur","onCompositionEnd","onCompositionStart","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDragStart","onDrop","onFocus","onInput","onKeyDown","onKeyPress","onKeyUp","onMouseUp","onSelect","editorRef","spellCheck","outline","userSelect","WebkitUserSelect","whiteSpace","suppressContentEditableWarning","tabIndex","execCommand","keyBindingFn","stripPastedStyles","DOMObserver","editOnSelect","getEntityKeyForSelection","resolved","stillComposing","domObserver","startDOMObserver","setTimeout","resolveComposition","which","_editor","mutations","stopAndFlushMutations","composedChars","_DraftOffsetKey$decod","_editorState$getBlock","replacementRange","replaceText","compositionEndSelectionState","restoreEditorDOM","editorStateWithUpdatedSelection","getWindowForNode","DOM_OBSERVER_OPTIONS","subtree","characterData","childList","characterDataOldValue","USE_CHAR_DATA","container","containerWindow","MutationObserver","observer","registerMutations","onCharData","registerMutation","observe","addEventListener","takeRecords","disconnect","removeEventListener","getMutationTextContent","removedNodes","UAParser","UNKNOWN","PLATFORM_MAP","getResult","browserVersionData","version","major","minor","parts","getBrowserVersion","browser","uaData","browserArchitecture","cpu","architecture","browserFullVersion","browserMinorVersion","browserName","browserVersion","deviceName","device","model","engineName","engine","engineVersion","platformArchitecture","platformName","os","platformVersion","platformFullVersion","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","MODEL","NAME","TYPE","VENDOR","VERSION","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","util","extend","regexes","extensions","mergedRegexes","str1","str2","lowerize","mapper","rgx","ua","arrays","j","q","regex","maps","oldsafari","amazon","sprint","vendor","windows","uastring","navigator","userAgent","rgxmap","getBrowser","getCPU","getDevice","getEngine","getOS","getUA","setUA","BROWSER","MAJOR","CPU","DEVICE","EMBEDDED","ENGINE","OS","define","$","jQuery","Zepto","prop","componentRegex","orRegex","rangeRegex","modifierRegex","numericRegex","checkOrExpression","expressions","VersionRange","checkSimpleExpression","startVersion","endVersion","isSimpleVersion","checkRangeExpression","versionComponents","_getModifierAndCompon","getModifierAndComponents","modifier","rangeComponents","checkLessThan","compareComponents","checkLessThanOrEqual","checkGreaterThanOrEqual","lowerBound","upperBound","lastIndex","numeric","isNumber","checkApproximateVersion","checkEqual","number","isNaN","isFinite","zeroPad","array","compareNumeric","aPrefix","bPrefix","aNumeric","bNumeric","compare","_normalizeVersions","normalizeVersions","aNormalized","bNormalized","context","cache","string","DraftEditorBlockNode","DraftEditorContentsExperimental","prevEditorState","nextEditorState","nextNativeContent","wasComposing","nowComposing","prevContent","nextContent","prevDecorator","nextDecorator","processedBlocks","nodeBlock","blockProps","wrapperTemplate","nextBlockKey","outputBlocks","info","wrapperElement","cloneElement","DraftEditorNode","getDraftRenderConfig","configForType","Element","getCustomRenderConfig","customRenderer","CustomComponent","customProps","customEditable","editable","getElementPropsConfig","customConfig","elementProps","customClass","createRef","isContainerNode","blockHasChanged","wrapperRef","htmlBlockNode","acc","_getDraftRenderConfig","childProps","shouldNotAddWrapperElement","wrappedSiblings","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","sibling","err","childrenIs","applyWrapperElementToSiblings","DraftEditorDecoratedLeaves","Leaves","useNewlineChar","_forceFlag","shouldBeNewline","elementNode","tagName","isNewline","NEWLINE_B","getActiveElement","getCorrectDocumentFromNode","getAnonymizedDOM","getNodeLabels","anonymized","anonymizeTextWithin","outerHTML","labels","createTextNode","clone","cloneNode","setAttribute","appendChild","getAnonymizedEditorDOM","currentNode","hasAttribute","getNodeLength","nodeValue","addFocusToSelection","nodeWasFocus","activeElementName","nodeIsFocus","selectionRangeCount","selectionAnchorNodeName","selectionAnchorOffset","selectionFocusNodeName","selectionFocusOffset","getRangeAt","setEnd","addRange","addPointToSelection","createRange","process","nodeStart","nodeEnd","documentObject","getIsBackward","tempKey","tempOffset","hasAnchor","hasFocus","removeAllRanges","storedFocusNode","storedFocusOffset","isNode","camelize","hyphenate","asString","computedStyle","getComputedStyle","getPropertyValue","cssFloat","styleFloat","_hyphenPattern","toUpperCase","_uppercasePattern","elem","docElem","getBoundingClientRect","round","clientLeft","clientTop","isWebkit","scrollingElement","compatMode","scrollable","Window","pageXOffset","pageYOffset","joinClasses","getListItemClasses","shouldResetCount","blocksAsArray","lastWrapperTemplate","componentProps","_className","_ii","newClassName","argLength","nextClass","getTextContentFromFiles","isEventHandled","endDrag","nativeEvent","dataTransfer","dropSelection","eventTargetDocument","currentTarget","caretRangeFromPoint","dropRange","rangeParent","rangeOffset","getSelectionForEvent","handleDroppedFiles","fileText","insertTextAtSelection","dragType","_internalDrag","handleDrop","newContentState","moveText","mouseUpEvent","MouseEvent","view","bubbles","cancelable","dispatchEvent","mimeString","getParts","isJpeg","hasArrayNature","callee","ret","isChrome","isFirefox","selectionHandler","isSelectionAtLeafStart","setImmediate","_pendingStateFromBeforeInput","handleBeforeInput","timeStamp","mustPreventNative","oldBlockTree","newBlockTree","oldLeafSet","newLeafSet","oldStart","adjustedStart","oldEnd","adjustedEnd","newStart","newEnd","newDecoratorKey","blockTree","isAtStart","leafStart","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","attachTo","handle","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","messagePrefix","onGlobalMessage","attachEvent","installPostMessageImplementation","MessageChannel","channel","port1","port2","installMessageChannelImplementation","script","onreadystatechange","removeChild","installReadyStateChangeImplementation","Function","task","clearImmediate","run","Boolean","preserveSelectionOnBlur","_selection","currentSelection","getFragmentFromSelection","setClipboard","removeFragment","keyCommandPlainBackspace","isGecko","isEngine","domSelection","isNotTextOrElementNode","ELEMENT_NODE","previousSibling","span","domText","modelText","preserveEntity","abs","charDelta","contentWithAdjustedDOMSelection","inputType","onInputType","SecondaryClipboard","keyCommandBackspaceToStartOfLine","keyCommandBackspaceWord","keyCommandDeleteWord","keyCommandInsertNewline","keyCommandMoveSelectionToEndOfBlock","keyCommandMoveSelectionToStartOfBlock","keyCommandPlainDelete","keyCommandTransposeCharacters","keyCommandUndo","callDeprecatedHandler","handlerName","deprecatedHandler","handleReturn","ESC","TAB","UP","DOWN","SPACE","newState","paste","onKeyCommand","getModifierState","blockEnd","keyAfter","expandRangeToStartOfLine","areRectsOnOneLine","lineHeight","minTop","Infinity","minBottom","maxTop","maxBottom","DOCUMENT_TYPE_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","collapsed","containingElement","computed","correctDocument","div","fontSize","position","documentBody","getLineHeightPx","bestContainer","bestOffset","setStartBefore","display","currentContainer","maxIndexToConsider","isSurrogatePair","toRemove","moveSelectionForward","charAhead","finalSelection","movedFragment","afterInsert","updateFn","undoneState","DraftPasteProcessor","splitTextIntoTextBlocks","clipboardData","defaultFileText","handlePastedFiles","processText","withInsertedText","textBlocks","formatPastedText","_editor$props$formatP","handlePastedText","_html","internalClipboard","getClipboard","every","areTextBlocksAndClipboardEqual","htmlFragment","processHTML","htmlMap","textFragment","textMap","convertFromHTMLToContentBlocks","textLine","blockNodeConfig","prevSiblingIndex","_uri","adjustment","NEWLINE_REGEX","unstable_flushControlled","encodeEntityRanges","encodeInlineStyleRanges","createRawBlock","entityStorageMap","inlineStyleRanges","toObject","insertRawBlock","rawBlocks","blockCacheRef","rawBlock","rawDraftContentState","rawState","entityCacheRef","entityStorageKey","stringifiedEntityKey","encodeRawBlocks","rawEntityMap","encodeRawEntityMap","strlen","storageMap","encoded","Number","isTruthy","EMPTY_ARRAY","styleList","flatten","toSet","styleToEncode","filteredInlines","getEncodedInlinesForType","DraftTreeAdapter","createCharacterList","decodeEntityRanges","decodeInlineStyleRanges","decodeBlockNodeConfig","decodeCharacterList","rawEntityRanges","rawInlineStyleRanges","addKeyIfMissing","updateNodeStack","parentRef","nodesWithParentRef","decodeRawBlocks","isTreeRawBlock","fromRawStateToRawTreeState","contentBlockNode","siblings","_index","isValidBlock","_children","_contentBlockNode","decodeContentBlockNodes","decodeContentBlocks","fromRawTreeStateToRawState","rawEntityKey","_rawEntityMap$rawEnti","decodeRawEntityMap","isListBlock","draftTreeState","transformedBlocks","traverseInDepthOrder","addDepthToChildren","draftState","parentStack","isList","treeBlock","lastParent","DraftTreeInvariants","isConnectedTree","eligibleFirstNodes","nodesSeen","currentKey","visitedStack","childKeys","_firstNode","isValidTree","characterArray","substr","EMPTY_SET","styles","cursor","getRangeBoundingClientRect","boundingRect","_rects$","_rects$2","_draftJs","_encodeBlock","_blockEntities","_blockInlineStyles","_accumulateFunction","_blockTypeObjectFunction","_getBlockTags","_getNestedBlockTags","_defaultBlockHTML","defaultEntityToHTML","originalText","convertToHTML","_ref$styleToHTML","styleToHTML","_ref$blockToHTML","blockToHTML","_ref$entityToHTML","entityToHTML","getBlockHTML","__isMiddleware","convertToRaw","listStack","closeNestTags","openNestTags","blockHTMLResult","nest","blockToClose","nestEnd","nestStart","_blockToClose","reduceRight","nestedBlock","blockHTML","empty","res","nestBlock","encodeURIComponent","z","B","aa","ba","D","ca","da","ea","fa","ha","ia","ja","ka","for","E","F","displayName","$$typeof","_context","_render","_payload","_init","la","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ma","I","_threadCount","_currentValue2","J","Uint16Array","K","oa","pa","qa","ra","sa","M","h","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","N","va","wa","xlinkHref","xa","O","charCodeAt","substring","ya","ta","Aa","P","Q","R","S","T","U","V","W","Ba","memoizedState","queue","Ca","Da","Ea","Fa","Ga","dispatch","delete","action","Ha","Ia","Ja","X","Ka","readContext","threadID","useContext","useMemo","useReducer","useRef","useState","useLayoutEffect","useCallback","useImperativeHandle","useEffect","useDebugValue","useDeferredValue","useTransition","useOpaqueIdentifier","identifierPrefix","uniqueID","useMutableSource","_source","La","Ma","Na","area","base","br","col","embed","hr","img","keygen","link","meta","param","track","wbr","Oa","menuitem","Y","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","lineClamp","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","Pa","charAt","Qa","Ra","Z","Sa","ReactCurrentDispatcher","Ta","listing","pre","textarea","Ua","Va","Wa","Ya","Za","dangerouslySetInnerHTML","suppressHydrationWarning","$a","ab","isReactComponent","contextType","contextTypes","na","g","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","getDerivedStateFromProps","updater","UNSAFE_componentWillMount","componentWillMount","H","getChildContext","childContextTypes","A","bb","domNamespace","childIndex","footer","exhausted","currentSelectValue","previousWasTextNode","makeStaticMarkup","suspenseDepth","contextIndex","contextStack","contextValueStack","destroy","clearProviders","pushProvider","popProvider","read","L","G","C","fallbackFrame","then","renderDOM","defaultChecked","defaultValue","checked","Xa","selected","w","cb","__html","renderToNodeStream","renderToStaticNodeStream","renderToString","_toConsumableArray2","_updateMutation","_rangeSort","ENTITY_MAP","sort","resultText","_loop","_char","resultIndex","updateForChar","_getElementHTML","_getElementTagLength","converter","entityConverter","getEntityHTML","entityHTML","elementHTML","converted","updateLaterMutations","mutationList","mutationIndex","updatedMutation","updateLaterMutation","_default","getElementTagLength","splitElement","_styleObjectFunction","_defaultInlineHTML","subtractStyles","original","el","elToRemove","popEndingStyles","styleStack","endingStyles","styleToRemove","characterStyles","rangeIsSubset","firstRange","secondRange","secondStartWithinFirst","secondEndWithinFirst","latestStyleLast","s1","s2","getStylesToReset","remainingStyles","appendStartMarkup","inlineHTML","styleRange","prependEndMarkup","defaultCustomInlineHTML","customInlineHTML","sortedRanges","originalTextArray","resetStyles","openingStyles","openingStyleTags","endingStyleTags","openStyle","typeObject","_splitReactElement3","_splitReactElement2","ORDERED_LIST_TYPES","paragraph","media","blockTags","inlineTags","handleMiddleware","maybeMiddleware","defaultHTMLToBlock","lastList","defaultHTMLToStyle","defaultHTMLToEntity","defaultTextToEntity","getSoftNewlineChunk","flat","inlines","getBlockDividerChunk","getBlockTypeForTag","baseCheckBlockType","processInlineTag","styleToCheck","toOrderedSet","HTMLElement","baseProcessInlineTag","joinChunks","firstInB","lastInA","adjacentDividers","isJoiningBlocks","addingNewlineToEmptyBlock","genFragment","inBlock","fragmentBlockTags","processCustomInlineStyles","checkEntityNode","checkEntityText","checkBlockType","options","inEntity","nextBlockType","getWhitespaceChunk","offsetChange","adjustedOffset","textArray","_blockType","chunk","blockDataMap","blockInfo","listItemBlockType","entityId","newBlockInfo","newBlockType","newBlockData","getChunkForHTML","workingBlocks","containsSemanticBlockMarkup","convertFromHTMLtoContentBlocks","generateKey","textBlock","blockIndex","entityIndex","convertFromHTML","_ref2","_ref2$htmlToStyle","htmlToStyle","_ref2$htmlToEntity","htmlToEntity","_ref2$textToEntity","textToEntity","_ref2$htmlToBlock","htmlToBlock","genKey","createEntityWithContentState","_contentState","Entity","getEntityWithContentState","_contentState2","mergeEntityDataWithContentState","_contentState3","mergeData","replaceEntityDataWithContentState","_contentState4","replaceData","firstBlockKey","withEnhance","aria-hidden","viewBox","StyleButton","active","icon","label","onToggle","onMouseDown","aria-label","BLOCK_TYPES","__","HEADING_BLOCK_TYPES","INLINE_STYLES","iconMapping","Blockquote","EditorQuote","OL","EditorOl","UL","EditorUl","BlockStyleControls","Icon","noMargin","rootProps","HeadingControls","Select","onChangeValue","InlineStyleControls","ToolbarControls","onToggleBlockType","onToggleInlineStyle","getBlockStyle","styleMap","backgroundColor","padding","RichTextEditor","markup","refs","_handleKeyCommand","_toggleBlockType","_toggleInlineStyle","RichUtils","isTabKey","onClick","WrappedComponent","WithEnhance","forwardedRef","ForwardedComponentWithEnhance","forwardRef","f1","applyEntityToContentState","getCharacterRemovalRange","insertFragmentIntoContentState","insertTextIntoContentState","removeEntitiesAtEdges","removeRangeFromContentState","splitBlockInContentState","rangeToReplace","withoutEntities","withoutText","rangeToRemove","removalDirection","adjustedRemovalRange","setBlockData","blockData","UserAgentData","mapObject","memoizeStringOnly","query","normalizer","startsWith","normalizePlatformVersion","isBrowserArchitecture","isDevice","isPlatformArchitecture","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","_indexOf","propIsEnumerable","propertyIsEnumerable","test1","getOwnPropertyNames","test2","fromCharCode","test3","letter","shouldUseNative","symbols","to","defaultRecord","_CharacterMetadataRec","hasStyle","record","withStyle","withoutStyle","withEntity","configMap","existing","pool","newCharacter","haveEqualStyle","charA","charB","haveEqualEntity","decorateCharacterList","findStyleRanges","filterFn","inf","_defineProperties","descriptor","Constructor","protoProps","staticProps","RawDraftContentState","convertFromDraftStateToRaw","convertFromRawToDraftState","getVisibleSelectionRect","DraftPublic","Editor","EditorBlock","CompositeDecorator","EntityInstance","Modifier","convertFromRaw","seenKeys","MULTIPLIER","pow","floor","LabelPosition","KEY_DELIMITER","_offsetKey$split$reve","_includes","__DRAFT_GKX","_ContentBlockRecord","SURROGATE_UNITS_REGEX","isCodeUnitInSurrogateRange","codeUnit","hasSurrogateUnit","pos","posA","posB","getCodePoints","codePoints","codePointAt","second","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","marker","runClearTimeout","Item","noop","title","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","WithLabel","labelClassName","labelPosition","TOP_LEFT","htmlFor","ForwardedComponentWithLabel","condition","format","error","argIndex","framesToPop","arr2","minLen","_setPrototypeOf","haystack","areEqualFn","foundFn","nextValue","nextIndex","anchorBlock","anchorBlockSibling","eventHasKey","eventKeyIn","isEnterKey","isEscapeKey","isLeftKey","isRightKey","blockKeys","startIndex","endIndex","uuid","instances","instanceKey","logWarning","oldMethodCall","newMethodCall","console","warn","newInstance","_SelectionStateRecord","serialize","offsetToCheck","globalDir","getHTMLDir","setGlobalDir","otherDir","initGlobalDir","searchNode","ALT","PAGE_UP","PAGE_DOWN","END","HOME","COMMA","PERIOD","ZERO","NUMPAD_0","NUMPAD_9","_isNodeScrollable","overflow","parentWindow","getDocumentScrollElement","getUnboundedScrollPosition","documentScrollElement","viewport","xMax","scrollWidth","yMax","scrollHeight","r1","r2","VOID_TAGS","objectWithoutPropertiesLoose","sourceSymbolKeys","hasEnumBug","nonEnumerableProps","hasArgsEnumBug","nIdx","ks","checkArgsLength","SLICE$0","createClass","ctor","Iterable","isIterable","Seq","KeyedIterable","isKeyed","KeyedSeq","IndexedIterable","isIndexed","IndexedSeq","SetIterable","isAssociative","SetSeq","maybeIterable","IS_ITERABLE_SENTINEL","maybeKeyed","IS_KEYED_SENTINEL","maybeIndexed","IS_INDEXED_SENTINEL","maybeAssociative","isOrdered","maybeOrdered","IS_ORDERED_SENTINEL","Keyed","Indexed","Set","SHIFT","SIZE","MASK","NOT_SET","CHANGE_LENGTH","DID_ALTER","MakeRef","SetRef","OwnerID","arrCopy","newArr","ensureSize","__iterate","wrapIndex","uint32Index","NaN","wholeSlice","resolveBegin","resolveIndex","resolveEnd","defaultIndex","ITERATE_KEYS","ITERATE_VALUES","ITERATE_ENTRIES","REAL_ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","ITERATOR_SYMBOL","Iterator","iteratorValue","iteratorResult","iteratorDone","hasIterator","getIteratorFn","isIterator","maybeIterator","getIterator","iterable","iteratorFn","isArrayLike","emptySequence","seqFromValue","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","entrySeq","toIndexedSeq","indexedSeqFromValue","toSetSeq","KEYS","VALUES","ENTRIES","inspect","toSource","__toString","cacheResult","_cache","__iterateUncached","seqIterate","__iterator","seqIterator","isSeq","EMPTY_SEQ","EMPTY_REPEAT","EMPTY_RANGE","IS_SEQ_SENTINEL","ArraySeq","_array","ObjectSeq","_object","_keys","IterableSeq","_iterable","IteratorSeq","_iteratorCache","maybeSeq","seq","maybeIndexedSeqFromValue","useKeys","maxIndex","entry","__iteratorUncached","json","fromJSWith","fromJSDefault","parentJSON","isPlainObj","toMap","valueA","valueB","deepEqual","__hash","notAssociative","flipped","allEqual","bSize","times","_value","Range","step","ceil","Collection","KeyedCollection","IndexedCollection","SetCollection","notSetValue","iterations","searchValue","lastIndexOf","this$0","possibleIndex","offsetValue","imul","smi","i32","hash","STRING_HASH_CACHE_MIN_STRLEN","cachedHashString","hashString","hashCode","hashJSObj","stringHashCache","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","getIENodeHash","objHashUID","isExtensible","WeakMap","assertNotInfinite","emptyMap","isMap","maybeMap","IS_MAP_SENTINEL","_root","updateMap","keyPath","updateIn","deleteIn","updatedValue","updateInDeepMap","forceIterator","__ownerID","__altered","mergeIntoMapWith","mergeWith","merger","mergeIn","iters","mergeDeep","deepMerger","mergeDeepWith","deepMergerWith","mergeDeepIn","comparator","sortFactory","sortBy","mutable","asMutable","wasAltered","__ensureOwner","asImmutable","MapIterator","iterate","ownerID","makeMap","EMPTY_MAP","MapPrototype","ArrayMapNode","BitmapIndexedNode","bitmap","HashArrayMapNode","HashCollisionNode","keyHash","ValueNode","_type","_reverse","_stack","mapIteratorFrame","mapIteratorValue","prev","__prev","newRoot","newSize","didChangeSize","didAlter","updateNode","isLeafNode","mergeIntoNode","newNode","idx1","idx2","createNodes","packNodes","excluding","packedII","packedNodes","bit","expandNodes","including","expandedNodes","iterables","mergeIntoCollectionWith","collection","mergeIntoMap","keyPathIter","isNotSet","existingValue","newValue","nextExisting","nextUpdated","popCount","canEdit","newArray","spliceIn","newLen","after","spliceOut","removeIn","removed","exists","MAX_ARRAY_MAP_SIZE","isEditable","newEntries","keyHashFrag","MAX_BITMAP_INDEXED_SIZE","newBitmap","newNodes","newCount","MIN_HASH_ARRAY_MAP_SIZE","keyMatch","subNode","emptyList","makeList","VNode","setSize","maybeList","IS_LIST_SENTINEL","listNodeFor","_origin","updateList","insert","_capacity","_level","_tail","oldSize","setListBounds","mergeIntoListWith","iterateList","DONE","ListPrototype","removeBefore","level","originIndex","newChild","removingFirst","oldChild","editableVNode","removeAfter","sizeIndex","EMPTY_LIST","EMPTY_ORDERED_MAP","tailPos","getTailOffset","iterateNodeOrLeaf","iterateLeaf","iterateNode","origin","capacity","newTail","updateVNode","nodeHas","lowerNode","newLowerNode","rawIndex","owner","oldOrigin","oldCapacity","newOrigin","newCapacity","newLevel","offsetShift","oldTailOffset","newTailOffset","oldTail","beginIndex","maxSize","emptyOrderedMap","isOrderedMap","maybeOrderedMap","makeOrderedMap","omap","_map","_list","updateOrderedMap","newMap","newList","flip","ToKeyedSequence","indexed","_iter","_useKeys","ToIndexedSequence","ToSetSequence","FromEntriesSequence","flipFactory","flipSequence","makeSequence","reversedSequence","cacheResultThrough","mapFactory","mappedSequence","reverseFactory","filterFactory","predicate","filterSequence","countByFactory","grouper","groups","groupByFactory","isKeyedIter","coerce","iterableClass","reify","sliceFactory","originalSize","resolvedBegin","resolvedEnd","sliceSize","resolvedSize","sliceSeq","skipped","isSkipping","takeWhileFactory","takeSequence","iterating","skipWhileFactory","skipSequence","skipping","concatFactory","isKeyedIterable","singleton","concatSeq","sum","flattenFactory","flatSequence","stopped","flatDeep","flatMapFactory","interposeFactory","separator","interposedSequence","defaultComparator","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipSequence","iterators","isDone","steps","validateEntry","resolveSize","defaultValues","hasInitialized","RecordType","setProps","RecordTypePrototype","_name","_defaultValues","RecordPrototype","indexedIterable","recordName","defaultVal","_empty","makeRecord","likeRecord","names","setProp","emptySet","isSet","maybeSet","IS_SET_SENTINEL","fromKeys","updateSet","union","intersect","originalSet","subtract","__make","SetPrototype","__empty","makeSet","emptyOrderedSet","isOrderedSet","maybeOrderedSet","EMPTY_ORDERED_SET","OrderedSetPrototype","makeOrderedSet","emptyStack","isStack","unshiftAll","maybeStack","IS_STACK_SENTINEL","_head","makeStack","pushAll","EMPTY_STACK","StackPrototype","mixin","methods","keyCopier","__toJS","toJSON","toStack","__toStringMapper","returnValue","found","findLastEntry","sideEffect","joined","isFirst","reducer","initialReduction","reduction","useFirst","reversed","not","butLast","countBy","entriesSequence","entryMapper","filterNot","findLast","searchKey","searchKeyPath","nested","groupBy","hasIn","isSubset","isSuperset","keyMapper","maxBy","neg","defaultNegComparator","minBy","amount","skipLast","take","takeLast","hashIterable","IterablePrototype","quoteString","chain","noLengthWarning","findKey","findLastKey","keyOf","lastKeyOf","mapEntries","KeyedIterablePrototype","defaultZipper","ordered","keyed","murmurHashOfSize","hashMerge","findIndex","removeNum","numArgs","spliced","findLastIndex","interpose","interleave","zipped","interleaved","zipWith","factory","validateFormat"],"mappings":"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","file":"static/js/richTextEditor.6cb1468f.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2520);\n","(function() { module.exports = this[\"React\"]; }());","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar BlockMapBuilder = require(\"./BlockMapBuilder\");\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar ContentBlock = require(\"./ContentBlock\");\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar DraftEntity = require(\"./DraftEntity\");\n\nvar SelectionState = require(\"./SelectionState\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getOwnObjectValues = require(\"./getOwnObjectValues\");\n\nvar gkx = require(\"./gkx\");\n\nvar Immutable = require(\"immutable\");\n\nvar sanitizeDraftText = require(\"./sanitizeDraftText\");\n\nvar List = Immutable.List,\n    Record = Immutable.Record,\n    Repeat = Immutable.Repeat,\n    ImmutableMap = Immutable.Map,\n    OrderedMap = Immutable.OrderedMap;\nvar defaultRecord = {\n  entityMap: null,\n  blockMap: null,\n  selectionBefore: null,\n  selectionAfter: null\n};\nvar ContentStateRecord = Record(defaultRecord);\n/* $FlowFixMe[signature-verification-failure] Supressing a `signature-\n * verification-failure` error here. TODO: T65949050 Clean up the branch for\n * this GK */\n\nvar ContentBlockNodeRecord = gkx('draft_tree_data_support') ? ContentBlockNode : ContentBlock;\n\nvar ContentState = /*#__PURE__*/function (_ContentStateRecord) {\n  _inheritsLoose(ContentState, _ContentStateRecord);\n\n  function ContentState() {\n    return _ContentStateRecord.apply(this, arguments) || this;\n  }\n\n  var _proto = ContentState.prototype;\n\n  _proto.getEntityMap = function getEntityMap() {\n    // TODO: update this when we fully remove DraftEntity\n    return DraftEntity;\n  };\n\n  _proto.getBlockMap = function getBlockMap() {\n    return this.get('blockMap');\n  };\n\n  _proto.getSelectionBefore = function getSelectionBefore() {\n    return this.get('selectionBefore');\n  };\n\n  _proto.getSelectionAfter = function getSelectionAfter() {\n    return this.get('selectionAfter');\n  };\n\n  _proto.getBlockForKey = function getBlockForKey(key) {\n    var block = this.getBlockMap().get(key);\n    return block;\n  };\n\n  _proto.getKeyBefore = function getKeyBefore(key) {\n    return this.getBlockMap().reverse().keySeq().skipUntil(function (v) {\n      return v === key;\n    }).skip(1).first();\n  };\n\n  _proto.getKeyAfter = function getKeyAfter(key) {\n    return this.getBlockMap().keySeq().skipUntil(function (v) {\n      return v === key;\n    }).skip(1).first();\n  };\n\n  _proto.getBlockAfter = function getBlockAfter(key) {\n    return this.getBlockMap().skipUntil(function (_, k) {\n      return k === key;\n    }).skip(1).first();\n  };\n\n  _proto.getBlockBefore = function getBlockBefore(key) {\n    return this.getBlockMap().reverse().skipUntil(function (_, k) {\n      return k === key;\n    }).skip(1).first();\n  };\n\n  _proto.getBlocksAsArray = function getBlocksAsArray() {\n    return this.getBlockMap().toArray();\n  };\n\n  _proto.getFirstBlock = function getFirstBlock() {\n    return this.getBlockMap().first();\n  };\n\n  _proto.getLastBlock = function getLastBlock() {\n    return this.getBlockMap().last();\n  };\n\n  _proto.getPlainText = function getPlainText(delimiter) {\n    return this.getBlockMap().map(function (block) {\n      return block ? block.getText() : '';\n    }).join(delimiter || '\\n');\n  };\n\n  _proto.getLastCreatedEntityKey = function getLastCreatedEntityKey() {\n    // TODO: update this when we fully remove DraftEntity\n    return DraftEntity.__getLastCreatedEntityKey();\n  };\n\n  _proto.hasText = function hasText() {\n    var blockMap = this.getBlockMap();\n    return blockMap.size > 1 || // make sure that there are no zero width space chars\n    escape(blockMap.first().getText()).replace(/%u200B/g, '').length > 0;\n  };\n\n  _proto.createEntity = function createEntity(type, mutability, data) {\n    // TODO: update this when we fully remove DraftEntity\n    DraftEntity.__create(type, mutability, data);\n\n    return this;\n  };\n\n  _proto.mergeEntityData = function mergeEntityData(key, toMerge) {\n    // TODO: update this when we fully remove DraftEntity\n    DraftEntity.__mergeData(key, toMerge);\n\n    return this;\n  };\n\n  _proto.replaceEntityData = function replaceEntityData(key, newData) {\n    // TODO: update this when we fully remove DraftEntity\n    DraftEntity.__replaceData(key, newData);\n\n    return this;\n  };\n\n  _proto.addEntity = function addEntity(instance) {\n    // TODO: update this when we fully remove DraftEntity\n    DraftEntity.__add(instance);\n\n    return this;\n  };\n\n  _proto.getEntity = function getEntity(key) {\n    // TODO: update this when we fully remove DraftEntity\n    return DraftEntity.__get(key);\n  };\n\n  _proto.getAllEntities = function getAllEntities() {\n    return DraftEntity.__getAll();\n  };\n\n  _proto.loadWithEntities = function loadWithEntities(entities) {\n    return DraftEntity.__loadWithEntities(entities);\n  };\n\n  ContentState.createFromBlockArray = function createFromBlockArray( // TODO: update flow type when we completely deprecate the old entity API\n  blocks, entityMap) {\n    // TODO: remove this when we completely deprecate the old entity API\n    var theBlocks = Array.isArray(blocks) ? blocks : blocks.contentBlocks;\n    var blockMap = BlockMapBuilder.createFromArray(theBlocks);\n    var selectionState = blockMap.isEmpty() ? new SelectionState() : SelectionState.createEmpty(blockMap.first().getKey());\n    return new ContentState({\n      blockMap: blockMap,\n      entityMap: entityMap || DraftEntity,\n      selectionBefore: selectionState,\n      selectionAfter: selectionState\n    });\n  };\n\n  ContentState.createFromText = function createFromText(text) {\n    var delimiter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : /\\r\\n?|\\n/g;\n    var strings = text.split(delimiter);\n    var blocks = strings.map(function (block) {\n      block = sanitizeDraftText(block);\n      return new ContentBlockNodeRecord({\n        key: generateRandomKey(),\n        text: block,\n        type: 'unstyled',\n        characterList: List(Repeat(CharacterMetadata.EMPTY, block.length))\n      });\n    });\n    return ContentState.createFromBlockArray(blocks);\n  };\n\n  ContentState.fromJS = function fromJS(state) {\n    return new ContentState(_objectSpread({}, state, {\n      blockMap: OrderedMap(state.blockMap).map(ContentState.createContentBlockFromJS),\n      selectionBefore: new SelectionState(state.selectionBefore),\n      selectionAfter: new SelectionState(state.selectionAfter)\n    }));\n  };\n\n  ContentState.createContentBlockFromJS = function createContentBlockFromJS(block) {\n    var characterList = block.characterList;\n    return new ContentBlockNodeRecord(_objectSpread({}, block, {\n      data: ImmutableMap(block.data),\n      characterList: characterList != null ? List((Array.isArray(characterList) ? characterList : getOwnObjectValues(characterList)).map(function (c) {\n        return CharacterMetadata.fromJS(c);\n      })) : undefined\n    }));\n  };\n\n  return ContentState;\n}(ContentStateRecord);\n\nmodule.exports = ContentState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n * \n */\n\n/**\n * Basic (stateless) API for text direction detection\n *\n * Part of our implementation of Unicode Bidirectional Algorithm (UBA)\n * Unicode Standard Annex #9 (UAX9)\n * http://www.unicode.org/reports/tr9/\n */\n'use strict';\n\nvar UnicodeBidiDirection = require(\"./UnicodeBidiDirection\");\n\nvar invariant = require(\"./invariant\");\n\n/**\n * RegExp ranges of characters with a *Strong* Bidi_Class value.\n *\n * Data is based on DerivedBidiClass.txt in UCD version 7.0.0.\n *\n * NOTE: For performance reasons, we only support Unicode's\n *       Basic Multilingual Plane (BMP) for now.\n */\nvar RANGE_BY_BIDI_TYPE = {\n  L: \"A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u01BA\\u01BB\" + \"\\u01BC-\\u01BF\\u01C0-\\u01C3\\u01C4-\\u0293\\u0294\\u0295-\\u02AF\\u02B0-\\u02B8\" + \"\\u02BB-\\u02C1\\u02D0-\\u02D1\\u02E0-\\u02E4\\u02EE\\u0370-\\u0373\\u0376-\\u0377\" + \"\\u037A\\u037B-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\" + \"\\u03A3-\\u03F5\\u03F7-\\u0481\\u0482\\u048A-\\u052F\\u0531-\\u0556\\u0559\" + \"\\u055A-\\u055F\\u0561-\\u0587\\u0589\\u0903\\u0904-\\u0939\\u093B\\u093D\" + \"\\u093E-\\u0940\\u0949-\\u094C\\u094E-\\u094F\\u0950\\u0958-\\u0961\\u0964-\\u0965\" + \"\\u0966-\\u096F\\u0970\\u0971\\u0972-\\u0980\\u0982-\\u0983\\u0985-\\u098C\" + \"\\u098F-\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\" + \"\\u09BE-\\u09C0\\u09C7-\\u09C8\\u09CB-\\u09CC\\u09CE\\u09D7\\u09DC-\\u09DD\" + \"\\u09DF-\\u09E1\\u09E6-\\u09EF\\u09F0-\\u09F1\\u09F4-\\u09F9\\u09FA\\u0A03\" + \"\\u0A05-\\u0A0A\\u0A0F-\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32-\\u0A33\" + \"\\u0A35-\\u0A36\\u0A38-\\u0A39\\u0A3E-\\u0A40\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A6F\" + \"\\u0A72-\\u0A74\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\" + \"\\u0AB2-\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0ABE-\\u0AC0\\u0AC9\\u0ACB-\\u0ACC\\u0AD0\" + \"\\u0AE0-\\u0AE1\\u0AE6-\\u0AEF\\u0AF0\\u0B02-\\u0B03\\u0B05-\\u0B0C\\u0B0F-\\u0B10\" + \"\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32-\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B3E\\u0B40\" + \"\\u0B47-\\u0B48\\u0B4B-\\u0B4C\\u0B57\\u0B5C-\\u0B5D\\u0B5F-\\u0B61\\u0B66-\\u0B6F\" + \"\\u0B70\\u0B71\\u0B72-\\u0B77\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\" + \"\\u0B99-\\u0B9A\\u0B9C\\u0B9E-\\u0B9F\\u0BA3-\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\" + \"\\u0BBE-\\u0BBF\\u0BC1-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD0\\u0BD7\" + \"\\u0BE6-\\u0BEF\\u0BF0-\\u0BF2\\u0C01-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\" + \"\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C41-\\u0C44\\u0C58-\\u0C59\\u0C60-\\u0C61\" + \"\\u0C66-\\u0C6F\\u0C7F\\u0C82-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\" + \"\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CBE\\u0CBF\\u0CC0-\\u0CC4\\u0CC6\" + \"\\u0CC7-\\u0CC8\\u0CCA-\\u0CCB\\u0CD5-\\u0CD6\\u0CDE\\u0CE0-\\u0CE1\\u0CE6-\\u0CEF\" + \"\\u0CF1-\\u0CF2\\u0D02-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\" + \"\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D4E\\u0D57\\u0D60-\\u0D61\" + \"\\u0D66-\\u0D6F\\u0D70-\\u0D75\\u0D79\\u0D7A-\\u0D7F\\u0D82-\\u0D83\\u0D85-\\u0D96\" + \"\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\" + \"\\u0DE6-\\u0DEF\\u0DF2-\\u0DF3\\u0DF4\\u0E01-\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E45\" + \"\\u0E46\\u0E4F\\u0E50-\\u0E59\\u0E5A-\\u0E5B\\u0E81-\\u0E82\\u0E84\\u0E87-\\u0E88\" + \"\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\" + \"\\u0EAA-\\u0EAB\\u0EAD-\\u0EB0\\u0EB2-\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\" + \"\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F01-\\u0F03\\u0F04-\\u0F12\\u0F13\\u0F14\" + \"\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F20-\\u0F29\\u0F2A-\\u0F33\\u0F34\\u0F36\\u0F38\" + \"\\u0F3E-\\u0F3F\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F7F\\u0F85\\u0F88-\\u0F8C\" + \"\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE-\\u0FCF\\u0FD0-\\u0FD4\\u0FD5-\\u0FD8\" + \"\\u0FD9-\\u0FDA\\u1000-\\u102A\\u102B-\\u102C\\u1031\\u1038\\u103B-\\u103C\\u103F\" + \"\\u1040-\\u1049\\u104A-\\u104F\\u1050-\\u1055\\u1056-\\u1057\\u105A-\\u105D\\u1061\" + \"\\u1062-\\u1064\\u1065-\\u1066\\u1067-\\u106D\\u106E-\\u1070\\u1075-\\u1081\" + \"\\u1083-\\u1084\\u1087-\\u108C\\u108E\\u108F\\u1090-\\u1099\\u109A-\\u109C\" + \"\\u109E-\\u109F\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FB\\u10FC\" + \"\\u10FD-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\" + \"\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\" + \"\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1360-\\u1368\" + \"\\u1369-\\u137C\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166D-\\u166E\" + \"\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EB-\\u16ED\\u16EE-\\u16F0\" + \"\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1735-\\u1736\" + \"\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17B6\\u17BE-\\u17C5\" + \"\\u17C7-\\u17C8\\u17D4-\\u17D6\\u17D7\\u17D8-\\u17DA\\u17DC\\u17E0-\\u17E9\" + \"\\u1810-\\u1819\\u1820-\\u1842\\u1843\\u1844-\\u1877\\u1880-\\u18A8\\u18AA\" + \"\\u18B0-\\u18F5\\u1900-\\u191E\\u1923-\\u1926\\u1929-\\u192B\\u1930-\\u1931\" + \"\\u1933-\\u1938\\u1946-\\u194F\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\" + \"\\u19B0-\\u19C0\\u19C1-\\u19C7\\u19C8-\\u19C9\\u19D0-\\u19D9\\u19DA\\u1A00-\\u1A16\" + \"\\u1A19-\\u1A1A\\u1A1E-\\u1A1F\\u1A20-\\u1A54\\u1A55\\u1A57\\u1A61\\u1A63-\\u1A64\" + \"\\u1A6D-\\u1A72\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1AA0-\\u1AA6\\u1AA7\\u1AA8-\\u1AAD\" + \"\\u1B04\\u1B05-\\u1B33\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B44\\u1B45-\\u1B4B\" + \"\\u1B50-\\u1B59\\u1B5A-\\u1B60\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u1B82\\u1B83-\\u1BA0\" + \"\\u1BA1\\u1BA6-\\u1BA7\\u1BAA\\u1BAE-\\u1BAF\\u1BB0-\\u1BB9\\u1BBA-\\u1BE5\\u1BE7\" + \"\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1BF3\\u1BFC-\\u1BFF\\u1C00-\\u1C23\\u1C24-\\u1C2B\" + \"\\u1C34-\\u1C35\\u1C3B-\\u1C3F\\u1C40-\\u1C49\\u1C4D-\\u1C4F\\u1C50-\\u1C59\" + \"\\u1C5A-\\u1C77\\u1C78-\\u1C7D\\u1C7E-\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u1CE1\" + \"\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF2-\\u1CF3\\u1CF5-\\u1CF6\\u1D00-\\u1D2B\" + \"\\u1D2C-\\u1D6A\\u1D6B-\\u1D77\\u1D78\\u1D79-\\u1D9A\\u1D9B-\\u1DBF\\u1E00-\\u1F15\" + \"\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\" + \"\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\" + \"\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200E\" + \"\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\" + \"\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2134\\u2135-\\u2138\\u2139\" + \"\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u214F\\u2160-\\u2182\\u2183-\\u2184\" + \"\\u2185-\\u2188\\u2336-\\u237A\\u2395\\u249C-\\u24E9\\u26AC\\u2800-\\u28FF\" + \"\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C7B\\u2C7C-\\u2C7D\\u2C7E-\\u2CE4\" + \"\\u2CEB-\\u2CEE\\u2CF2-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\" + \"\\u2D70\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\" + \"\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3005\\u3006\\u3007\" + \"\\u3021-\\u3029\\u302E-\\u302F\\u3031-\\u3035\\u3038-\\u303A\\u303B\\u303C\" + \"\\u3041-\\u3096\\u309D-\\u309E\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FE\\u30FF\" + \"\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u3191\\u3192-\\u3195\\u3196-\\u319F\" + \"\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3200-\\u321C\\u3220-\\u3229\\u322A-\\u3247\" + \"\\u3248-\\u324F\\u3260-\\u327B\\u327F\\u3280-\\u3289\\u328A-\\u32B0\\u32C0-\\u32CB\" + \"\\u32D0-\\u32FE\\u3300-\\u3376\\u337B-\\u33DD\\u33E0-\\u33FE\\u3400-\\u4DB5\" + \"\\u4E00-\\u9FCC\\uA000-\\uA014\\uA015\\uA016-\\uA48C\\uA4D0-\\uA4F7\\uA4F8-\\uA4FD\" + \"\\uA4FE-\\uA4FF\\uA500-\\uA60B\\uA60C\\uA610-\\uA61F\\uA620-\\uA629\\uA62A-\\uA62B\" + \"\\uA640-\\uA66D\\uA66E\\uA680-\\uA69B\\uA69C-\\uA69D\\uA6A0-\\uA6E5\\uA6E6-\\uA6EF\" + \"\\uA6F2-\\uA6F7\\uA722-\\uA76F\\uA770\\uA771-\\uA787\\uA789-\\uA78A\\uA78B-\\uA78E\" + \"\\uA790-\\uA7AD\\uA7B0-\\uA7B1\\uA7F7\\uA7F8-\\uA7F9\\uA7FA\\uA7FB-\\uA801\" + \"\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA823-\\uA824\\uA827\\uA830-\\uA835\" + \"\\uA836-\\uA837\\uA840-\\uA873\\uA880-\\uA881\\uA882-\\uA8B3\\uA8B4-\\uA8C3\" + \"\\uA8CE-\\uA8CF\\uA8D0-\\uA8D9\\uA8F2-\\uA8F7\\uA8F8-\\uA8FA\\uA8FB\\uA900-\\uA909\" + \"\\uA90A-\\uA925\\uA92E-\\uA92F\\uA930-\\uA946\\uA952-\\uA953\\uA95F\\uA960-\\uA97C\" + \"\\uA983\\uA984-\\uA9B2\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BD-\\uA9C0\\uA9C1-\\uA9CD\" + \"\\uA9CF\\uA9D0-\\uA9D9\\uA9DE-\\uA9DF\\uA9E0-\\uA9E4\\uA9E6\\uA9E7-\\uA9EF\" + \"\\uA9F0-\\uA9F9\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA2F-\\uAA30\\uAA33-\\uAA34\" + \"\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA4D\\uAA50-\\uAA59\\uAA5C-\\uAA5F\\uAA60-\\uAA6F\" + \"\\uAA70\\uAA71-\\uAA76\\uAA77-\\uAA79\\uAA7A\\uAA7B\\uAA7D\\uAA7E-\\uAAAF\\uAAB1\" + \"\\uAAB5-\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADC\\uAADD\\uAADE-\\uAADF\" + \"\\uAAE0-\\uAAEA\\uAAEB\\uAAEE-\\uAAEF\\uAAF0-\\uAAF1\\uAAF2\\uAAF3-\\uAAF4\\uAAF5\" + \"\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\" + \"\\uAB30-\\uAB5A\\uAB5B\\uAB5C-\\uAB5F\\uAB64-\\uAB65\\uABC0-\\uABE2\\uABE3-\\uABE4\" + \"\\uABE6-\\uABE7\\uABE9-\\uABEA\\uABEB\\uABEC\\uABF0-\\uABF9\\uAC00-\\uD7A3\" + \"\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uE000-\\uF8FF\\uF900-\\uFA6D\\uFA70-\\uFAD9\" + \"\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFF6F\\uFF70\" + \"\\uFF71-\\uFF9D\\uFF9E-\\uFF9F\\uFFA0-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\" + \"\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC\",\n  R: \"\\u0590\\u05BE\\u05C0\\u05C3\\u05C6\\u05C8-\\u05CF\\u05D0-\\u05EA\\u05EB-\\u05EF\" + \"\\u05F0-\\u05F2\\u05F3-\\u05F4\\u05F5-\\u05FF\\u07C0-\\u07C9\\u07CA-\\u07EA\" + \"\\u07F4-\\u07F5\\u07FA\\u07FB-\\u07FF\\u0800-\\u0815\\u081A\\u0824\\u0828\" + \"\\u082E-\\u082F\\u0830-\\u083E\\u083F\\u0840-\\u0858\\u085C-\\u085D\\u085E\" + \"\\u085F-\\u089F\\u200F\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB37\\uFB38-\\uFB3C\" + \"\\uFB3D\\uFB3E\\uFB3F\\uFB40-\\uFB41\\uFB42\\uFB43-\\uFB44\\uFB45\\uFB46-\\uFB4F\",\n  AL: \"\\u0608\\u060B\\u060D\\u061B\\u061C\\u061D\\u061E-\\u061F\\u0620-\\u063F\\u0640\" + \"\\u0641-\\u064A\\u066D\\u066E-\\u066F\\u0671-\\u06D3\\u06D4\\u06D5\\u06E5-\\u06E6\" + \"\\u06EE-\\u06EF\\u06FA-\\u06FC\\u06FD-\\u06FE\\u06FF\\u0700-\\u070D\\u070E\\u070F\" + \"\\u0710\\u0712-\\u072F\\u074B-\\u074C\\u074D-\\u07A5\\u07B1\\u07B2-\\u07BF\" + \"\\u08A0-\\u08B2\\u08B3-\\u08E3\\uFB50-\\uFBB1\\uFBB2-\\uFBC1\\uFBC2-\\uFBD2\" + \"\\uFBD3-\\uFD3D\\uFD40-\\uFD4F\\uFD50-\\uFD8F\\uFD90-\\uFD91\\uFD92-\\uFDC7\" + \"\\uFDC8-\\uFDCF\\uFDF0-\\uFDFB\\uFDFC\\uFDFE-\\uFDFF\\uFE70-\\uFE74\\uFE75\" + \"\\uFE76-\\uFEFC\\uFEFD-\\uFEFE\"\n};\nvar REGEX_STRONG = new RegExp('[' + RANGE_BY_BIDI_TYPE.L + RANGE_BY_BIDI_TYPE.R + RANGE_BY_BIDI_TYPE.AL + ']');\nvar REGEX_RTL = new RegExp('[' + RANGE_BY_BIDI_TYPE.R + RANGE_BY_BIDI_TYPE.AL + ']');\n/**\n * Returns the first strong character (has Bidi_Class value of L, R, or AL).\n *\n * @param str  A text block; e.g. paragraph, table cell, tag\n * @return     A character with strong bidi direction, or null if not found\n */\n\nfunction firstStrongChar(str) {\n  var match = REGEX_STRONG.exec(str);\n  return match == null ? null : match[0];\n}\n/**\n * Returns the direction of a block of text, based on the direction of its\n * first strong character (has Bidi_Class value of L, R, or AL).\n *\n * @param str  A text block; e.g. paragraph, table cell, tag\n * @return     The resolved direction\n */\n\n\nfunction firstStrongCharDir(str) {\n  var strongChar = firstStrongChar(str);\n\n  if (strongChar == null) {\n    return UnicodeBidiDirection.NEUTRAL;\n  }\n\n  return REGEX_RTL.exec(strongChar) ? UnicodeBidiDirection.RTL : UnicodeBidiDirection.LTR;\n}\n/**\n * Returns the direction of a block of text, based on the direction of its\n * first strong character (has Bidi_Class value of L, R, or AL), or a fallback\n * direction, if no strong character is found.\n *\n * This function is supposed to be used in respect to Higher-Level Protocol\n * rule HL1. (http://www.unicode.org/reports/tr9/#HL1)\n *\n * @param str       A text block; e.g. paragraph, table cell, tag\n * @param fallback  Fallback direction, used if no strong direction detected\n *                  for the block (default = NEUTRAL)\n * @return          The resolved direction\n */\n\n\nfunction resolveBlockDir(str, fallback) {\n  fallback = fallback || UnicodeBidiDirection.NEUTRAL;\n\n  if (!str.length) {\n    return fallback;\n  }\n\n  var blockDir = firstStrongCharDir(str);\n  return blockDir === UnicodeBidiDirection.NEUTRAL ? fallback : blockDir;\n}\n/**\n * Returns the direction of a block of text, based on the direction of its\n * first strong character (has Bidi_Class value of L, R, or AL), or a fallback\n * direction, if no strong character is found.\n *\n * NOTE: This function is similar to resolveBlockDir(), but uses the global\n * direction as the fallback, so it *always* returns a Strong direction,\n * making it useful for integration in places that you need to make the final\n * decision, like setting some CSS class.\n *\n * This function is supposed to be used in respect to Higher-Level Protocol\n * rule HL1. (http://www.unicode.org/reports/tr9/#HL1)\n *\n * @param str             A text block; e.g. paragraph, table cell\n * @param strongFallback  Fallback direction, used if no strong direction\n *                        detected for the block (default = global direction)\n * @return                The resolved Strong direction\n */\n\n\nfunction getDirection(str, strongFallback) {\n  if (!strongFallback) {\n    strongFallback = UnicodeBidiDirection.getGlobalDir();\n  }\n\n  !UnicodeBidiDirection.isStrong(strongFallback) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Fallback direction must be a strong direction') : invariant(false) : void 0;\n  return resolveBlockDir(str, strongFallback);\n}\n/**\n * Returns true if getDirection(arguments...) returns LTR.\n *\n * @param str             A text block; e.g. paragraph, table cell\n * @param strongFallback  Fallback direction, used if no strong direction\n *                        detected for the block (default = global direction)\n * @return                True if the resolved direction is LTR\n */\n\n\nfunction isDirectionLTR(str, strongFallback) {\n  return getDirection(str, strongFallback) === UnicodeBidiDirection.LTR;\n}\n/**\n * Returns true if getDirection(arguments...) returns RTL.\n *\n * @param str             A text block; e.g. paragraph, table cell\n * @param strongFallback  Fallback direction, used if no strong direction\n *                        detected for the block (default = global direction)\n * @return                True if the resolved direction is RTL\n */\n\n\nfunction isDirectionRTL(str, strongFallback) {\n  return getDirection(str, strongFallback) === UnicodeBidiDirection.RTL;\n}\n\nvar UnicodeBidi = {\n  firstStrongChar: firstStrongChar,\n  firstStrongCharDir: firstStrongCharDir,\n  resolveBlockDir: resolveBlockDir,\n  getDirection: getDirection,\n  isDirectionLTR: isDirectionLTR,\n  isDirectionRTL: isDirectionRTL\n};\nmodule.exports = UnicodeBidi;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar React = require(\"react\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar _require = require(\"immutable\"),\n    Map = _require.Map;\n\nvar UL_WRAP = React.createElement(\"ul\", {\n  className: cx('public/DraftStyleDefault/ul')\n});\nvar OL_WRAP = React.createElement(\"ol\", {\n  className: cx('public/DraftStyleDefault/ol')\n});\nvar PRE_WRAP = React.createElement(\"pre\", {\n  className: cx('public/DraftStyleDefault/pre')\n});\nvar DefaultDraftBlockRenderMap = Map({\n  'header-one': {\n    element: 'h1'\n  },\n  'header-two': {\n    element: 'h2'\n  },\n  'header-three': {\n    element: 'h3'\n  },\n  'header-four': {\n    element: 'h4'\n  },\n  'header-five': {\n    element: 'h5'\n  },\n  'header-six': {\n    element: 'h6'\n  },\n  section: {\n    element: 'section'\n  },\n  article: {\n    element: 'article'\n  },\n  'unordered-list-item': {\n    element: 'li',\n    wrapper: UL_WRAP\n  },\n  'ordered-list-item': {\n    element: 'li',\n    wrapper: OL_WRAP\n  },\n  blockquote: {\n    element: 'blockquote'\n  },\n  atomic: {\n    element: 'figure'\n  },\n  'code-block': {\n    element: 'pre',\n    wrapper: PRE_WRAP\n  },\n  unstyled: {\n    element: 'div',\n    aliasedElements: ['p']\n  }\n});\nmodule.exports = DefaultDraftBlockRenderMap;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar _require = require(\"./draftKeyUtils\"),\n    notEmptyKey = _require.notEmptyKey;\n/**\n * Return the entity key that should be used when inserting text for the\n * specified target selection, only if the entity is `MUTABLE`. `IMMUTABLE`\n * and `SEGMENTED` entities should not be used for insertion behavior.\n */\n\n\nfunction getEntityKeyForSelection(contentState, targetSelection) {\n  var entityKey;\n\n  if (targetSelection.isCollapsed()) {\n    var key = targetSelection.getAnchorKey();\n    var offset = targetSelection.getAnchorOffset();\n\n    if (offset > 0) {\n      entityKey = contentState.getBlockForKey(key).getEntityAt(offset - 1);\n\n      if (entityKey !== contentState.getBlockForKey(key).getEntityAt(offset)) {\n        return null;\n      }\n\n      return filterKey(contentState.getEntityMap(), entityKey);\n    }\n\n    return null;\n  }\n\n  var startKey = targetSelection.getStartKey();\n  var startOffset = targetSelection.getStartOffset();\n  var startBlock = contentState.getBlockForKey(startKey);\n  entityKey = startOffset === startBlock.getLength() ? null : startBlock.getEntityAt(startOffset);\n  return filterKey(contentState.getEntityMap(), entityKey);\n}\n/**\n * Determine whether an entity key corresponds to a `MUTABLE` entity. If so,\n * return it. If not, return null.\n */\n\n\nfunction filterKey(entityMap, entityKey) {\n  if (notEmptyKey(entityKey)) {\n    var entity = entityMap.__get(entityKey);\n\n    return entity.getMutability() === 'MUTABLE' ? entityKey : null;\n  }\n\n  return null;\n}\n\nmodule.exports = getEntityKeyForSelection;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nvar isTextNode = require(\"./isTextNode\");\n/*eslint-disable no-bitwise */\n\n/**\n * Checks if a given DOM node contains or is another DOM node.\n */\n\n\nfunction containsNode(outerNode, innerNode) {\n  if (!outerNode || !innerNode) {\n    return false;\n  } else if (outerNode === innerNode) {\n    return true;\n  } else if (isTextNode(outerNode)) {\n    return false;\n  } else if (isTextNode(innerNode)) {\n    return containsNode(outerNode, innerNode.parentNode);\n  } else if ('contains' in outerNode) {\n    return outerNode.contains(innerNode);\n  } else if (outerNode.compareDocumentPosition) {\n    return !!(outerNode.compareDocumentPosition(innerNode) & 16);\n  } else {\n    return false;\n  }\n}\n\nmodule.exports = containsNode;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/**\n * @param {DOMElement} element\n * @param {DOMDocument} doc\n * @return {boolean}\n */\nfunction _isViewportScrollElement(element, doc) {\n  return !!doc && (element === doc.documentElement || element === doc.body);\n}\n/**\n * Scroll Module. This class contains 4 simple static functions\n * to be used to access Element.scrollTop/scrollLeft properties.\n * To solve the inconsistencies between browsers when either\n * document.body or document.documentElement is supplied,\n * below logic will be used to alleviate the issue:\n *\n * 1. If 'element' is either 'document.body' or 'document.documentElement,\n *    get whichever element's 'scroll{Top,Left}' is larger.\n * 2. If 'element' is either 'document.body' or 'document.documentElement',\n *    set the 'scroll{Top,Left}' on both elements.\n */\n\n\nvar Scroll = {\n  /**\n   * @param {DOMElement} element\n   * @return {number}\n   */\n  getTop: function getTop(element) {\n    var doc = element.ownerDocument;\n    return _isViewportScrollElement(element, doc) ? // In practice, they will either both have the same value,\n    // or one will be zero and the other will be the scroll position\n    // of the viewport. So we can use `X || Y` instead of `Math.max(X, Y)`\n    doc.body.scrollTop || doc.documentElement.scrollTop : element.scrollTop;\n  },\n\n  /**\n   * @param {DOMElement} element\n   * @param {number} newTop\n   */\n  setTop: function setTop(element, newTop) {\n    var doc = element.ownerDocument;\n\n    if (_isViewportScrollElement(element, doc)) {\n      doc.body.scrollTop = doc.documentElement.scrollTop = newTop;\n    } else {\n      element.scrollTop = newTop;\n    }\n  },\n\n  /**\n   * @param {DOMElement} element\n   * @return {number}\n   */\n  getLeft: function getLeft(element) {\n    var doc = element.ownerDocument;\n    return _isViewportScrollElement(element, doc) ? doc.body.scrollLeft || doc.documentElement.scrollLeft : element.scrollLeft;\n  },\n\n  /**\n   * @param {DOMElement} element\n   * @param {number} newLeft\n   */\n  setLeft: function setLeft(element, newLeft) {\n    var doc = element.ownerDocument;\n\n    if (_isViewportScrollElement(element, doc)) {\n      doc.body.scrollLeft = doc.documentElement.scrollLeft = newLeft;\n    } else {\n      element.scrollLeft = newLeft;\n    }\n  }\n};\nmodule.exports = Scroll;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar warning = require(\"fbjs/lib/warning\");\n/**\n * Given a collapsed selection, move the focus `maxDistance` backward within\n * the selected block. If the selection will go beyond the start of the block,\n * move focus to the end of the previous block, but no further.\n *\n * This function is not Unicode-aware, so surrogate pairs will be treated\n * as having length 2.\n */\n\n\nfunction moveSelectionBackward(editorState, maxDistance) {\n  var selection = editorState.getSelection(); // Should eventually make this an invariant\n\n  process.env.NODE_ENV !== \"production\" ? warning(selection.isCollapsed(), 'moveSelectionBackward should only be called with a collapsed SelectionState') : void 0;\n  var content = editorState.getCurrentContent();\n  var key = selection.getStartKey();\n  var offset = selection.getStartOffset();\n  var focusKey = key;\n  var focusOffset = 0;\n\n  if (maxDistance > offset) {\n    var keyBefore = content.getKeyBefore(key);\n\n    if (keyBefore == null) {\n      focusKey = key;\n    } else {\n      focusKey = keyBefore;\n      var blockBefore = content.getBlockForKey(keyBefore);\n      focusOffset = blockBefore.getText().length;\n    }\n  } else {\n    focusOffset = offset - maxDistance;\n  }\n\n  return selection.merge({\n    focusKey: focusKey,\n    focusOffset: focusOffset,\n    isBackward: true\n  });\n}\n\nmodule.exports = moveSelectionBackward;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n\nvar emptyFunction = require(\"./emptyFunction\");\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\n\nfunction printWarning(format) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  var argIndex = 0;\n  var message = 'Warning: ' + format.replace(/%s/g, function () {\n    return args[argIndex++];\n  });\n\n  if (typeof console !== 'undefined') {\n    console.error(message);\n  }\n\n  try {\n    // --- Welcome to debugging React ---\n    // This error was thrown as a convenience so that you can use this stack\n    // to find the callsite that caused this warning to fire.\n    throw new Error(message);\n  } catch (x) {}\n}\n\nvar warning = process.env.NODE_ENV !== \"production\" ? function (condition, format) {\n  if (format === undefined) {\n    throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n  }\n\n  if (!condition) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      args[_key2 - 2] = arguments[_key2];\n    }\n\n    printWarning.apply(void 0, [format].concat(args));\n  }\n} : emptyFunction;\nmodule.exports = warning;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar isSoftNewlineEvent = require(\"./isSoftNewlineEvent\");\n\nvar isOSX = UserAgent.isPlatform('Mac OS X');\nvar KeyBindingUtil = {\n  /**\n   * Check whether the ctrlKey modifier is *not* being used in conjunction with\n   * the altKey modifier. If they are combined, the result is an `altGraph`\n   * key modifier, which should not be handled by this set of key bindings.\n   */\n  isCtrlKeyCommand: function isCtrlKeyCommand(e) {\n    return !!e.ctrlKey && !e.altKey;\n  },\n  isOptionKeyCommand: function isOptionKeyCommand(e) {\n    return isOSX && e.altKey;\n  },\n  usesMacOSHeuristics: function usesMacOSHeuristics() {\n    return isOSX;\n  },\n  hasCommandModifier: function hasCommandModifier(e) {\n    return isOSX ? !!e.metaKey && !e.altKey : KeyBindingUtil.isCtrlKeyCommand(e);\n  },\n  isSoftNewlineEvent: isSoftNewlineEvent\n};\nmodule.exports = KeyBindingUtil;","import React from 'react';\nimport classNames from 'classnames';\n\nimport { Select as SelectAdapter } from '@eventespresso/adapters';\nimport { withLabel } from '../withLabel';\n\nimport type { SelectProps } from './types';\n\nimport './style.scss';\n\nconst Select: React.FC<SelectProps> = ({ id, ...props }) => {\n\tconst className = classNames('ee-select', props.className);\n\n\treturn <SelectAdapter {...props} className={className} id={id} />;\n};\n\nexport default withLabel(Select);\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"convertToHTML\", {\n  enumerable: true,\n  get: function get() {\n    return _convertToHTML[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"convertFromHTML\", {\n  enumerable: true,\n  get: function get() {\n    return _convertFromHTML[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"parseHTML\", {\n  enumerable: true,\n  get: function get() {\n    return _parseHTML[\"default\"];\n  }\n});\n\nvar _convertToHTML = _interopRequireDefault(require(\"./convertToHTML\"));\n\nvar _convertFromHTML = _interopRequireDefault(require(\"./convertFromHTML\"));\n\nvar _parseHTML = _interopRequireDefault(require(\"./util/parseHTML\"));","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar BlockTree = require(\"./BlockTree\");\n\nvar ContentState = require(\"./ContentState\");\n\nvar EditorBidiService = require(\"./EditorBidiService\");\n\nvar SelectionState = require(\"./SelectionState\");\n\nvar Immutable = require(\"immutable\");\n\nvar OrderedSet = Immutable.OrderedSet,\n    Record = Immutable.Record,\n    Stack = Immutable.Stack,\n    OrderedMap = Immutable.OrderedMap,\n    List = Immutable.List; // When configuring an editor, the user can chose to provide or not provide\n// basically all keys. `currentContent` varies, so this type doesn't include it.\n// (See the types defined below.)\n\nvar defaultRecord = {\n  allowUndo: true,\n  currentContent: null,\n  decorator: null,\n  directionMap: null,\n  forceSelection: false,\n  inCompositionMode: false,\n  inlineStyleOverride: null,\n  lastChangeType: null,\n  nativelyRenderedContent: null,\n  redoStack: Stack(),\n  selection: null,\n  treeMap: null,\n  undoStack: Stack()\n};\nvar EditorStateRecord = Record(defaultRecord);\n\nvar EditorState = /*#__PURE__*/function () {\n  EditorState.createEmpty = function createEmpty(decorator) {\n    return this.createWithText('', decorator);\n  };\n\n  EditorState.createWithText = function createWithText(text, decorator) {\n    return EditorState.createWithContent(ContentState.createFromText(text), decorator);\n  };\n\n  EditorState.createWithContent = function createWithContent(contentState, decorator) {\n    if (contentState.getBlockMap().count() === 0) {\n      return EditorState.createEmpty(decorator);\n    }\n\n    var firstKey = contentState.getBlockMap().first().getKey();\n    return EditorState.create({\n      currentContent: contentState,\n      undoStack: Stack(),\n      redoStack: Stack(),\n      decorator: decorator || null,\n      selection: SelectionState.createEmpty(firstKey)\n    });\n  };\n\n  EditorState.create = function create(config) {\n    var currentContent = config.currentContent,\n        decorator = config.decorator;\n\n    var recordConfig = _objectSpread({}, config, {\n      treeMap: generateNewTreeMap(currentContent, decorator),\n      directionMap: EditorBidiService.getDirectionMap(currentContent)\n    });\n\n    return new EditorState(new EditorStateRecord(recordConfig));\n  };\n\n  EditorState.fromJS = function fromJS(config) {\n    return new EditorState(new EditorStateRecord(_objectSpread({}, config, {\n      directionMap: config.directionMap != null ? OrderedMap(config.directionMap) : config.directionMap,\n      inlineStyleOverride: config.inlineStyleOverride != null ? OrderedSet(config.inlineStyleOverride) : config.inlineStyleOverride,\n      nativelyRenderedContent: config.nativelyRenderedContent != null ? ContentState.fromJS(config.nativelyRenderedContent) : config.nativelyRenderedContent,\n      redoStack: config.redoStack != null ? Stack(config.redoStack.map(function (v) {\n        return ContentState.fromJS(v);\n      })) : config.redoStack,\n      selection: config.selection != null ? new SelectionState(config.selection) : config.selection,\n      treeMap: config.treeMap != null ? OrderedMap(config.treeMap).map(function (v) {\n        return List(v).map(function (v) {\n          return BlockTree.fromJS(v);\n        });\n      }) : config.treeMap,\n      undoStack: config.undoStack != null ? Stack(config.undoStack.map(function (v) {\n        return ContentState.fromJS(v);\n      })) : config.undoStack,\n      currentContent: ContentState.fromJS(config.currentContent)\n    })));\n  };\n\n  EditorState.set = function set(editorState, put) {\n    var map = editorState.getImmutable().withMutations(function (state) {\n      var existingDecorator = state.get('decorator');\n      var decorator = existingDecorator;\n\n      if (put.decorator === null) {\n        decorator = null;\n      } else if (put.decorator) {\n        decorator = put.decorator;\n      }\n\n      var newContent = put.currentContent || editorState.getCurrentContent();\n\n      if (decorator !== existingDecorator) {\n        var treeMap = state.get('treeMap');\n        var newTreeMap;\n\n        if (decorator && existingDecorator) {\n          newTreeMap = regenerateTreeForNewDecorator(newContent, newContent.getBlockMap(), treeMap, decorator, existingDecorator);\n        } else {\n          newTreeMap = generateNewTreeMap(newContent, decorator);\n        }\n\n        state.merge({\n          decorator: decorator,\n          treeMap: newTreeMap,\n          nativelyRenderedContent: null\n        });\n        return;\n      }\n\n      var existingContent = editorState.getCurrentContent();\n\n      if (newContent !== existingContent) {\n        state.set('treeMap', regenerateTreeForNewBlocks(editorState, newContent.getBlockMap(), newContent.getEntityMap(), decorator));\n      }\n\n      state.merge(put);\n    });\n    return new EditorState(map);\n  };\n\n  var _proto = EditorState.prototype;\n\n  _proto.toJS = function toJS() {\n    return this.getImmutable().toJS();\n  };\n\n  _proto.getAllowUndo = function getAllowUndo() {\n    return this.getImmutable().get('allowUndo');\n  };\n\n  _proto.getCurrentContent = function getCurrentContent() {\n    return this.getImmutable().get('currentContent');\n  };\n\n  _proto.getUndoStack = function getUndoStack() {\n    return this.getImmutable().get('undoStack');\n  };\n\n  _proto.getRedoStack = function getRedoStack() {\n    return this.getImmutable().get('redoStack');\n  };\n\n  _proto.getSelection = function getSelection() {\n    return this.getImmutable().get('selection');\n  };\n\n  _proto.getDecorator = function getDecorator() {\n    return this.getImmutable().get('decorator');\n  };\n\n  _proto.isInCompositionMode = function isInCompositionMode() {\n    return this.getImmutable().get('inCompositionMode');\n  };\n\n  _proto.mustForceSelection = function mustForceSelection() {\n    return this.getImmutable().get('forceSelection');\n  };\n\n  _proto.getNativelyRenderedContent = function getNativelyRenderedContent() {\n    return this.getImmutable().get('nativelyRenderedContent');\n  };\n\n  _proto.getLastChangeType = function getLastChangeType() {\n    return this.getImmutable().get('lastChangeType');\n  }\n  /**\n   * While editing, the user may apply inline style commands with a collapsed\n   * cursor, intending to type text that adopts the specified style. In this\n   * case, we track the specified style as an \"override\" that takes precedence\n   * over the inline style of the text adjacent to the cursor.\n   *\n   * If null, there is no override in place.\n   */\n  ;\n\n  _proto.getInlineStyleOverride = function getInlineStyleOverride() {\n    return this.getImmutable().get('inlineStyleOverride');\n  };\n\n  EditorState.setInlineStyleOverride = function setInlineStyleOverride(editorState, inlineStyleOverride) {\n    return EditorState.set(editorState, {\n      inlineStyleOverride: inlineStyleOverride\n    });\n  }\n  /**\n   * Get the appropriate inline style for the editor state. If an\n   * override is in place, use it. Otherwise, the current style is\n   * based on the location of the selection state.\n   */\n  ;\n\n  _proto.getCurrentInlineStyle = function getCurrentInlineStyle() {\n    var override = this.getInlineStyleOverride();\n\n    if (override != null) {\n      return override;\n    }\n\n    var content = this.getCurrentContent();\n    var selection = this.getSelection();\n\n    if (selection.isCollapsed()) {\n      return getInlineStyleForCollapsedSelection(content, selection);\n    }\n\n    return getInlineStyleForNonCollapsedSelection(content, selection);\n  };\n\n  _proto.getBlockTree = function getBlockTree(blockKey) {\n    return this.getImmutable().getIn(['treeMap', blockKey]);\n  };\n\n  _proto.isSelectionAtStartOfContent = function isSelectionAtStartOfContent() {\n    var firstKey = this.getCurrentContent().getBlockMap().first().getKey();\n    return this.getSelection().hasEdgeWithin(firstKey, 0, 0);\n  };\n\n  _proto.isSelectionAtEndOfContent = function isSelectionAtEndOfContent() {\n    var content = this.getCurrentContent();\n    var blockMap = content.getBlockMap();\n    var last = blockMap.last();\n    var end = last.getLength();\n    return this.getSelection().hasEdgeWithin(last.getKey(), end, end);\n  };\n\n  _proto.getDirectionMap = function getDirectionMap() {\n    return this.getImmutable().get('directionMap');\n  }\n  /**\n   * Incorporate native DOM selection changes into the EditorState. This\n   * method can be used when we simply want to accept whatever the DOM\n   * has given us to represent selection, and we do not need to re-render\n   * the editor.\n   *\n   * To forcibly move the DOM selection, see `EditorState.forceSelection`.\n   */\n  ;\n\n  EditorState.acceptSelection = function acceptSelection(editorState, selection) {\n    return updateSelection(editorState, selection, false);\n  }\n  /**\n   * At times, we need to force the DOM selection to be where we\n   * need it to be. This can occur when the anchor or focus nodes\n   * are non-text nodes, for instance. In this case, we want to trigger\n   * a re-render of the editor, which in turn forces selection into\n   * the correct place in the DOM. The `forceSelection` method\n   * accomplishes this.\n   *\n   * This method should be used in cases where you need to explicitly\n   * move the DOM selection from one place to another without a change\n   * in ContentState.\n   */\n  ;\n\n  EditorState.forceSelection = function forceSelection(editorState, selection) {\n    if (!selection.getHasFocus()) {\n      selection = selection.set('hasFocus', true);\n    }\n\n    return updateSelection(editorState, selection, true);\n  }\n  /**\n   * Move selection to the end of the editor without forcing focus.\n   */\n  ;\n\n  EditorState.moveSelectionToEnd = function moveSelectionToEnd(editorState) {\n    var content = editorState.getCurrentContent();\n    var lastBlock = content.getLastBlock();\n    var lastKey = lastBlock.getKey();\n    var length = lastBlock.getLength();\n    return EditorState.acceptSelection(editorState, new SelectionState({\n      anchorKey: lastKey,\n      anchorOffset: length,\n      focusKey: lastKey,\n      focusOffset: length,\n      isBackward: false\n    }));\n  }\n  /**\n   * Force focus to the end of the editor. This is useful in scenarios\n   * where we want to programmatically focus the input and it makes sense\n   * to allow the user to continue working seamlessly.\n   */\n  ;\n\n  EditorState.moveFocusToEnd = function moveFocusToEnd(editorState) {\n    var afterSelectionMove = EditorState.moveSelectionToEnd(editorState);\n    return EditorState.forceSelection(afterSelectionMove, afterSelectionMove.getSelection());\n  }\n  /**\n   * Push the current ContentState onto the undo stack if it should be\n   * considered a boundary state, and set the provided ContentState as the\n   * new current content.\n   */\n  ;\n\n  EditorState.push = function push(editorState, contentState, changeType) {\n    var forceSelection = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n    if (editorState.getCurrentContent() === contentState) {\n      return editorState;\n    }\n\n    var directionMap = EditorBidiService.getDirectionMap(contentState, editorState.getDirectionMap());\n\n    if (!editorState.getAllowUndo()) {\n      return EditorState.set(editorState, {\n        currentContent: contentState,\n        directionMap: directionMap,\n        lastChangeType: changeType,\n        selection: contentState.getSelectionAfter(),\n        forceSelection: forceSelection,\n        inlineStyleOverride: null\n      });\n    }\n\n    var selection = editorState.getSelection();\n    var currentContent = editorState.getCurrentContent();\n    var undoStack = editorState.getUndoStack();\n    var newContent = contentState;\n\n    if (selection !== currentContent.getSelectionAfter() || mustBecomeBoundary(editorState, changeType)) {\n      undoStack = undoStack.push(currentContent);\n      newContent = newContent.set('selectionBefore', selection);\n    } else if (changeType === 'insert-characters' || changeType === 'backspace-character' || changeType === 'delete-character') {\n      // Preserve the previous selection.\n      newContent = newContent.set('selectionBefore', currentContent.getSelectionBefore());\n    }\n\n    var inlineStyleOverride = editorState.getInlineStyleOverride(); // Don't discard inline style overrides for the following change types:\n\n    var overrideChangeTypes = ['adjust-depth', 'change-block-type', 'split-block'];\n\n    if (overrideChangeTypes.indexOf(changeType) === -1) {\n      inlineStyleOverride = null;\n    }\n\n    var editorStateChanges = {\n      currentContent: newContent,\n      directionMap: directionMap,\n      undoStack: undoStack,\n      redoStack: Stack(),\n      lastChangeType: changeType,\n      selection: contentState.getSelectionAfter(),\n      forceSelection: forceSelection,\n      inlineStyleOverride: inlineStyleOverride\n    };\n    return EditorState.set(editorState, editorStateChanges);\n  }\n  /**\n   * Make the top ContentState in the undo stack the new current content and\n   * push the current content onto the redo stack.\n   */\n  ;\n\n  EditorState.undo = function undo(editorState) {\n    if (!editorState.getAllowUndo()) {\n      return editorState;\n    }\n\n    var undoStack = editorState.getUndoStack();\n    var newCurrentContent = undoStack.peek();\n\n    if (!newCurrentContent) {\n      return editorState;\n    }\n\n    var currentContent = editorState.getCurrentContent();\n    var directionMap = EditorBidiService.getDirectionMap(newCurrentContent, editorState.getDirectionMap());\n    return EditorState.set(editorState, {\n      currentContent: newCurrentContent,\n      directionMap: directionMap,\n      undoStack: undoStack.shift(),\n      redoStack: editorState.getRedoStack().push(currentContent),\n      forceSelection: true,\n      inlineStyleOverride: null,\n      lastChangeType: 'undo',\n      nativelyRenderedContent: null,\n      selection: currentContent.getSelectionBefore()\n    });\n  }\n  /**\n   * Make the top ContentState in the redo stack the new current content and\n   * push the current content onto the undo stack.\n   */\n  ;\n\n  EditorState.redo = function redo(editorState) {\n    if (!editorState.getAllowUndo()) {\n      return editorState;\n    }\n\n    var redoStack = editorState.getRedoStack();\n    var newCurrentContent = redoStack.peek();\n\n    if (!newCurrentContent) {\n      return editorState;\n    }\n\n    var currentContent = editorState.getCurrentContent();\n    var directionMap = EditorBidiService.getDirectionMap(newCurrentContent, editorState.getDirectionMap());\n    return EditorState.set(editorState, {\n      currentContent: newCurrentContent,\n      directionMap: directionMap,\n      undoStack: editorState.getUndoStack().push(currentContent),\n      redoStack: redoStack.shift(),\n      forceSelection: true,\n      inlineStyleOverride: null,\n      lastChangeType: 'redo',\n      nativelyRenderedContent: null,\n      selection: newCurrentContent.getSelectionAfter()\n    });\n  }\n  /**\n   * Not for public consumption.\n   */\n  ;\n\n  function EditorState(immutable) {\n    _defineProperty(this, \"_immutable\", void 0);\n\n    this._immutable = immutable;\n  }\n  /**\n   * Not for public consumption.\n   */\n\n\n  _proto.getImmutable = function getImmutable() {\n    return this._immutable;\n  };\n\n  return EditorState;\n}();\n/**\n * Set the supplied SelectionState as the new current selection, and set\n * the `force` flag to trigger manual selection placement by the view.\n */\n\n\nfunction updateSelection(editorState, selection, forceSelection) {\n  return EditorState.set(editorState, {\n    selection: selection,\n    forceSelection: forceSelection,\n    nativelyRenderedContent: null,\n    inlineStyleOverride: null\n  });\n}\n/**\n * Regenerate the entire tree map for a given ContentState and decorator.\n * Returns an OrderedMap that maps all available ContentBlock objects.\n */\n\n\nfunction generateNewTreeMap(contentState, decorator) {\n  return contentState.getBlockMap().map(function (block) {\n    return BlockTree.generate(contentState, block, decorator);\n  }).toOrderedMap();\n}\n/**\n * Regenerate tree map objects for all ContentBlocks that have changed\n * between the current editorState and newContent. Returns an OrderedMap\n * with only changed regenerated tree map objects.\n */\n\n\nfunction regenerateTreeForNewBlocks(editorState, newBlockMap, newEntityMap, decorator) {\n  var contentState = editorState.getCurrentContent().set('entityMap', newEntityMap);\n  var prevBlockMap = contentState.getBlockMap();\n  var prevTreeMap = editorState.getImmutable().get('treeMap');\n  return prevTreeMap.merge(newBlockMap.toSeq().filter(function (block, key) {\n    return block !== prevBlockMap.get(key);\n  }).map(function (block) {\n    return BlockTree.generate(contentState, block, decorator);\n  }));\n}\n/**\n * Generate tree map objects for a new decorator object, preserving any\n * decorations that are unchanged from the previous decorator.\n *\n * Note that in order for this to perform optimally, decoration Lists for\n * decorators should be preserved when possible to allow for direct immutable\n * List comparison.\n */\n\n\nfunction regenerateTreeForNewDecorator(content, blockMap, previousTreeMap, decorator, existingDecorator) {\n  return previousTreeMap.merge(blockMap.toSeq().filter(function (block) {\n    return decorator.getDecorations(block, content) !== existingDecorator.getDecorations(block, content);\n  }).map(function (block) {\n    return BlockTree.generate(content, block, decorator);\n  }));\n}\n/**\n * Return whether a change should be considered a boundary state, given\n * the previous change type. Allows us to discard potential boundary states\n * during standard typing or deletion behavior.\n */\n\n\nfunction mustBecomeBoundary(editorState, changeType) {\n  var lastChangeType = editorState.getLastChangeType();\n  return changeType !== lastChangeType || changeType !== 'insert-characters' && changeType !== 'backspace-character' && changeType !== 'delete-character';\n}\n\nfunction getInlineStyleForCollapsedSelection(content, selection) {\n  var startKey = selection.getStartKey();\n  var startOffset = selection.getStartOffset();\n  var startBlock = content.getBlockForKey(startKey); // If the cursor is not at the start of the block, look backward to\n  // preserve the style of the preceding character.\n\n  if (startOffset > 0) {\n    return startBlock.getInlineStyleAt(startOffset - 1);\n  } // The caret is at position zero in this block. If the block has any\n  // text at all, use the style of the first character.\n\n\n  if (startBlock.getLength()) {\n    return startBlock.getInlineStyleAt(0);\n  } // Otherwise, look upward in the document to find the closest character.\n\n\n  return lookUpwardForInlineStyle(content, startKey);\n}\n\nfunction getInlineStyleForNonCollapsedSelection(content, selection) {\n  var startKey = selection.getStartKey();\n  var startOffset = selection.getStartOffset();\n  var startBlock = content.getBlockForKey(startKey); // If there is a character just inside the selection, use its style.\n\n  if (startOffset < startBlock.getLength()) {\n    return startBlock.getInlineStyleAt(startOffset);\n  } // Check if the selection at the end of a non-empty block. Use the last\n  // style in the block.\n\n\n  if (startOffset > 0) {\n    return startBlock.getInlineStyleAt(startOffset - 1);\n  } // Otherwise, look upward in the document to find the closest character.\n\n\n  return lookUpwardForInlineStyle(content, startKey);\n}\n\nfunction lookUpwardForInlineStyle(content, fromKey) {\n  var lastNonEmpty = content.getBlockMap().reverse().skipUntil(function (_, k) {\n    return k === fromKey;\n  }).skip(1).skipUntil(function (block, _) {\n    return block.getLength();\n  }).first();\n\n  if (lastNonEmpty) {\n    return lastNonEmpty.getInlineStyleAt(lastNonEmpty.getLength() - 1);\n  }\n\n  return OrderedSet();\n}\n\nmodule.exports = EditorState;","var _curry2 =\n/*#__PURE__*/\nrequire(\"./internal/_curry2\");\n\nvar _equals =\n/*#__PURE__*/\nrequire(\"./internal/_equals\");\n/**\n * Returns `true` if its arguments are equivalent, `false` otherwise. Handles\n * cyclical data structures.\n *\n * Dispatches symmetrically to the `equals` methods of both arguments, if\n * present.\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category Relation\n * @sig a -> b -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @example\n *\n *      R.equals(1, 1); //=> true\n *      R.equals(1, '1'); //=> false\n *      R.equals([1, 2, 3], [1, 2, 3]); //=> true\n *\n *      const a = {}; a.v = a;\n *      const b = {}; b.v = b;\n *      R.equals(a, b); //=> true\n */\n\n\nvar equals =\n/*#__PURE__*/\n_curry2(function equals(a, b) {\n  return _equals(a, b, [], []);\n});\n\nmodule.exports = equals;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var _has =\n/*#__PURE__*/\nrequire(\"./_has\");\n\nvar toString = Object.prototype.toString;\n\nvar _isArguments =\n/*#__PURE__*/\nfunction () {\n  return toString.call(arguments) === '[object Arguments]' ? function _isArguments(x) {\n    return toString.call(x) === '[object Arguments]';\n  } : function _isArguments(x) {\n    return _has('callee', x);\n  };\n}();\n\nmodule.exports = _isArguments;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar Immutable = require(\"immutable\");\n\nvar OrderedMap = Immutable.OrderedMap;\n\nvar randomizeContentBlockNodeKeys = function randomizeContentBlockNodeKeys(blockMap) {\n  var newKeysRef = {}; // we keep track of root blocks in order to update subsequent sibling links\n\n  var lastRootBlock;\n  return OrderedMap(blockMap.withMutations(function (blockMapState) {\n    blockMapState.forEach(function (block, index) {\n      var oldKey = block.getKey();\n      var nextKey = block.getNextSiblingKey();\n      var prevKey = block.getPrevSiblingKey();\n      var childrenKeys = block.getChildKeys();\n      var parentKey = block.getParentKey(); // new key that we will use to build linking\n\n      var key = generateRandomKey(); // we will add it here to re-use it later\n\n      newKeysRef[oldKey] = key;\n\n      if (nextKey) {\n        var nextBlock = blockMapState.get(nextKey);\n\n        if (nextBlock) {\n          blockMapState.setIn([nextKey, 'prevSibling'], key);\n        } else {\n          // this can happen when generating random keys for fragments\n          blockMapState.setIn([oldKey, 'nextSibling'], null);\n        }\n      }\n\n      if (prevKey) {\n        var prevBlock = blockMapState.get(prevKey);\n\n        if (prevBlock) {\n          blockMapState.setIn([prevKey, 'nextSibling'], key);\n        } else {\n          // this can happen when generating random keys for fragments\n          blockMapState.setIn([oldKey, 'prevSibling'], null);\n        }\n      }\n\n      if (parentKey && blockMapState.get(parentKey)) {\n        var parentBlock = blockMapState.get(parentKey);\n        var parentChildrenList = parentBlock.getChildKeys();\n        blockMapState.setIn([parentKey, 'children'], parentChildrenList.set(parentChildrenList.indexOf(block.getKey()), key));\n      } else {\n        // blocks will then be treated as root block nodes\n        blockMapState.setIn([oldKey, 'parent'], null);\n\n        if (lastRootBlock) {\n          blockMapState.setIn([lastRootBlock.getKey(), 'nextSibling'], key);\n          blockMapState.setIn([oldKey, 'prevSibling'], newKeysRef[lastRootBlock.getKey()]);\n        }\n\n        lastRootBlock = blockMapState.get(oldKey);\n      }\n\n      childrenKeys.forEach(function (childKey) {\n        var childBlock = blockMapState.get(childKey);\n\n        if (childBlock) {\n          blockMapState.setIn([childKey, 'parent'], key);\n        } else {\n          blockMapState.setIn([oldKey, 'children'], block.getChildKeys().filter(function (child) {\n            return child !== childKey;\n          }));\n        }\n      });\n    });\n  }).toArray().map(function (block) {\n    return [newKeysRef[block.getKey()], block.set('key', newKeysRef[block.getKey()])];\n  }));\n};\n\nvar randomizeContentBlockKeys = function randomizeContentBlockKeys(blockMap) {\n  return OrderedMap(blockMap.toArray().map(function (block) {\n    var key = generateRandomKey();\n    return [key, block.set('key', key)];\n  }));\n};\n\nvar randomizeBlockMapKeys = function randomizeBlockMapKeys(blockMap) {\n  var isTreeBasedBlockMap = blockMap.first() instanceof ContentBlockNode;\n\n  if (!isTreeBasedBlockMap) {\n    return randomizeContentBlockKeys(blockMap);\n  }\n\n  return randomizeContentBlockNodeKeys(blockMap);\n};\n\nmodule.exports = randomizeBlockMapKeys;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar findRangesImmutable = require(\"./findRangesImmutable\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nfunction removeEntitiesAtEdges(contentState, selectionState) {\n  var blockMap = contentState.getBlockMap();\n  var entityMap = contentState.getEntityMap();\n  var updatedBlocks = {};\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var startBlock = blockMap.get(startKey);\n  var updatedStart = removeForBlock(entityMap, startBlock, startOffset);\n\n  if (updatedStart !== startBlock) {\n    updatedBlocks[startKey] = updatedStart;\n  }\n\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n  var endBlock = blockMap.get(endKey);\n\n  if (startKey === endKey) {\n    endBlock = updatedStart;\n  }\n\n  var updatedEnd = removeForBlock(entityMap, endBlock, endOffset);\n\n  if (updatedEnd !== endBlock) {\n    updatedBlocks[endKey] = updatedEnd;\n  }\n\n  if (!Object.keys(updatedBlocks).length) {\n    return contentState.set('selectionAfter', selectionState);\n  }\n\n  return contentState.merge({\n    blockMap: blockMap.merge(updatedBlocks),\n    selectionAfter: selectionState\n  });\n}\n/**\n * Given a list of characters and an offset that is in the middle of an entity,\n * returns the start and end of the entity that is overlapping the offset.\n * Note: This method requires that the offset be in an entity range.\n */\n\n\nfunction getRemovalRange(characters, entityKey, offset) {\n  var removalRange; // Iterates through a list looking for ranges of matching items\n  // based on the 'isEqual' callback.\n  // Then instead of returning the result, call the 'found' callback\n  // with each range.\n  // Then filters those ranges based on the 'filter' callback\n  //\n  // Here we use it to find ranges of characters with the same entity key.\n\n  findRangesImmutable(characters, // the list to iterate through\n  function (a, b) {\n    return a.getEntity() === b.getEntity();\n  }, // 'isEqual' callback\n  function (element) {\n    return element.getEntity() === entityKey;\n  }, // 'filter' callback\n  function (start, end) {\n    // 'found' callback\n    if (start <= offset && end >= offset) {\n      // this entity overlaps the offset index\n      removalRange = {\n        start: start,\n        end: end\n      };\n    }\n  });\n  !(typeof removalRange === 'object') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Removal range must exist within character list.') : invariant(false) : void 0;\n  return removalRange;\n}\n\nfunction removeForBlock(entityMap, block, offset) {\n  var chars = block.getCharacterList();\n  var charBefore = offset > 0 ? chars.get(offset - 1) : undefined;\n  var charAfter = offset < chars.count() ? chars.get(offset) : undefined;\n  var entityBeforeCursor = charBefore ? charBefore.getEntity() : undefined;\n  var entityAfterCursor = charAfter ? charAfter.getEntity() : undefined;\n\n  if (entityAfterCursor && entityAfterCursor === entityBeforeCursor) {\n    var entity = entityMap.__get(entityAfterCursor);\n\n    if (entity.getMutability() !== 'MUTABLE') {\n      var _getRemovalRange = getRemovalRange(chars, entityAfterCursor, offset),\n          start = _getRemovalRange.start,\n          end = _getRemovalRange.end;\n\n      var current;\n\n      while (start < end) {\n        current = chars.get(start);\n        chars = chars.set(start, CharacterMetadata.applyEntity(current, null));\n        start++;\n      }\n\n      return block.set('characterList', chars);\n    }\n  }\n\n  return block;\n}\n\nmodule.exports = removeEntitiesAtEdges;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\n/**\n * Maintain persistence for target list when appending and prepending.\n */\nfunction insertIntoList(targetListArg, toInsert, offset) {\n  var targetList = targetListArg;\n\n  if (offset === targetList.count()) {\n    toInsert.forEach(function (c) {\n      targetList = targetList.push(c);\n    });\n  } else if (offset === 0) {\n    toInsert.reverse().forEach(function (c) {\n      targetList = targetList.unshift(c);\n    });\n  } else {\n    var head = targetList.slice(0, offset);\n    var tail = targetList.slice(offset);\n    targetList = head.concat(toInsert, tail).toList();\n  }\n\n  return targetList;\n}\n\nmodule.exports = insertIntoList;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar Immutable = require(\"immutable\");\n\nvar Map = Immutable.Map;\n\nfunction modifyBlockForContentState(contentState, selectionState, operation) {\n  var startKey = selectionState.getStartKey();\n  var endKey = selectionState.getEndKey();\n  var blockMap = contentState.getBlockMap();\n  var newBlocks = blockMap.toSeq().skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).concat(Map([[endKey, blockMap.get(endKey)]])).map(operation);\n  return contentState.merge({\n    blockMap: blockMap.merge(newBlocks),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\n\nmodule.exports = modifyBlockForContentState;","\"use strict\";\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar getNextDelimiterBlockKey = function getNextDelimiterBlockKey(block, blockMap) {\n  var isExperimentalTreeBlock = block instanceof ContentBlockNode;\n\n  if (!isExperimentalTreeBlock) {\n    return null;\n  }\n\n  var nextSiblingKey = block.getNextSiblingKey();\n\n  if (nextSiblingKey) {\n    return nextSiblingKey;\n  }\n\n  var parent = block.getParentKey();\n\n  if (!parent) {\n    return null;\n  }\n\n  var nextNonDescendantBlock = blockMap.get(parent);\n\n  while (nextNonDescendantBlock && !nextNonDescendantBlock.getNextSiblingKey()) {\n    var parentKey = nextNonDescendantBlock.getParentKey();\n    nextNonDescendantBlock = parentKey ? blockMap.get(parentKey) : null;\n  }\n\n  if (!nextNonDescendantBlock) {\n    return null;\n  }\n\n  return nextNonDescendantBlock.getNextSiblingKey();\n};\n\nmodule.exports = getNextDelimiterBlockKey;","\"use strict\";\n\n/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n *\n * \n * @typechecks\n * @format\n */\n\n/**\n * Retrieve an object's own values as an array. If you want the values in the\n * protoype chain, too, use getObjectValuesIncludingPrototype.\n *\n * If you are looking for a function that creates an Array instance based\n * on an \"Array-like\" object, use createArrayFrom instead.\n *\n * @param {object} obj An object.\n * @return {array}     The object's values.\n */\nfunction getOwnObjectValues(obj) {\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  });\n}\n\nmodule.exports = getOwnObjectValues;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @legacyServerCallableInstance\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar Immutable = require(\"immutable\");\n\nvar Record = Immutable.Record;\nvar DraftEntityInstanceRecord = Record({\n  type: 'TOKEN',\n  mutability: 'IMMUTABLE',\n  data: Object\n});\n/**\n * An instance of a document entity, consisting of a `type` and relevant\n * `data`, metadata about the entity.\n *\n * For instance, a \"link\" entity might provide a URI, and a \"mention\"\n * entity might provide the mentioned user's ID. These pieces of data\n * may be used when rendering the entity as part of a ContentBlock DOM\n * representation. For a link, the data would be used as an href for\n * the rendered anchor. For a mention, the ID could be used to retrieve\n * a hovercard.\n */\n\nvar DraftEntityInstance = /*#__PURE__*/function (_DraftEntityInstanceR) {\n  _inheritsLoose(DraftEntityInstance, _DraftEntityInstanceR);\n\n  function DraftEntityInstance() {\n    return _DraftEntityInstanceR.apply(this, arguments) || this;\n  }\n\n  var _proto = DraftEntityInstance.prototype;\n\n  _proto.getType = function getType() {\n    return this.get('type');\n  };\n\n  _proto.getMutability = function getMutability() {\n    return this.get('mutability');\n  };\n\n  _proto.getData = function getData() {\n    return this.get('data');\n  };\n\n  return DraftEntityInstance;\n}(DraftEntityInstanceRecord);\n\nmodule.exports = DraftEntityInstance;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar REGEX_BLOCK_DELIMITER = new RegExp('\\r', 'g');\n\nfunction sanitizeDraftText(input) {\n  return input.replace(REGEX_BLOCK_DELIMITER, '');\n}\n\nmodule.exports = sanitizeDraftText;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nmodule.exports = {\n  BOLD: {\n    fontWeight: 'bold'\n  },\n  CODE: {\n    fontFamily: 'monospace',\n    wordWrap: 'break-word'\n  },\n  ITALIC: {\n    fontStyle: 'italic'\n  },\n  STRIKETHROUGH: {\n    textDecoration: 'line-through'\n  },\n  UNDERLINE: {\n    textDecoration: 'underline'\n  }\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n/**\n * Get offset key from a node or it's child nodes. Return the first offset key\n * found on the DOM tree of given node.\n */\n\nvar isElement = require(\"./isElement\");\n\nfunction getSelectionOffsetKeyForNode(node) {\n  if (isElement(node)) {\n    var castedNode = node;\n    var offsetKey = castedNode.getAttribute('data-offset-key');\n\n    if (offsetKey) {\n      return offsetKey;\n    }\n\n    for (var ii = 0; ii < castedNode.childNodes.length; ii++) {\n      var childOffsetKey = getSelectionOffsetKeyForNode(castedNode.childNodes[ii]);\n\n      if (childOffsetKey) {\n        return childOffsetKey;\n      }\n    }\n  }\n\n  return null;\n}\n\nmodule.exports = getSelectionOffsetKeyForNode;","\"use strict\";\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\nfunction getWindowForNode(node) {\n  if (!node || !node.ownerDocument || !node.ownerDocument.defaultView) {\n    return window;\n  }\n\n  return node.ownerDocument.defaultView;\n}\n\nmodule.exports = getWindowForNode;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftJsDebugLogging = require(\"./DraftJsDebugLogging\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar getContentEditableContainer = require(\"./getContentEditableContainer\");\n\nvar getDraftEditorSelection = require(\"./getDraftEditorSelection\");\n\nfunction editOnSelect(editor) {\n  if (editor._blockSelectEvents || editor._latestEditorState !== editor.props.editorState) {\n    if (editor._blockSelectEvents) {\n      var _editorState = editor.props.editorState;\n\n      var selectionState = _editorState.getSelection();\n\n      DraftJsDebugLogging.logBlockedSelectionEvent({\n        // For now I don't think we need any other info\n        anonymizedDom: 'N/A',\n        extraParams: JSON.stringify({\n          stacktrace: new Error().stack\n        }),\n        selectionState: JSON.stringify(selectionState.toJS())\n      });\n    }\n\n    return;\n  }\n\n  var editorState = editor.props.editorState;\n  var documentSelection = getDraftEditorSelection(editorState, getContentEditableContainer(editor));\n  var updatedSelectionState = documentSelection.selectionState;\n\n  if (updatedSelectionState !== editorState.getSelection()) {\n    if (documentSelection.needsRecovery) {\n      editorState = EditorState.forceSelection(editorState, updatedSelectionState);\n    } else {\n      editorState = EditorState.acceptSelection(editorState, updatedSelectionState);\n    }\n\n    editor.update(editorState);\n  }\n}\n\nmodule.exports = editOnSelect;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n\nmodule.exports = {\n  logBlockedSelectionEvent: function logBlockedSelectionEvent() {\n    return null;\n  },\n  logSelectionStateFailure: function logSelectionStateFailure() {\n    return null;\n  }\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nfunction getContentEditableContainer(editor) {\n  var editorNode = editor.editorContainer;\n  !editorNode ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Missing editorNode') : invariant(false) : void 0;\n  !isHTMLElement(editorNode.firstChild) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode.firstChild is not an HTMLElement') : invariant(false) : void 0;\n  var htmlElement = editorNode.firstChild;\n  return htmlElement;\n}\n\nmodule.exports = getContentEditableContainer;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar getDraftEditorSelectionWithNodes = require(\"./getDraftEditorSelectionWithNodes\");\n/**\n * Convert the current selection range to an anchor/focus pair of offset keys\n * and values that can be interpreted by components.\n */\n\n\nfunction getDraftEditorSelection(editorState, root) {\n  var selection = root.ownerDocument.defaultView.getSelection();\n  var anchorNode = selection.anchorNode,\n      anchorOffset = selection.anchorOffset,\n      focusNode = selection.focusNode,\n      focusOffset = selection.focusOffset,\n      rangeCount = selection.rangeCount;\n\n  if ( // No active selection.\n  rangeCount === 0 || // No selection, ever. As in, the user hasn't selected anything since\n  // opening the document.\n  anchorNode == null || focusNode == null) {\n    return {\n      selectionState: editorState.getSelection().set('hasFocus', false),\n      needsRecovery: false\n    };\n  }\n\n  return getDraftEditorSelectionWithNodes(editorState, root, anchorNode, anchorOffset, focusNode, focusOffset);\n}\n\nmodule.exports = getDraftEditorSelection;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar findAncestorOffsetKey = require(\"./findAncestorOffsetKey\");\n\nvar getSelectionOffsetKeyForNode = require(\"./getSelectionOffsetKeyForNode\");\n\nvar getUpdatedSelectionState = require(\"./getUpdatedSelectionState\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isElement = require(\"./isElement\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\n/**\n * Convert the current selection range to an anchor/focus pair of offset keys\n * and values that can be interpreted by components.\n */\nfunction getDraftEditorSelectionWithNodes(editorState, root, anchorNode, anchorOffset, focusNode, focusOffset) {\n  var anchorIsTextNode = anchorNode.nodeType === Node.TEXT_NODE;\n  var focusIsTextNode = focusNode.nodeType === Node.TEXT_NODE; // If the selection range lies only on text nodes, the task is simple.\n  // Find the nearest offset-aware elements and use the\n  // offset values supplied by the selection range.\n\n  if (anchorIsTextNode && focusIsTextNode) {\n    return {\n      selectionState: getUpdatedSelectionState(editorState, nullthrows(findAncestorOffsetKey(anchorNode)), anchorOffset, nullthrows(findAncestorOffsetKey(focusNode)), focusOffset),\n      needsRecovery: false\n    };\n  }\n\n  var anchorPoint = null;\n  var focusPoint = null;\n  var needsRecovery = true; // An element is selected. Convert this selection range into leaf offset\n  // keys and offset values for consumption at the component level. This\n  // is common in Firefox, where select-all and triple click behavior leads\n  // to entire elements being selected.\n  //\n  // Note that we use the `needsRecovery` parameter in the callback here. This\n  // is because when certain elements are selected, the behavior for subsequent\n  // cursor movement (e.g. via arrow keys) is uncertain and may not match\n  // expectations at the component level. For example, if an entire <div> is\n  // selected and the user presses the right arrow, Firefox keeps the selection\n  // on the <div>. If we allow subsequent keypresses to insert characters\n  // natively, they will be inserted into a browser-created text node to the\n  // right of that <div>. This is obviously undesirable.\n  //\n  // With the `needsRecovery` flag, we inform the caller that it is responsible\n  // for manually setting the selection state on the rendered document to\n  // ensure proper selection state maintenance.\n\n  if (anchorIsTextNode) {\n    anchorPoint = {\n      key: nullthrows(findAncestorOffsetKey(anchorNode)),\n      offset: anchorOffset\n    };\n    focusPoint = getPointForNonTextNode(root, focusNode, focusOffset);\n  } else if (focusIsTextNode) {\n    focusPoint = {\n      key: nullthrows(findAncestorOffsetKey(focusNode)),\n      offset: focusOffset\n    };\n    anchorPoint = getPointForNonTextNode(root, anchorNode, anchorOffset);\n  } else {\n    anchorPoint = getPointForNonTextNode(root, anchorNode, anchorOffset);\n    focusPoint = getPointForNonTextNode(root, focusNode, focusOffset); // If the selection is collapsed on an empty block, don't force recovery.\n    // This way, on arrow key selection changes, the browser can move the\n    // cursor from a non-zero offset on one block, through empty blocks,\n    // to a matching non-zero offset on other text blocks.\n\n    if (anchorNode === focusNode && anchorOffset === focusOffset) {\n      needsRecovery = !!anchorNode.firstChild && anchorNode.firstChild.nodeName !== 'BR';\n    }\n  }\n\n  return {\n    selectionState: getUpdatedSelectionState(editorState, anchorPoint.key, anchorPoint.offset, focusPoint.key, focusPoint.offset),\n    needsRecovery: needsRecovery\n  };\n}\n/**\n * Identify the first leaf descendant for the given node.\n */\n\n\nfunction getFirstLeaf(node) {\n  while (node.firstChild && ( // data-blocks has no offset\n  isElement(node.firstChild) && node.firstChild.getAttribute('data-blocks') === 'true' || getSelectionOffsetKeyForNode(node.firstChild))) {\n    node = node.firstChild;\n  }\n\n  return node;\n}\n/**\n * Identify the last leaf descendant for the given node.\n */\n\n\nfunction getLastLeaf(node) {\n  while (node.lastChild && ( // data-blocks has no offset\n  isElement(node.lastChild) && node.lastChild.getAttribute('data-blocks') === 'true' || getSelectionOffsetKeyForNode(node.lastChild))) {\n    node = node.lastChild;\n  }\n\n  return node;\n}\n\nfunction getPointForNonTextNode(editorRoot, startNode, childOffset) {\n  var node = startNode;\n  var offsetKey = findAncestorOffsetKey(node);\n  !(offsetKey != null || editorRoot && (editorRoot === node || editorRoot.firstChild === node)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unknown node in selection range.') : invariant(false) : void 0; // If the editorRoot is the selection, step downward into the content\n  // wrapper.\n\n  if (editorRoot === node) {\n    node = node.firstChild;\n    !isElement(node) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid DraftEditorContents node.') : invariant(false) : void 0;\n    var castedNode = node; // assignment only added for flow :/\n    // otherwise it throws in line 200 saying that node can be null or undefined\n\n    node = castedNode;\n    !(node.getAttribute('data-contents') === 'true') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid DraftEditorContents structure.') : invariant(false) : void 0;\n\n    if (childOffset > 0) {\n      childOffset = node.childNodes.length;\n    }\n  } // If the child offset is zero and we have an offset key, we're done.\n  // If there's no offset key because the entire editor is selected,\n  // find the leftmost (\"first\") leaf in the tree and use that as the offset\n  // key.\n\n\n  if (childOffset === 0) {\n    var key = null;\n\n    if (offsetKey != null) {\n      key = offsetKey;\n    } else {\n      var firstLeaf = getFirstLeaf(node);\n      key = nullthrows(getSelectionOffsetKeyForNode(firstLeaf));\n    }\n\n    return {\n      key: key,\n      offset: 0\n    };\n  }\n\n  var nodeBeforeCursor = node.childNodes[childOffset - 1];\n  var leafKey = null;\n  var textLength = null;\n\n  if (!getSelectionOffsetKeyForNode(nodeBeforeCursor)) {\n    // Our target node may be a leaf or a text node, in which case we're\n    // already where we want to be and can just use the child's length as\n    // our offset.\n    leafKey = nullthrows(offsetKey);\n    textLength = getTextContentLength(nodeBeforeCursor);\n  } else {\n    // Otherwise, we'll look at the child to the left of the cursor and find\n    // the last leaf node in its subtree.\n    var lastLeaf = getLastLeaf(nodeBeforeCursor);\n    leafKey = nullthrows(getSelectionOffsetKeyForNode(lastLeaf));\n    textLength = getTextContentLength(lastLeaf);\n  }\n\n  return {\n    key: leafKey,\n    offset: textLength\n  };\n}\n/**\n * Return the length of a node's textContent, regarding single newline\n * characters as zero-length. This allows us to avoid problems with identifying\n * the correct selection offset for empty blocks in IE, in which we\n * render newlines instead of break tags.\n */\n\n\nfunction getTextContentLength(node) {\n  var textContent = node.textContent;\n  return textContent === '\\n' ? 0 : textContent.length;\n}\n\nmodule.exports = getDraftEditorSelectionWithNodes;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nfunction getUpdatedSelectionState(editorState, anchorKey, anchorOffset, focusKey, focusOffset) {\n  var selection = nullthrows(editorState.getSelection());\n\n  if (!anchorKey || !focusKey) {\n    // If we cannot make sense of the updated selection state, stick to the current one.\n    if (process.env.NODE_ENV !== \"production\") {\n      /* eslint-disable-next-line */\n      console.warn('Invalid selection state.', arguments, editorState.toJS());\n    }\n\n    return selection;\n  }\n\n  var anchorPath = DraftOffsetKey.decode(anchorKey);\n  var anchorBlockKey = anchorPath.blockKey;\n  var anchorLeafBlockTree = editorState.getBlockTree(anchorBlockKey);\n  var anchorLeaf = anchorLeafBlockTree && anchorLeafBlockTree.getIn([anchorPath.decoratorKey, 'leaves', anchorPath.leafKey]);\n  var focusPath = DraftOffsetKey.decode(focusKey);\n  var focusBlockKey = focusPath.blockKey;\n  var focusLeafBlockTree = editorState.getBlockTree(focusBlockKey);\n  var focusLeaf = focusLeafBlockTree && focusLeafBlockTree.getIn([focusPath.decoratorKey, 'leaves', focusPath.leafKey]);\n\n  if (!anchorLeaf || !focusLeaf) {\n    // If we cannot make sense of the updated selection state, stick to the current one.\n    if (process.env.NODE_ENV !== \"production\") {\n      /* eslint-disable-next-line */\n      console.warn('Invalid selection state.', arguments, editorState.toJS());\n    }\n\n    return selection;\n  }\n\n  var anchorLeafStart = anchorLeaf.get('start');\n  var focusLeafStart = focusLeaf.get('start');\n  var anchorBlockOffset = anchorLeaf ? anchorLeafStart + anchorOffset : null;\n  var focusBlockOffset = focusLeaf ? focusLeafStart + focusOffset : null;\n  var areEqual = selection.getAnchorKey() === anchorBlockKey && selection.getAnchorOffset() === anchorBlockOffset && selection.getFocusKey() === focusBlockKey && selection.getFocusOffset() === focusBlockOffset;\n\n  if (areEqual) {\n    return selection;\n  }\n\n  var isBackward = false;\n\n  if (anchorBlockKey === focusBlockKey) {\n    var anchorLeafEnd = anchorLeaf.get('end');\n    var focusLeafEnd = focusLeaf.get('end');\n\n    if (focusLeafStart === anchorLeafStart && focusLeafEnd === anchorLeafEnd) {\n      isBackward = focusOffset < anchorOffset;\n    } else {\n      isBackward = focusLeafStart < anchorLeafStart;\n    }\n  } else {\n    var startKey = editorState.getCurrentContent().getBlockMap().keySeq().skipUntil(function (v) {\n      return v === anchorBlockKey || v === focusBlockKey;\n    }).first();\n    isBackward = startKey === focusBlockKey;\n  }\n\n  return selection.merge({\n    anchorKey: anchorBlockKey,\n    anchorOffset: anchorBlockOffset,\n    focusKey: focusBlockKey,\n    focusOffset: focusBlockOffset,\n    isBackward: isBackward\n  });\n}\n\nmodule.exports = getUpdatedSelectionState;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * Provides utilities for handling draftjs keys.\n *\n * @emails oncall+draft_js\n * \n * @format\n */\n'use strict';\n\nfunction notEmptyKey(key) {\n  return key != null && key != '';\n}\n\nmodule.exports = {\n  notEmptyKey: notEmptyKey\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar DraftEditorTextNode = require(\"./DraftEditorTextNode.react\");\n\nvar React = require(\"react\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLBRElement = require(\"./isHTMLBRElement\");\n\nvar setDraftEditorSelection = require(\"./setDraftEditorSelection\").setDraftEditorSelection;\n\n/**\n * All leaf nodes in the editor are spans with single text nodes. Leaf\n * elements are styled based on the merging of an optional custom style map\n * and a default style map.\n *\n * `DraftEditorLeaf` also provides a wrapper for calling into the imperative\n * DOM Selection API. In this way, top-level components can declaratively\n * maintain the selection state.\n */\nvar DraftEditorLeaf = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorLeaf, _React$Component);\n\n  function DraftEditorLeaf() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"leaf\", void 0);\n\n    return _this;\n  }\n\n  var _proto = DraftEditorLeaf.prototype;\n\n  _proto._setSelection = function _setSelection() {\n    var selection = this.props.selection; // If selection state is irrelevant to the parent block, no-op.\n\n    if (selection == null || !selection.getHasFocus()) {\n      return;\n    }\n\n    var _this$props = this.props,\n        block = _this$props.block,\n        start = _this$props.start,\n        text = _this$props.text;\n    var blockKey = block.getKey();\n    var end = start + text.length;\n\n    if (!selection.hasEdgeWithin(blockKey, start, end)) {\n      return;\n    } // Determine the appropriate target node for selection. If the child\n    // is not a text node, it is a <br /> spacer. In this case, use the\n    // <span> itself as the selection target.\n\n\n    var node = this.leaf;\n    !node ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Missing node') : invariant(false) : void 0;\n    var child = node.firstChild;\n    !child ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Missing child') : invariant(false) : void 0;\n    var targetNode;\n\n    if (child.nodeType === Node.TEXT_NODE) {\n      targetNode = child;\n    } else if (isHTMLBRElement(child)) {\n      targetNode = node;\n    } else {\n      targetNode = child.firstChild;\n      !targetNode ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Missing targetNode') : invariant(false) : void 0;\n    }\n\n    setDraftEditorSelection(selection, targetNode, blockKey, start, end);\n  };\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    var leafNode = this.leaf;\n    !leafNode ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Missing leafNode') : invariant(false) : void 0;\n    var shouldUpdate = leafNode.textContent !== nextProps.text || nextProps.styleSet !== this.props.styleSet || nextProps.forceSelection;\n    return shouldUpdate;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this._setSelection();\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._setSelection();\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var block = this.props.block;\n    var text = this.props.text; // If the leaf is at the end of its block and ends in a soft newline, append\n    // an extra line feed character. Browsers collapse trailing newline\n    // characters, which leaves the cursor in the wrong place after a\n    // shift+enter. The extra character repairs this.\n\n    if (text.endsWith('\\n') && this.props.isLast) {\n      text += '\\n';\n    }\n\n    var _this$props2 = this.props,\n        customStyleMap = _this$props2.customStyleMap,\n        customStyleFn = _this$props2.customStyleFn,\n        offsetKey = _this$props2.offsetKey,\n        styleSet = _this$props2.styleSet;\n    var styleObj = styleSet.reduce(function (map, styleName) {\n      var mergedStyles = {};\n      var style = customStyleMap[styleName];\n\n      if (style !== undefined && map.textDecoration !== style.textDecoration) {\n        // .trim() is necessary for IE9/10/11 and Edge\n        mergedStyles.textDecoration = [map.textDecoration, style.textDecoration].join(' ').trim();\n      }\n\n      return _assign(map, style, mergedStyles);\n    }, {});\n\n    if (customStyleFn) {\n      var newStyles = customStyleFn(styleSet, block);\n      styleObj = _assign(styleObj, newStyles);\n    }\n\n    return React.createElement(\"span\", {\n      \"data-offset-key\": offsetKey,\n      ref: function ref(_ref) {\n        return _this2.leaf = _ref;\n      },\n      style: styleObj\n    }, React.createElement(DraftEditorTextNode, null, text));\n  };\n\n  return DraftEditorLeaf;\n}(React.Component);\n\nmodule.exports = DraftEditorLeaf;","\"use strict\";\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\nvar isElement = require(\"./isElement\");\n\nfunction isHTMLBRElement(node) {\n  if (!node || !node.ownerDocument) {\n    return false;\n  }\n\n  return isElement(node) && node.nodeName === 'BR';\n}\n\nmodule.exports = isHTMLBRElement;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n\nmodule.exports = {\n  initODS: function initODS() {},\n  handleExtensionCausedError: function handleExtensionCausedError() {}\n};","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\n/* eslint-disable fb-www/typeof-undefined */\n\n/**\n * Same as document.activeElement but wraps in a try-catch block. In IE it is\n * not safe to call document.activeElement if there is nothing focused.\n *\n * The activeElement will be null only if the document or document body is not\n * yet defined.\n *\n * @param {?DOMDocument} doc Defaults to current document.\n * @return {?DOMElement}\n */\nfunction getActiveElement(doc)\n/*?DOMElement*/\n{\n  doc = doc || (typeof document !== 'undefined' ? document : undefined);\n\n  if (typeof doc === 'undefined') {\n    return null;\n  }\n\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\n\nmodule.exports = getActiveElement;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\nvar getElementRect = require(\"./getElementRect\");\n/**\n * Gets an element's position in pixels relative to the viewport. The returned\n * object represents the position of the element's top left corner.\n *\n * @param {DOMElement} element\n * @return {object}\n */\n\n\nfunction getElementPosition(element) {\n  var rect = getElementRect(element);\n  return {\n    x: rect.left,\n    y: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n}\n\nmodule.exports = getElementPosition;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @typechecks\n */\nfunction getViewportWidth() {\n  var width;\n\n  if (document.documentElement) {\n    width = document.documentElement.clientWidth;\n  }\n\n  if (!width && document.body) {\n    width = document.body.clientWidth;\n  }\n\n  return width || 0;\n}\n\nfunction getViewportHeight() {\n  var height;\n\n  if (document.documentElement) {\n    height = document.documentElement.clientHeight;\n  }\n\n  if (!height && document.body) {\n    height = document.body.clientHeight;\n  }\n\n  return height || 0;\n}\n/**\n * Gets the viewport dimensions including any scrollbars.\n */\n\n\nfunction getViewportDimensions() {\n  return {\n    width: window.innerWidth || getViewportWidth(),\n    height: window.innerHeight || getViewportHeight()\n  };\n}\n/**\n * Gets the viewport dimensions excluding any scrollbars.\n */\n\n\ngetViewportDimensions.withoutScrollbars = function () {\n  return {\n    width: getViewportWidth(),\n    height: getViewportHeight()\n  };\n};\n\nmodule.exports = getViewportDimensions;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() { _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar DraftEditorLeaf = require(\"./DraftEditorLeaf.react\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar React = require(\"react\");\n\nvar Scroll = require(\"fbjs/lib/Scroll\");\n\nvar Style = require(\"fbjs/lib/Style\");\n\nvar UnicodeBidi = require(\"fbjs/lib/UnicodeBidi\");\n\nvar UnicodeBidiDirection = require(\"fbjs/lib/UnicodeBidiDirection\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar getElementPosition = require(\"fbjs/lib/getElementPosition\");\n\nvar getScrollPosition = require(\"fbjs/lib/getScrollPosition\");\n\nvar getViewportDimensions = require(\"fbjs/lib/getViewportDimensions\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar SCROLL_BUFFER = 10;\n\n/**\n * Return whether a block overlaps with either edge of the `SelectionState`.\n */\nvar isBlockOnSelectionEdge = function isBlockOnSelectionEdge(selection, key) {\n  return selection.getAnchorKey() === key || selection.getFocusKey() === key;\n};\n/**\n * The default block renderer for a `DraftEditor` component.\n *\n * A `DraftEditorBlock` is able to render a given `ContentBlock` to its\n * appropriate decorator and inline style components.\n */\n\n\nvar DraftEditorBlock = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorBlock, _React$Component);\n\n  function DraftEditorBlock() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_node\", void 0);\n\n    return _this;\n  }\n\n  var _proto = DraftEditorBlock.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    return this.props.block !== nextProps.block || this.props.tree !== nextProps.tree || this.props.direction !== nextProps.direction || isBlockOnSelectionEdge(nextProps.selection, nextProps.block.getKey()) && nextProps.forceSelection;\n  }\n  /**\n   * When a block is mounted and overlaps the selection state, we need to make\n   * sure that the cursor is visible to match native behavior. This may not\n   * be the case if the user has pressed `RETURN` or pasted some content, since\n   * programmatically creating these new blocks and setting the DOM selection\n   * will miss out on the browser natively scrolling to that position.\n   *\n   * To replicate native behavior, if the block overlaps the selection state\n   * on mount, force the scroll position. Check the scroll state of the scroll\n   * parent, and adjust it to align the entire block to the bottom of the\n   * scroll parent.\n   */\n  ;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.props.preventScroll) {\n      return;\n    }\n\n    var selection = this.props.selection;\n    var endKey = selection.getEndKey();\n\n    if (!selection.getHasFocus() || endKey !== this.props.block.getKey()) {\n      return;\n    }\n\n    var blockNode = this._node;\n\n    if (blockNode == null) {\n      return;\n    }\n\n    var scrollParent = Style.getScrollParent(blockNode);\n    var scrollPosition = getScrollPosition(scrollParent);\n    var scrollDelta;\n\n    if (scrollParent === window) {\n      var nodePosition = getElementPosition(blockNode);\n      var nodeBottom = nodePosition.y + nodePosition.height;\n      var viewportHeight = getViewportDimensions().height;\n      scrollDelta = nodeBottom - viewportHeight;\n\n      if (scrollDelta > 0) {\n        window.scrollTo(scrollPosition.x, scrollPosition.y + scrollDelta + SCROLL_BUFFER);\n      }\n    } else {\n      !isHTMLElement(blockNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'blockNode is not an HTMLElement') : invariant(false) : void 0;\n      var blockBottom = blockNode.offsetHeight + blockNode.offsetTop;\n      var pOffset = scrollParent.offsetTop + scrollParent.offsetHeight;\n      var scrollBottom = pOffset + scrollPosition.y;\n      scrollDelta = blockBottom - scrollBottom;\n\n      if (scrollDelta > 0) {\n        Scroll.setTop(scrollParent, Scroll.getTop(scrollParent) + scrollDelta + SCROLL_BUFFER);\n      }\n    }\n  };\n\n  _proto._renderChildren = function _renderChildren() {\n    var _this2 = this;\n\n    var block = this.props.block;\n    var blockKey = block.getKey();\n    var text = block.getText();\n    var lastLeafSet = this.props.tree.size - 1;\n    var hasSelection = isBlockOnSelectionEdge(this.props.selection, blockKey);\n    return this.props.tree.map(function (leafSet, ii) {\n      var leavesForLeafSet = leafSet.get('leaves'); // T44088704\n\n      if (leavesForLeafSet.size === 0) {\n        return null;\n      }\n\n      var lastLeaf = leavesForLeafSet.size - 1;\n      var leaves = leavesForLeafSet.map(function (leaf, jj) {\n        var offsetKey = DraftOffsetKey.encode(blockKey, ii, jj);\n        var start = leaf.get('start');\n        var end = leaf.get('end');\n        return React.createElement(DraftEditorLeaf, {\n          key: offsetKey,\n          offsetKey: offsetKey,\n          block: block,\n          start: start,\n          selection: hasSelection ? _this2.props.selection : null,\n          forceSelection: _this2.props.forceSelection,\n          text: text.slice(start, end),\n          styleSet: block.getInlineStyleAt(start),\n          customStyleMap: _this2.props.customStyleMap,\n          customStyleFn: _this2.props.customStyleFn,\n          isLast: ii === lastLeafSet && jj === lastLeaf\n        });\n      }).toArray();\n      var decoratorKey = leafSet.get('decoratorKey');\n\n      if (decoratorKey == null) {\n        return leaves;\n      }\n\n      if (!_this2.props.decorator) {\n        return leaves;\n      }\n\n      var decorator = nullthrows(_this2.props.decorator);\n      var DecoratorComponent = decorator.getComponentForKey(decoratorKey);\n\n      if (!DecoratorComponent) {\n        return leaves;\n      }\n\n      var decoratorProps = decorator.getPropsForKey(decoratorKey);\n      var decoratorOffsetKey = DraftOffsetKey.encode(blockKey, ii, 0);\n      var start = leavesForLeafSet.first().get('start');\n      var end = leavesForLeafSet.last().get('end');\n      var decoratedText = text.slice(start, end);\n      var entityKey = block.getEntityAt(leafSet.get('start')); // Resetting dir to the same value on a child node makes Chrome/Firefox\n      // confused on cursor movement. See http://jsfiddle.net/d157kLck/3/\n\n      var dir = UnicodeBidiDirection.getHTMLDirIfDifferent(UnicodeBidi.getDirection(decoratedText), _this2.props.direction);\n      var commonProps = {\n        contentState: _this2.props.contentState,\n        decoratedText: decoratedText,\n        dir: dir,\n        start: start,\n        end: end,\n        blockKey: blockKey,\n        entityKey: entityKey,\n        offsetKey: decoratorOffsetKey\n      };\n      return React.createElement(DecoratorComponent, _extends({}, decoratorProps, commonProps, {\n        key: decoratorOffsetKey\n      }), leaves);\n    }).toArray();\n  };\n\n  _proto.render = function render() {\n    var _this3 = this;\n\n    var _this$props = this.props,\n        direction = _this$props.direction,\n        offsetKey = _this$props.offsetKey;\n    var className = cx({\n      'public/DraftStyleDefault/block': true,\n      'public/DraftStyleDefault/ltr': direction === 'LTR',\n      'public/DraftStyleDefault/rtl': direction === 'RTL'\n    });\n    return React.createElement(\"div\", {\n      \"data-offset-key\": offsetKey,\n      className: className,\n      ref: function ref(_ref) {\n        return _this3._node = _ref;\n      }\n    }, this._renderChildren());\n  };\n\n  return DraftEditorBlock;\n}(React.Component);\n\nmodule.exports = DraftEditorBlock;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\nvar PhotosMimeType = require(\"./PhotosMimeType\");\n\nvar createArrayFromMixed = require(\"./createArrayFromMixed\");\n\nvar emptyFunction = require(\"./emptyFunction\");\n\nvar CR_LF_REGEX = new RegExp(\"\\r\\n\", 'g');\nvar LF_ONLY = \"\\n\";\nvar RICH_TEXT_TYPES = {\n  'text/rtf': 1,\n  'text/html': 1\n};\n/**\n * If DataTransferItem is a file then return the Blob of data.\n *\n * @param {object} item\n * @return {?blob}\n */\n\nfunction getFileFromDataTransfer(item) {\n  if (item.kind == 'file') {\n    return item.getAsFile();\n  }\n}\n\nvar DataTransfer =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {object} data\n   */\n  function DataTransfer(data) {\n    this.data = data; // Types could be DOMStringList or array\n\n    this.types = data.types ? createArrayFromMixed(data.types) : [];\n  }\n  /**\n   * Is this likely to be a rich text data transfer?\n   *\n   * @return {boolean}\n   */\n\n\n  var _proto = DataTransfer.prototype;\n\n  _proto.isRichText = function isRichText() {\n    // If HTML is available, treat this data as rich text. This way, we avoid\n    // using a pasted image if it is packaged with HTML -- this may occur with\n    // pastes from MS Word, for example.  However this is only rich text if\n    // there's accompanying text.\n    if (this.getHTML() && this.getText()) {\n      return true;\n    } // When an image is copied from a preview window, you end up with two\n    // DataTransferItems one of which is a file's metadata as text.  Skip those.\n\n\n    if (this.isImage()) {\n      return false;\n    }\n\n    return this.types.some(function (type) {\n      return RICH_TEXT_TYPES[type];\n    });\n  };\n  /**\n   * Get raw text.\n   *\n   * @return {?string}\n   */\n\n\n  _proto.getText = function getText() {\n    var text;\n\n    if (this.data.getData) {\n      if (!this.types.length) {\n        text = this.data.getData('Text');\n      } else if (this.types.indexOf('text/plain') != -1) {\n        text = this.data.getData('text/plain');\n      }\n    }\n\n    return text ? text.replace(CR_LF_REGEX, LF_ONLY) : null;\n  };\n  /**\n   * Get HTML paste data\n   *\n   * @return {?string}\n   */\n\n\n  _proto.getHTML = function getHTML() {\n    if (this.data.getData) {\n      if (!this.types.length) {\n        return this.data.getData('Text');\n      } else if (this.types.indexOf('text/html') != -1) {\n        return this.data.getData('text/html');\n      }\n    }\n  };\n  /**\n   * Is this a link data transfer?\n   *\n   * @return {boolean}\n   */\n\n\n  _proto.isLink = function isLink() {\n    return this.types.some(function (type) {\n      return type.indexOf('Url') != -1 || type.indexOf('text/uri-list') != -1 || type.indexOf('text/x-moz-url');\n    });\n  };\n  /**\n   * Get a link url.\n   *\n   * @return {?string}\n   */\n\n\n  _proto.getLink = function getLink() {\n    if (this.data.getData) {\n      if (this.types.indexOf('text/x-moz-url') != -1) {\n        var url = this.data.getData('text/x-moz-url').split('\\n');\n        return url[0];\n      }\n\n      return this.types.indexOf('text/uri-list') != -1 ? this.data.getData('text/uri-list') : this.data.getData('url');\n    }\n\n    return null;\n  };\n  /**\n   * Is this an image data transfer?\n   *\n   * @return {boolean}\n   */\n\n\n  _proto.isImage = function isImage() {\n    var isImage = this.types.some(function (type) {\n      // Firefox will have a type of application/x-moz-file for images during\n      // dragging\n      return type.indexOf('application/x-moz-file') != -1;\n    });\n\n    if (isImage) {\n      return true;\n    }\n\n    var items = this.getFiles();\n\n    for (var i = 0; i < items.length; i++) {\n      var type = items[i].type;\n\n      if (!PhotosMimeType.isImage(type)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  _proto.getCount = function getCount() {\n    if (this.data.hasOwnProperty('items')) {\n      return this.data.items.length;\n    } else if (this.data.hasOwnProperty('mozItemCount')) {\n      return this.data.mozItemCount;\n    } else if (this.data.files) {\n      return this.data.files.length;\n    }\n\n    return null;\n  };\n  /**\n   * Get files.\n   *\n   * @return {array}\n   */\n\n\n  _proto.getFiles = function getFiles() {\n    if (this.data.items) {\n      // createArrayFromMixed doesn't properly handle DataTransferItemLists.\n      return Array.prototype.slice.call(this.data.items).map(getFileFromDataTransfer).filter(emptyFunction.thatReturnsArgument);\n    } else if (this.data.files) {\n      return Array.prototype.slice.call(this.data.files);\n    } else {\n      return [];\n    }\n  };\n  /**\n   * Are there any files to fetch?\n   *\n   * @return {boolean}\n   */\n\n\n  _proto.hasFiles = function hasFiles() {\n    return this.getFiles().length > 0;\n  };\n\n  return DataTransfer;\n}();\n\nmodule.exports = DataTransfer;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\n\n\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\n\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\n\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar TEXT_CLIPPING_REGEX = /\\.textClipping$/;\nvar TEXT_TYPES = {\n  'text/plain': true,\n  'text/html': true,\n  'text/rtf': true\n}; // Somewhat arbitrary upper bound on text size. Let's not lock up the browser.\n\nvar TEXT_SIZE_UPPER_BOUND = 5000;\n/**\n * Extract the text content from a file list.\n */\n\nfunction getTextContentFromFiles(files, callback) {\n  var readCount = 0;\n  var results = [];\n  files.forEach(function (\n  /*blob*/\n  file) {\n    readFile(file, function (\n    /*string*/\n    text) {\n      readCount++;\n      text && results.push(text.slice(0, TEXT_SIZE_UPPER_BOUND));\n\n      if (readCount == files.length) {\n        callback(results.join('\\r'));\n      }\n    });\n  });\n}\n/**\n * todo isaac: Do work to turn html/rtf into a content fragment.\n */\n\n\nfunction readFile(file, callback) {\n  if (!global.FileReader || file.type && !(file.type in TEXT_TYPES)) {\n    callback('');\n    return;\n  }\n\n  if (file.type === '') {\n    var _contents = ''; // Special-case text clippings, which have an empty type but include\n    // `.textClipping` in the file name. `readAsText` results in an empty\n    // string for text clippings, so we force the file name to serve\n    // as the text value for the file.\n\n    if (TEXT_CLIPPING_REGEX.test(file.name)) {\n      _contents = file.name.replace(TEXT_CLIPPING_REGEX, '');\n    }\n\n    callback(_contents);\n    return;\n  }\n\n  var reader = new FileReader();\n\n  reader.onload = function () {\n    var result = reader.result;\n    !(typeof result === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'We should be calling \"FileReader.readAsText\" which returns a string') : invariant(false) : void 0;\n    callback(result);\n  };\n\n  reader.onerror = function () {\n    callback('');\n  };\n\n  reader.readAsText(file);\n}\n\nmodule.exports = getTextContentFromFiles;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar getContentStateFragment = require(\"./getContentStateFragment\");\n\nfunction getFragmentFromSelection(editorState) {\n  var selectionState = editorState.getSelection();\n\n  if (selectionState.isCollapsed()) {\n    return null;\n  }\n\n  return getContentStateFragment(editorState.getCurrentContent(), selectionState);\n}\n\nmodule.exports = getFragmentFromSelection;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n\nvar UnicodeUtils = require(\"fbjs/lib/UnicodeUtils\");\n\nvar moveSelectionBackward = require(\"./moveSelectionBackward\");\n\nvar removeTextWithStrategy = require(\"./removeTextWithStrategy\");\n/**\n * Remove the selected range. If the cursor is collapsed, remove the preceding\n * character. This operation is Unicode-aware, so removing a single character\n * will remove a surrogate pair properly as well.\n */\n\n\nfunction keyCommandPlainBackspace(editorState) {\n  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {\n    var selection = strategyState.getSelection();\n    var content = strategyState.getCurrentContent();\n    var key = selection.getAnchorKey();\n    var offset = selection.getAnchorOffset();\n    var charBehind = content.getBlockForKey(key).getText()[offset - 1];\n    return moveSelectionBackward(strategyState, charBehind ? UnicodeUtils.getUTF16Length(charBehind, 0) : 1);\n  }, 'backward');\n\n  if (afterRemoval === editorState.getCurrentContent()) {\n    return editorState;\n  }\n\n  var selection = editorState.getSelection();\n  return EditorState.push(editorState, afterRemoval.set('selectionBefore', selection), selection.isCollapsed() ? 'backspace-character' : 'remove-range');\n}\n\nmodule.exports = keyCommandPlainBackspace;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isChrome = UserAgent.isBrowser('Chrome'); // In Chrome, the client rects will include the entire bounds of all nodes that\n// begin (have a start tag) within the selection, even if the selection does\n// not overlap the entire node. To resolve this, we split the range at each\n// start tag and join the client rects together.\n// https://code.google.com/p/chromium/issues/detail?id=324437\n\n/* eslint-disable consistent-return */\n\nfunction getRangeClientRectsChrome(range) {\n  var tempRange = range.cloneRange();\n  var clientRects = [];\n\n  for (var ancestor = range.endContainer; ancestor != null; ancestor = ancestor.parentNode) {\n    // If we've climbed up to the common ancestor, we can now use the\n    // original start point and stop climbing the tree.\n    var atCommonAncestor = ancestor === range.commonAncestorContainer;\n\n    if (atCommonAncestor) {\n      tempRange.setStart(range.startContainer, range.startOffset);\n    } else {\n      tempRange.setStart(tempRange.endContainer, 0);\n    }\n\n    var rects = Array.from(tempRange.getClientRects());\n    clientRects.push(rects);\n\n    if (atCommonAncestor) {\n      var _ref;\n\n      clientRects.reverse();\n      return (_ref = []).concat.apply(_ref, clientRects);\n    }\n\n    tempRange.setEndBefore(ancestor);\n  }\n\n  !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Found an unexpected detached subtree when getting range client rects.') : invariant(false) : void 0;\n}\n/* eslint-enable consistent-return */\n\n/**\n * Like range.getClientRects() but normalizes for browser bugs.\n */\n\n\nvar getRangeClientRects = isChrome ? getRangeClientRectsChrome : function (range) {\n  return Array.from(range.getClientRects());\n};\nmodule.exports = getRangeClientRects;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar TokenizeUtil = require(\"fbjs/lib/TokenizeUtil\");\n\nvar punctuation = TokenizeUtil.getPunctuation(); // The apostrophe and curly single quotes behave in a curious way: when\n// surrounded on both sides by word characters, they behave as word chars; when\n// either neighbor is punctuation or an end of the string, they behave as\n// punctuation.\n\nvar CHAMELEON_CHARS = \"['\\u2018\\u2019]\"; // Remove the underscore, which should count as part of the removable word. The\n// \"chameleon chars\" also count as punctuation in this regex.\n\nvar WHITESPACE_AND_PUNCTUATION = '\\\\s|(?![_])' + punctuation;\nvar DELETE_STRING = '^' + '(?:' + WHITESPACE_AND_PUNCTUATION + ')*' + '(?:' + CHAMELEON_CHARS + '|(?!' + WHITESPACE_AND_PUNCTUATION + ').)*' + '(?:(?!' + WHITESPACE_AND_PUNCTUATION + ').)';\nvar DELETE_REGEX = new RegExp(DELETE_STRING);\nvar BACKSPACE_STRING = '(?:(?!' + WHITESPACE_AND_PUNCTUATION + ').)' + '(?:' + CHAMELEON_CHARS + '|(?!' + WHITESPACE_AND_PUNCTUATION + ').)*' + '(?:' + WHITESPACE_AND_PUNCTUATION + ')*' + '$';\nvar BACKSPACE_REGEX = new RegExp(BACKSPACE_STRING);\n\nfunction getRemovableWord(text, isBackward) {\n  var matches = isBackward ? BACKSPACE_REGEX.exec(text) : DELETE_REGEX.exec(text);\n  return matches ? matches[0] : text;\n}\n\nvar DraftRemovableWord = {\n  getBackward: function getBackward(text) {\n    return getRemovableWord(text, true);\n  },\n  getForward: function getForward(text) {\n    return getRemovableWord(text, false);\n  }\n};\nmodule.exports = DraftRemovableWord;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar warning = require(\"fbjs/lib/warning\");\n/**\n * Given a collapsed selection, move the focus `maxDistance` forward within\n * the selected block. If the selection will go beyond the end of the block,\n * move focus to the start of the next block, but no further.\n *\n * This function is not Unicode-aware, so surrogate pairs will be treated\n * as having length 2.\n */\n\n\nfunction moveSelectionForward(editorState, maxDistance) {\n  var selection = editorState.getSelection(); // Should eventually make this an invariant\n\n  process.env.NODE_ENV !== \"production\" ? warning(selection.isCollapsed(), 'moveSelectionForward should only be called with a collapsed SelectionState') : void 0;\n  var key = selection.getStartKey();\n  var offset = selection.getStartOffset();\n  var content = editorState.getCurrentContent();\n  var focusKey = key;\n  var focusOffset;\n  var block = content.getBlockForKey(key);\n\n  if (maxDistance > block.getText().length - offset) {\n    focusKey = content.getKeyAfter(key);\n    focusOffset = 0;\n  } else {\n    focusOffset = offset + maxDistance;\n  }\n\n  return selection.merge({\n    focusKey: focusKey,\n    focusOffset: focusOffset\n  });\n}\n\nmodule.exports = moveSelectionForward;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar _knownListItemDepthCl;\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar ContentBlock = require(\"./ContentBlock\");\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar DefaultDraftBlockRenderMap = require(\"./DefaultDraftBlockRenderMap\");\n\nvar DraftEntity = require(\"./DraftEntity\");\n\nvar URI = require(\"fbjs/lib/URI\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getSafeBodyFromHTML = require(\"./getSafeBodyFromHTML\");\n\nvar gkx = require(\"./gkx\");\n\nvar _require = require(\"immutable\"),\n    List = _require.List,\n    Map = _require.Map,\n    OrderedSet = _require.OrderedSet;\n\nvar isHTMLAnchorElement = require(\"./isHTMLAnchorElement\");\n\nvar isHTMLBRElement = require(\"./isHTMLBRElement\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nvar isHTMLImageElement = require(\"./isHTMLImageElement\");\n\nvar experimentalTreeDataSupport = gkx('draft_tree_data_support');\nvar NBSP = '&nbsp;';\nvar SPACE = ' '; // used for replacing characters in HTML\n\nvar REGEX_CR = new RegExp('\\r', 'g');\nvar REGEX_LF = new RegExp('\\n', 'g');\nvar REGEX_LEADING_LF = new RegExp('^\\n', 'g');\nvar REGEX_NBSP = new RegExp(NBSP, 'g');\nvar REGEX_CARRIAGE = new RegExp('&#13;?', 'g');\nvar REGEX_ZWS = new RegExp('&#8203;?', 'g'); // https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight\n\nvar boldValues = ['bold', 'bolder', '500', '600', '700', '800', '900'];\nvar notBoldValues = ['light', 'lighter', 'normal', '100', '200', '300', '400'];\nvar anchorAttr = ['className', 'href', 'rel', 'target', 'title'];\nvar imgAttr = ['alt', 'className', 'height', 'src', 'width'];\nvar knownListItemDepthClasses = (_knownListItemDepthCl = {}, _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth0'), 0), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth1'), 1), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth2'), 2), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth3'), 3), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth4'), 4), _knownListItemDepthCl);\nvar HTMLTagToRawInlineStyleMap = Map({\n  b: 'BOLD',\n  code: 'CODE',\n  del: 'STRIKETHROUGH',\n  em: 'ITALIC',\n  i: 'ITALIC',\n  s: 'STRIKETHROUGH',\n  strike: 'STRIKETHROUGH',\n  strong: 'BOLD',\n  u: 'UNDERLINE',\n  mark: 'HIGHLIGHT'\n});\n\n/**\n * Build a mapping from HTML tags to draftjs block types\n * out of a BlockRenderMap.\n *\n * The BlockTypeMap for the default BlockRenderMap looks like this:\n *   Map({\n *     h1: 'header-one',\n *     h2: 'header-two',\n *     h3: 'header-three',\n *     h4: 'header-four',\n *     h5: 'header-five',\n *     h6: 'header-six',\n *     blockquote: 'blockquote',\n *     figure: 'atomic',\n *     pre: ['code-block'],\n *     div: 'unstyled',\n *     p: 'unstyled',\n *     li: ['ordered-list-item', 'unordered-list-item'],\n *   })\n */\nvar buildBlockTypeMap = function buildBlockTypeMap(blockRenderMap) {\n  var blockTypeMap = {};\n  blockRenderMap.mapKeys(function (blockType, desc) {\n    var elements = [desc.element];\n\n    if (desc.aliasedElements !== undefined) {\n      elements.push.apply(elements, desc.aliasedElements);\n    }\n\n    elements.forEach(function (element) {\n      if (blockTypeMap[element] === undefined) {\n        blockTypeMap[element] = blockType;\n      } else if (typeof blockTypeMap[element] === 'string') {\n        blockTypeMap[element] = [blockTypeMap[element], blockType];\n      } else {\n        blockTypeMap[element].push(blockType);\n      }\n    });\n  });\n  return Map(blockTypeMap);\n};\n\nvar detectInlineStyle = function detectInlineStyle(node) {\n  if (isHTMLElement(node)) {\n    var element = node; // Currently only used to detect preformatted inline code\n\n    if (element.style.fontFamily.includes('monospace')) {\n      return 'CODE';\n    }\n  }\n\n  return null;\n};\n/**\n * If we're pasting from one DraftEditor to another we can check to see if\n * existing list item depth classes are being used and preserve this style\n */\n\n\nvar getListItemDepth = function getListItemDepth(node) {\n  var depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  Object.keys(knownListItemDepthClasses).some(function (depthClass) {\n    if (node.classList.contains(depthClass)) {\n      depth = knownListItemDepthClasses[depthClass];\n    }\n  });\n  return depth;\n};\n/**\n * Return true if the provided HTML Element can be used to build a\n * Draftjs-compatible link.\n */\n\n\nvar isValidAnchor = function isValidAnchor(node) {\n  if (!isHTMLAnchorElement(node)) {\n    return false;\n  }\n\n  var anchorNode = node;\n\n  if (!anchorNode.href || anchorNode.protocol !== 'http:' && anchorNode.protocol !== 'https:' && anchorNode.protocol !== 'mailto:' && anchorNode.protocol !== 'tel:') {\n    return false;\n  }\n\n  try {\n    // Just checking whether we can actually create a URI\n    var _ = new URI(anchorNode.href);\n\n    return true; // We need our catch statements to have arguments, else\n    // UglifyJS (which we use for our OSS builds) will crash.\n    // eslint-disable-next-line fb-www/no-unused-catch-bindings\n  } catch (_) {\n    return false;\n  }\n};\n/**\n * Return true if the provided HTML Element can be used to build a\n * Draftjs-compatible image.\n */\n\n\nvar isValidImage = function isValidImage(node) {\n  if (!isHTMLImageElement(node)) {\n    return false;\n  }\n\n  var imageNode = node;\n  return !!(imageNode.attributes.getNamedItem('src') && imageNode.attributes.getNamedItem('src').value);\n};\n/**\n * Try to guess the inline style of an HTML element based on its css\n * styles (font-weight, font-style and text-decoration).\n */\n\n\nvar styleFromNodeAttributes = function styleFromNodeAttributes(node, style) {\n  if (!isHTMLElement(node)) {\n    return style;\n  }\n\n  var htmlElement = node;\n  var fontWeight = htmlElement.style.fontWeight;\n  var fontStyle = htmlElement.style.fontStyle;\n  var textDecoration = htmlElement.style.textDecoration;\n  return style.withMutations(function (style) {\n    if (boldValues.indexOf(fontWeight) >= 0) {\n      style.add('BOLD');\n    } else if (notBoldValues.indexOf(fontWeight) >= 0) {\n      style.remove('BOLD');\n    }\n\n    if (fontStyle === 'italic') {\n      style.add('ITALIC');\n    } else if (fontStyle === 'normal') {\n      style.remove('ITALIC');\n    }\n\n    if (textDecoration === 'underline') {\n      style.add('UNDERLINE');\n    }\n\n    if (textDecoration === 'line-through') {\n      style.add('STRIKETHROUGH');\n    }\n\n    if (textDecoration === 'none') {\n      style.remove('UNDERLINE');\n      style.remove('STRIKETHROUGH');\n    }\n  });\n};\n/**\n * Determine if a nodeName is a list type, 'ul' or 'ol'\n */\n\n\nvar isListNode = function isListNode(nodeName) {\n  return nodeName === 'ul' || nodeName === 'ol';\n};\n/**\n *  ContentBlockConfig is a mutable data structure that holds all\n *  the information required to build a ContentBlock and an array of\n *  all the child nodes (childConfigs).\n *  It is being used a temporary data structure by the\n *  ContentBlocksBuilder class.\n */\n\n\n/**\n * ContentBlocksBuilder builds a list of ContentBlocks and an Entity Map\n * out of one (or several) HTMLElement(s).\n *\n * The algorithm has two passes: first it builds a tree of ContentBlockConfigs\n * by walking through the HTML nodes and their children, then it walks the\n * ContentBlockConfigs tree to compute parents/siblings and create\n * the actual ContentBlocks.\n *\n * Typical usage is:\n *     new ContentBlocksBuilder()\n *        .addDOMNode(someHTMLNode)\n *        .addDOMNode(someOtherHTMLNode)\n *       .getContentBlocks();\n *\n */\nvar ContentBlocksBuilder = /*#__PURE__*/function () {\n  // Most of the method in the class depend on the state of the content builder\n  // (i.e. currentBlockType, currentDepth, currentEntity etc.). Though it may\n  // be confusing at first, it made the code simpler than the alternative which\n  // is to pass those values around in every call.\n  // The following attributes are used to accumulate text and styles\n  // as we are walking the HTML node tree.\n  // Describes the future ContentState as a tree of content blocks\n  // The content blocks generated from the blockConfigs\n  // Entity map use to store links and images found in the HTML nodes\n  // Map HTML tags to draftjs block types and disambiguation function\n  function ContentBlocksBuilder(blockTypeMap, disambiguate) {\n    _defineProperty(this, \"characterList\", List());\n\n    _defineProperty(this, \"currentBlockType\", 'unstyled');\n\n    _defineProperty(this, \"currentDepth\", 0);\n\n    _defineProperty(this, \"currentEntity\", null);\n\n    _defineProperty(this, \"currentText\", '');\n\n    _defineProperty(this, \"wrapper\", null);\n\n    _defineProperty(this, \"blockConfigs\", []);\n\n    _defineProperty(this, \"contentBlocks\", []);\n\n    _defineProperty(this, \"entityMap\", DraftEntity);\n\n    _defineProperty(this, \"blockTypeMap\", void 0);\n\n    _defineProperty(this, \"disambiguate\", void 0);\n\n    this.clear();\n    this.blockTypeMap = blockTypeMap;\n    this.disambiguate = disambiguate;\n  }\n  /**\n   * Clear the internal state of the ContentBlocksBuilder\n   */\n\n\n  var _proto = ContentBlocksBuilder.prototype;\n\n  _proto.clear = function clear() {\n    this.characterList = List();\n    this.blockConfigs = [];\n    this.currentBlockType = 'unstyled';\n    this.currentDepth = 0;\n    this.currentEntity = null;\n    this.currentText = '';\n    this.entityMap = DraftEntity;\n    this.wrapper = null;\n    this.contentBlocks = [];\n  }\n  /**\n   * Add an HTMLElement to the ContentBlocksBuilder\n   */\n  ;\n\n  _proto.addDOMNode = function addDOMNode(node) {\n    var _this$blockConfigs;\n\n    this.contentBlocks = [];\n    this.currentDepth = 0; // Converts the HTML node to block config\n\n    (_this$blockConfigs = this.blockConfigs).push.apply(_this$blockConfigs, this._toBlockConfigs([node], OrderedSet())); // There might be some left over text in the builder's\n    // internal state, if so make a ContentBlock out of it.\n\n\n    this._trimCurrentText();\n\n    if (this.currentText !== '') {\n      this.blockConfigs.push(this._makeBlockConfig());\n    } // for chaining\n\n\n    return this;\n  }\n  /**\n   * Return the ContentBlocks and the EntityMap that corresponds\n   * to the previously added HTML nodes.\n   */\n  ;\n\n  _proto.getContentBlocks = function getContentBlocks() {\n    if (this.contentBlocks.length === 0) {\n      if (experimentalTreeDataSupport) {\n        this._toContentBlocks(this.blockConfigs);\n      } else {\n        this._toFlatContentBlocks(this.blockConfigs);\n      }\n    }\n\n    return {\n      contentBlocks: this.contentBlocks,\n      entityMap: this.entityMap\n    };\n  } // ***********************************WARNING******************************\n  // The methods below this line are private - don't call them directly.\n\n  /**\n   * Generate a new ContentBlockConfig out of the current internal state\n   * of the builder, then clears the internal state.\n   */\n  ;\n\n  _proto._makeBlockConfig = function _makeBlockConfig() {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var key = config.key || generateRandomKey();\n\n    var block = _objectSpread({\n      key: key,\n      type: this.currentBlockType,\n      text: this.currentText,\n      characterList: this.characterList,\n      depth: this.currentDepth,\n      parent: null,\n      children: List(),\n      prevSibling: null,\n      nextSibling: null,\n      childConfigs: []\n    }, config);\n\n    this.characterList = List();\n    this.currentBlockType = 'unstyled';\n    this.currentText = '';\n    return block;\n  }\n  /**\n   * Converts an array of HTML elements to a multi-root tree of content\n   * block configs. Some text content may be left in the builders internal\n   * state to enable chaining sucessive calls.\n   */\n  ;\n\n  _proto._toBlockConfigs = function _toBlockConfigs(nodes, style) {\n    var blockConfigs = [];\n\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i];\n      var nodeName = node.nodeName.toLowerCase();\n\n      if (nodeName === 'body' || isListNode(nodeName)) {\n        // body, ol and ul are 'block' type nodes so create a block config\n        // with the text accumulated so far (if any)\n        this._trimCurrentText();\n\n        if (this.currentText !== '') {\n          blockConfigs.push(this._makeBlockConfig());\n        } // body, ol and ul nodes are ignored, but their children are inlined in\n        // the parent block config.\n\n\n        var wasCurrentDepth = this.currentDepth;\n        var wasWrapper = this.wrapper;\n\n        if (isListNode(nodeName)) {\n          this.wrapper = nodeName;\n\n          if (isListNode(wasWrapper)) {\n            this.currentDepth++;\n          }\n        }\n\n        blockConfigs.push.apply(blockConfigs, this._toBlockConfigs(Array.from(node.childNodes), style));\n        this.currentDepth = wasCurrentDepth;\n        this.wrapper = wasWrapper;\n        continue;\n      }\n\n      var blockType = this.blockTypeMap.get(nodeName);\n\n      if (blockType !== undefined) {\n        // 'block' type node means we need to create a block config\n        // with the text accumulated so far (if any)\n        this._trimCurrentText();\n\n        if (this.currentText !== '') {\n          blockConfigs.push(this._makeBlockConfig());\n        }\n\n        var _wasCurrentDepth = this.currentDepth;\n        var _wasWrapper = this.wrapper;\n        this.wrapper = nodeName === 'pre' ? 'pre' : this.wrapper;\n\n        if (typeof blockType !== 'string') {\n          blockType = this.disambiguate(nodeName, this.wrapper) || blockType[0] || 'unstyled';\n        }\n\n        if (!experimentalTreeDataSupport && isHTMLElement(node) && (blockType === 'unordered-list-item' || blockType === 'ordered-list-item')) {\n          var htmlElement = node;\n          this.currentDepth = getListItemDepth(htmlElement, this.currentDepth);\n        }\n\n        var key = generateRandomKey();\n\n        var childConfigs = this._toBlockConfigs(Array.from(node.childNodes), style);\n\n        this._trimCurrentText();\n\n        blockConfigs.push(this._makeBlockConfig({\n          key: key,\n          childConfigs: childConfigs,\n          type: blockType\n        }));\n        this.currentDepth = _wasCurrentDepth;\n        this.wrapper = _wasWrapper;\n        continue;\n      }\n\n      if (nodeName === '#text') {\n        this._addTextNode(node, style);\n\n        continue;\n      }\n\n      if (nodeName === 'br') {\n        this._addBreakNode(node, style);\n\n        continue;\n      }\n\n      if (isValidImage(node)) {\n        this._addImgNode(node, style);\n\n        continue;\n      }\n\n      if (isValidAnchor(node)) {\n        this._addAnchorNode(node, blockConfigs, style);\n\n        continue;\n      }\n\n      var newStyle = style;\n\n      if (HTMLTagToRawInlineStyleMap.has(nodeName)) {\n        newStyle = newStyle.add(HTMLTagToRawInlineStyleMap.get(nodeName));\n      }\n\n      newStyle = styleFromNodeAttributes(node, newStyle);\n      var inlineStyle = detectInlineStyle(node);\n\n      if (inlineStyle != null) {\n        newStyle = newStyle.add(inlineStyle);\n      }\n\n      blockConfigs.push.apply(blockConfigs, this._toBlockConfigs(Array.from(node.childNodes), newStyle));\n    }\n\n    return blockConfigs;\n  }\n  /**\n   * Append a string of text to the internal buffer.\n   */\n  ;\n\n  _proto._appendText = function _appendText(text, style) {\n    var _this$characterList;\n\n    this.currentText += text;\n    var characterMetadata = CharacterMetadata.create({\n      style: style,\n      entity: this.currentEntity\n    });\n    this.characterList = (_this$characterList = this.characterList).push.apply(_this$characterList, Array(text.length).fill(characterMetadata));\n  }\n  /**\n   * Trim the text in the internal buffer.\n   */\n  ;\n\n  _proto._trimCurrentText = function _trimCurrentText() {\n    var l = this.currentText.length;\n    var begin = l - this.currentText.trimLeft().length;\n    var end = this.currentText.trimRight().length; // We should not trim whitespaces for which an entity is defined.\n\n    var entity = this.characterList.findEntry(function (characterMetadata) {\n      return characterMetadata.getEntity() !== null;\n    });\n    begin = entity !== undefined ? Math.min(begin, entity[0]) : begin;\n    entity = this.characterList.reverse().findEntry(function (characterMetadata) {\n      return characterMetadata.getEntity() !== null;\n    });\n    end = entity !== undefined ? Math.max(end, l - entity[0]) : end;\n\n    if (begin > end) {\n      this.currentText = '';\n      this.characterList = List();\n    } else {\n      this.currentText = this.currentText.slice(begin, end);\n      this.characterList = this.characterList.slice(begin, end);\n    }\n  }\n  /**\n   * Add the content of an HTML text node to the internal state\n   */\n  ;\n\n  _proto._addTextNode = function _addTextNode(node, style) {\n    var text = node.textContent;\n    var trimmedText = text.trim(); // If we are not in a pre block and the trimmed content is empty,\n    // normalize to a single space.\n\n    if (trimmedText === '' && this.wrapper !== 'pre') {\n      text = ' ';\n    }\n\n    if (this.wrapper !== 'pre') {\n      // Trim leading line feed, which is invisible in HTML\n      text = text.replace(REGEX_LEADING_LF, ''); // Can't use empty string because MSWord\n\n      text = text.replace(REGEX_LF, SPACE);\n    }\n\n    this._appendText(text, style);\n  };\n\n  _proto._addBreakNode = function _addBreakNode(node, style) {\n    if (!isHTMLBRElement(node)) {\n      return;\n    }\n\n    this._appendText('\\n', style);\n  }\n  /**\n   * Add the content of an HTML img node to the internal state\n   */\n  ;\n\n  _proto._addImgNode = function _addImgNode(node, style) {\n    if (!isHTMLImageElement(node)) {\n      return;\n    }\n\n    var image = node;\n    var entityConfig = {};\n    imgAttr.forEach(function (attr) {\n      var imageAttribute = image.getAttribute(attr);\n\n      if (imageAttribute) {\n        entityConfig[attr] = imageAttribute;\n      }\n    }); // TODO: T15530363 update this when we remove DraftEntity entirely\n\n    this.currentEntity = this.entityMap.__create('IMAGE', 'IMMUTABLE', entityConfig); // The child text node cannot just have a space or return as content (since\n    // we strip those out), unless the image is for presentation only.\n    // See https://github.com/facebook/draft-js/issues/231 for some context.\n\n    if (gkx('draftjs_fix_paste_for_img')) {\n      if (image.getAttribute('role') !== 'presentation') {\n        this._appendText(\"\\uD83D\\uDCF7\", style);\n      }\n    } else {\n      this._appendText(\"\\uD83D\\uDCF7\", style);\n    }\n\n    this.currentEntity = null;\n  }\n  /**\n   * Add the content of an HTML 'a' node to the internal state. Child nodes\n   * (if any) are converted to Block Configs and appended to the provided\n   * blockConfig array.\n   */\n  ;\n\n  _proto._addAnchorNode = function _addAnchorNode(node, blockConfigs, style) {\n    // The check has already been made by isValidAnchor but\n    // we have to do it again to keep flow happy.\n    if (!isHTMLAnchorElement(node)) {\n      return;\n    }\n\n    var anchor = node;\n    var entityConfig = {};\n    anchorAttr.forEach(function (attr) {\n      var anchorAttribute = anchor.getAttribute(attr);\n\n      if (anchorAttribute) {\n        entityConfig[attr] = anchorAttribute;\n      }\n    });\n    entityConfig.url = new URI(anchor.href).toString(); // TODO: T15530363 update this when we remove DraftEntity completely\n\n    this.currentEntity = this.entityMap.__create('LINK', 'MUTABLE', entityConfig || {});\n    blockConfigs.push.apply(blockConfigs, this._toBlockConfigs(Array.from(node.childNodes), style));\n    this.currentEntity = null;\n  }\n  /**\n   * Walk the BlockConfig tree, compute parent/children/siblings,\n   * and generate the corresponding ContentBlockNode\n   */\n  ;\n\n  _proto._toContentBlocks = function _toContentBlocks(blockConfigs) {\n    var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var l = blockConfigs.length - 1;\n\n    for (var i = 0; i <= l; i++) {\n      var config = blockConfigs[i];\n      config.parent = parent;\n      config.prevSibling = i > 0 ? blockConfigs[i - 1].key : null;\n      config.nextSibling = i < l ? blockConfigs[i + 1].key : null;\n      config.children = List(config.childConfigs.map(function (child) {\n        return child.key;\n      }));\n      this.contentBlocks.push(new ContentBlockNode(_objectSpread({}, config)));\n\n      this._toContentBlocks(config.childConfigs, config.key);\n    }\n  }\n  /**\n   * Remove 'useless' container nodes from the block config hierarchy, by\n   * replacing them with their children.\n   */\n  ;\n\n  _proto._hoistContainersInBlockConfigs = function _hoistContainersInBlockConfigs(blockConfigs) {\n    var _this = this;\n\n    var hoisted = List(blockConfigs).flatMap(function (blockConfig) {\n      // Don't mess with useful blocks\n      if (blockConfig.type !== 'unstyled' || blockConfig.text !== '') {\n        return [blockConfig];\n      }\n\n      return _this._hoistContainersInBlockConfigs(blockConfig.childConfigs);\n    });\n    return hoisted;\n  } // ***********************************************************************\n  // The two methods below are used for backward compatibility when\n  // experimentalTreeDataSupport is disabled.\n\n  /**\n   * Same as _toContentBlocks but replaces nested blocks by their\n   * text content.\n   */\n  ;\n\n  _proto._toFlatContentBlocks = function _toFlatContentBlocks(blockConfigs) {\n    var _this2 = this;\n\n    var cleanConfigs = this._hoistContainersInBlockConfigs(blockConfigs);\n\n    cleanConfigs.forEach(function (config) {\n      var _this2$_extractTextFr = _this2._extractTextFromBlockConfigs(config.childConfigs),\n          text = _this2$_extractTextFr.text,\n          characterList = _this2$_extractTextFr.characterList;\n\n      _this2.contentBlocks.push(new ContentBlock(_objectSpread({}, config, {\n        text: config.text + text,\n        characterList: config.characterList.concat(characterList)\n      })));\n    });\n  }\n  /**\n   * Extract the text and the associated inline styles form an\n   * array of content block configs.\n   */\n  ;\n\n  _proto._extractTextFromBlockConfigs = function _extractTextFromBlockConfigs(blockConfigs) {\n    var l = blockConfigs.length - 1;\n    var text = '';\n    var characterList = List();\n\n    for (var i = 0; i <= l; i++) {\n      var config = blockConfigs[i];\n      text += config.text;\n      characterList = characterList.concat(config.characterList);\n\n      if (text !== '' && config.type !== 'unstyled') {\n        text += '\\n';\n        characterList = characterList.push(characterList.last());\n      }\n\n      var children = this._extractTextFromBlockConfigs(config.childConfigs);\n\n      text += children.text;\n      characterList = characterList.concat(children.characterList);\n    }\n\n    return {\n      text: text,\n      characterList: characterList\n    };\n  };\n\n  return ContentBlocksBuilder;\n}();\n/**\n * Converts an HTML string to an array of ContentBlocks and an EntityMap\n * suitable to initialize the internal state of a Draftjs component.\n */\n\n\nvar convertFromHTMLToContentBlocks = function convertFromHTMLToContentBlocks(html) {\n  var DOMBuilder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getSafeBodyFromHTML;\n  var blockRenderMap = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DefaultDraftBlockRenderMap;\n  // Be ABSOLUTELY SURE that the dom builder you pass here won't execute\n  // arbitrary code in whatever environment you're running this in. For an\n  // example of how we try to do this in-browser, see getSafeBodyFromHTML.\n  // Remove funky characters from the HTML string\n  html = html.trim().replace(REGEX_CR, '').replace(REGEX_NBSP, SPACE).replace(REGEX_CARRIAGE, '').replace(REGEX_ZWS, ''); // Build a DOM tree out of the HTML string\n\n  var safeBody = DOMBuilder(html);\n\n  if (!safeBody) {\n    return null;\n  } // Build a BlockTypeMap out of the BlockRenderMap\n\n\n  var blockTypeMap = buildBlockTypeMap(blockRenderMap); // Select the proper block type for the cases where the blockRenderMap\n  // uses multiple block types for the same html tag.\n\n  var disambiguate = function disambiguate(tag, wrapper) {\n    if (tag === 'li') {\n      return wrapper === 'ol' ? 'ordered-list-item' : 'unordered-list-item';\n    }\n\n    return null;\n  };\n\n  return new ContentBlocksBuilder(blockTypeMap, disambiguate).addDOMNode(safeBody).getContentBlocks();\n};\n\nmodule.exports = convertFromHTMLToContentBlocks;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isOldIE = UserAgent.isBrowser('IE <= 9'); // Provides a dom node that will not execute scripts\n// https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation.createHTMLDocument\n// https://developer.mozilla.org/en-US/Add-ons/Code_snippets/HTML_to_DOM\n\nfunction getSafeBodyFromHTML(html) {\n  var doc;\n  var root = null; // Provides a safe context\n\n  if (!isOldIE && document.implementation && document.implementation.createHTMLDocument) {\n    doc = document.implementation.createHTMLDocument('foo');\n    !doc.documentElement ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Missing doc.documentElement') : invariant(false) : void 0;\n    doc.documentElement.innerHTML = html;\n    root = doc.getElementsByTagName('body')[0];\n  }\n\n  return root;\n}\n\nmodule.exports = getSafeBodyFromHTML;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar adjustBlockDepthForContentState = require(\"./adjustBlockDepthForContentState\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar RichTextEditorUtil = {\n  currentBlockContainsLink: function currentBlockContainsLink(editorState) {\n    var selection = editorState.getSelection();\n    var contentState = editorState.getCurrentContent();\n    var entityMap = contentState.getEntityMap();\n    return contentState.getBlockForKey(selection.getAnchorKey()).getCharacterList().slice(selection.getStartOffset(), selection.getEndOffset()).some(function (v) {\n      var entity = v.getEntity();\n      return !!entity && entityMap.__get(entity).getType() === 'LINK';\n    });\n  },\n  getCurrentBlockType: function getCurrentBlockType(editorState) {\n    var selection = editorState.getSelection();\n    return editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).getType();\n  },\n  getDataObjectForLinkURL: function getDataObjectForLinkURL(uri) {\n    return {\n      url: uri.toString()\n    };\n  },\n  handleKeyCommand: function handleKeyCommand(editorState, command, eventTimeStamp) {\n    switch (command) {\n      case 'bold':\n        return RichTextEditorUtil.toggleInlineStyle(editorState, 'BOLD');\n\n      case 'italic':\n        return RichTextEditorUtil.toggleInlineStyle(editorState, 'ITALIC');\n\n      case 'underline':\n        return RichTextEditorUtil.toggleInlineStyle(editorState, 'UNDERLINE');\n\n      case 'code':\n        return RichTextEditorUtil.toggleCode(editorState);\n\n      case 'backspace':\n      case 'backspace-word':\n      case 'backspace-to-start-of-line':\n        return RichTextEditorUtil.onBackspace(editorState);\n\n      case 'delete':\n      case 'delete-word':\n      case 'delete-to-end-of-block':\n        return RichTextEditorUtil.onDelete(editorState);\n\n      default:\n        // they may have custom editor commands; ignore those\n        return null;\n    }\n  },\n  insertSoftNewline: function insertSoftNewline(editorState) {\n    var contentState = DraftModifier.insertText(editorState.getCurrentContent(), editorState.getSelection(), '\\n', editorState.getCurrentInlineStyle(), null);\n    var newEditorState = EditorState.push(editorState, contentState, 'insert-characters');\n    return EditorState.forceSelection(newEditorState, contentState.getSelectionAfter());\n  },\n\n  /**\n   * For collapsed selections at the start of styled blocks, backspace should\n   * just remove the existing style.\n   */\n  onBackspace: function onBackspace(editorState) {\n    var selection = editorState.getSelection();\n\n    if (!selection.isCollapsed() || selection.getAnchorOffset() || selection.getFocusOffset()) {\n      return null;\n    } // First, try to remove a preceding atomic block.\n\n\n    var content = editorState.getCurrentContent();\n    var startKey = selection.getStartKey();\n    var blockBefore = content.getBlockBefore(startKey);\n\n    if (blockBefore && blockBefore.getType() === 'atomic') {\n      var blockMap = content.getBlockMap()[\"delete\"](blockBefore.getKey());\n      var withoutAtomicBlock = content.merge({\n        blockMap: blockMap,\n        selectionAfter: selection\n      });\n\n      if (withoutAtomicBlock !== content) {\n        return EditorState.push(editorState, withoutAtomicBlock, 'remove-range');\n      }\n    } // If that doesn't succeed, try to remove the current block style.\n\n\n    var withoutBlockStyle = RichTextEditorUtil.tryToRemoveBlockStyle(editorState);\n\n    if (withoutBlockStyle) {\n      return EditorState.push(editorState, withoutBlockStyle, 'change-block-type');\n    }\n\n    return null;\n  },\n  onDelete: function onDelete(editorState) {\n    var selection = editorState.getSelection();\n\n    if (!selection.isCollapsed()) {\n      return null;\n    }\n\n    var content = editorState.getCurrentContent();\n    var startKey = selection.getStartKey();\n    var block = content.getBlockForKey(startKey);\n    var length = block.getLength(); // The cursor is somewhere within the text. Behave normally.\n\n    if (selection.getStartOffset() < length) {\n      return null;\n    }\n\n    var blockAfter = content.getBlockAfter(startKey);\n\n    if (!blockAfter || blockAfter.getType() !== 'atomic') {\n      return null;\n    }\n\n    var atomicBlockTarget = selection.merge({\n      focusKey: blockAfter.getKey(),\n      focusOffset: blockAfter.getLength()\n    });\n    var withoutAtomicBlock = DraftModifier.removeRange(content, atomicBlockTarget, 'forward');\n\n    if (withoutAtomicBlock !== content) {\n      return EditorState.push(editorState, withoutAtomicBlock, 'remove-range');\n    }\n\n    return null;\n  },\n  onTab: function onTab(event, editorState, maxDepth) {\n    var selection = editorState.getSelection();\n    var key = selection.getAnchorKey();\n\n    if (key !== selection.getFocusKey()) {\n      return editorState;\n    }\n\n    var content = editorState.getCurrentContent();\n    var block = content.getBlockForKey(key);\n    var type = block.getType();\n\n    if (type !== 'unordered-list-item' && type !== 'ordered-list-item') {\n      return editorState;\n    }\n\n    event.preventDefault();\n    var depth = block.getDepth();\n\n    if (!event.shiftKey && depth === maxDepth) {\n      return editorState;\n    }\n\n    var withAdjustment = adjustBlockDepthForContentState(content, selection, event.shiftKey ? -1 : 1, maxDepth);\n    return EditorState.push(editorState, withAdjustment, 'adjust-depth');\n  },\n  toggleBlockType: function toggleBlockType(editorState, blockType) {\n    var selection = editorState.getSelection();\n    var startKey = selection.getStartKey();\n    var endKey = selection.getEndKey();\n    var content = editorState.getCurrentContent();\n    var target = selection; // Triple-click can lead to a selection that includes offset 0 of the\n    // following block. The `SelectionState` for this case is accurate, but\n    // we should avoid toggling block type for the trailing block because it\n    // is a confusing interaction.\n\n    if (startKey !== endKey && selection.getEndOffset() === 0) {\n      var blockBefore = nullthrows(content.getBlockBefore(endKey));\n      endKey = blockBefore.getKey();\n      target = target.merge({\n        anchorKey: startKey,\n        anchorOffset: selection.getStartOffset(),\n        focusKey: endKey,\n        focusOffset: blockBefore.getLength(),\n        isBackward: false\n      });\n    }\n\n    var hasAtomicBlock = content.getBlockMap().skipWhile(function (_, k) {\n      return k !== startKey;\n    }).reverse().skipWhile(function (_, k) {\n      return k !== endKey;\n    }).some(function (v) {\n      return v.getType() === 'atomic';\n    });\n\n    if (hasAtomicBlock) {\n      return editorState;\n    }\n\n    var typeToSet = content.getBlockForKey(startKey).getType() === blockType ? 'unstyled' : blockType;\n    return EditorState.push(editorState, DraftModifier.setBlockType(content, target, typeToSet), 'change-block-type');\n  },\n  toggleCode: function toggleCode(editorState) {\n    var selection = editorState.getSelection();\n    var anchorKey = selection.getAnchorKey();\n    var focusKey = selection.getFocusKey();\n\n    if (selection.isCollapsed() || anchorKey !== focusKey) {\n      return RichTextEditorUtil.toggleBlockType(editorState, 'code-block');\n    }\n\n    return RichTextEditorUtil.toggleInlineStyle(editorState, 'CODE');\n  },\n\n  /**\n   * Toggle the specified inline style for the selection. If the\n   * user's selection is collapsed, apply or remove the style for the\n   * internal state. If it is not collapsed, apply the change directly\n   * to the document state.\n   */\n  toggleInlineStyle: function toggleInlineStyle(editorState, inlineStyle) {\n    var selection = editorState.getSelection();\n    var currentStyle = editorState.getCurrentInlineStyle(); // If the selection is collapsed, toggle the specified style on or off and\n    // set the result as the new inline style override. This will then be\n    // used as the inline style for the next character to be inserted.\n\n    if (selection.isCollapsed()) {\n      return EditorState.setInlineStyleOverride(editorState, currentStyle.has(inlineStyle) ? currentStyle.remove(inlineStyle) : currentStyle.add(inlineStyle));\n    } // If characters are selected, immediately apply or remove the\n    // inline style on the document state itself.\n\n\n    var content = editorState.getCurrentContent();\n    var newContent; // If the style is already present for the selection range, remove it.\n    // Otherwise, apply it.\n\n    if (currentStyle.has(inlineStyle)) {\n      newContent = DraftModifier.removeInlineStyle(content, selection, inlineStyle);\n    } else {\n      newContent = DraftModifier.applyInlineStyle(content, selection, inlineStyle);\n    }\n\n    return EditorState.push(editorState, newContent, 'change-inline-style');\n  },\n  toggleLink: function toggleLink(editorState, targetSelection, entityKey) {\n    var withoutLink = DraftModifier.applyEntity(editorState.getCurrentContent(), targetSelection, entityKey);\n    return EditorState.push(editorState, withoutLink, 'apply-entity');\n  },\n\n  /**\n   * When a collapsed cursor is at the start of a styled block, changes block\n   * type to 'unstyled'. Returns null if selection does not meet that criteria.\n   */\n  tryToRemoveBlockStyle: function tryToRemoveBlockStyle(editorState) {\n    var selection = editorState.getSelection();\n    var offset = selection.getAnchorOffset();\n\n    if (selection.isCollapsed() && offset === 0) {\n      var key = selection.getAnchorKey();\n      var content = editorState.getCurrentContent();\n      var block = content.getBlockForKey(key);\n      var type = block.getType();\n      var blockBefore = content.getBlockBefore(key);\n\n      if (type === 'code-block' && blockBefore && blockBefore.getType() === 'code-block' && blockBefore.getLength() !== 0) {\n        return null;\n      }\n\n      if (type !== 'unstyled') {\n        return DraftModifier.setBlockType(content, selection, 'unstyled');\n      }\n    }\n\n    return null;\n  }\n};\nmodule.exports = RichTextEditorUtil;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar KeyBindingUtil = require(\"./KeyBindingUtil\");\n\nvar Keys = require(\"fbjs/lib/Keys\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar isOSX = UserAgent.isPlatform('Mac OS X'); // Firefox on OSX had a bug resulting in navigation instead of cursor movement.\n// This bug was fixed in Firefox 29. Feature detection is virtually impossible\n// so we just check the version number. See #342765.\n\nvar shouldFixFirefoxMovement = isOSX && UserAgent.isBrowser('Firefox < 29');\nvar hasCommandModifier = KeyBindingUtil.hasCommandModifier,\n    isCtrlKeyCommand = KeyBindingUtil.isCtrlKeyCommand;\n\nfunction shouldRemoveWord(e) {\n  return isOSX && e.altKey || isCtrlKeyCommand(e);\n}\n/**\n * Get the appropriate undo/redo command for a Z key command.\n */\n\n\nfunction getZCommand(e) {\n  if (!hasCommandModifier(e)) {\n    return null;\n  }\n\n  return e.shiftKey ? 'redo' : 'undo';\n}\n\nfunction getDeleteCommand(e) {\n  // Allow default \"cut\" behavior for PCs on Shift + Delete.\n  if (!isOSX && e.shiftKey) {\n    return null;\n  }\n\n  return shouldRemoveWord(e) ? 'delete-word' : 'delete';\n}\n\nfunction getBackspaceCommand(e) {\n  if (hasCommandModifier(e) && isOSX) {\n    return 'backspace-to-start-of-line';\n  }\n\n  return shouldRemoveWord(e) ? 'backspace-word' : 'backspace';\n}\n/**\n * Retrieve a bound key command for the given event.\n */\n\n\nfunction getDefaultKeyBinding(e) {\n  switch (e.keyCode) {\n    case 66:\n      // B\n      return hasCommandModifier(e) ? 'bold' : null;\n\n    case 68:\n      // D\n      return isCtrlKeyCommand(e) ? 'delete' : null;\n\n    case 72:\n      // H\n      return isCtrlKeyCommand(e) ? 'backspace' : null;\n\n    case 73:\n      // I\n      return hasCommandModifier(e) ? 'italic' : null;\n\n    case 74:\n      // J\n      return hasCommandModifier(e) ? 'code' : null;\n\n    case 75:\n      // K\n      return isOSX && isCtrlKeyCommand(e) ? 'secondary-cut' : null;\n\n    case 77:\n      // M\n      return isCtrlKeyCommand(e) ? 'split-block' : null;\n\n    case 79:\n      // O\n      return isCtrlKeyCommand(e) ? 'split-block' : null;\n\n    case 84:\n      // T\n      return isOSX && isCtrlKeyCommand(e) ? 'transpose-characters' : null;\n\n    case 85:\n      // U\n      return hasCommandModifier(e) ? 'underline' : null;\n\n    case 87:\n      // W\n      return isOSX && isCtrlKeyCommand(e) ? 'backspace-word' : null;\n\n    case 89:\n      // Y\n      if (isCtrlKeyCommand(e)) {\n        return isOSX ? 'secondary-paste' : 'redo';\n      }\n\n      return null;\n\n    case 90:\n      // Z\n      return getZCommand(e) || null;\n\n    case Keys.RETURN:\n      return 'split-block';\n\n    case Keys.DELETE:\n      return getDeleteCommand(e);\n\n    case Keys.BACKSPACE:\n      return getBackspaceCommand(e);\n    // LEFT/RIGHT handlers serve as a workaround for a Firefox bug.\n\n    case Keys.LEFT:\n      return shouldFixFirefoxMovement && hasCommandModifier(e) ? 'move-selection-to-start-of-block' : null;\n\n    case Keys.RIGHT:\n      return shouldFixFirefoxMovement && hasCommandModifier(e) ? 'move-selection-to-end-of-block' : null;\n\n    default:\n      return null;\n  }\n}\n\nmodule.exports = getDefaultKeyBinding;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftStringKey = {\n  stringify: function stringify(key) {\n    return '_' + String(key);\n  },\n  unstringify: function unstringify(key) {\n    return key.slice(1);\n  }\n};\nmodule.exports = DraftStringKey;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = updateMutation;\n\nfunction updateMutation(mutation, originalOffset, originalLength, newLength, prefixLength, suffixLength) {\n  // three cases we can reasonably adjust - disjoint mutations that\n  // happen later on where the offset will need to be changed,\n  // mutations that completely contain the new one where we can adjust\n  // the length, and mutations that occur partially within the new one.\n  var lengthDiff = newLength - originalLength;\n  var mutationAfterChange = originalOffset + originalLength <= mutation.offset;\n\n  if (mutationAfterChange) {\n    return Object.assign({}, mutation, {\n      offset: mutation.offset + lengthDiff\n    });\n  }\n\n  var mutationContainsChange = originalOffset >= mutation.offset && originalOffset + originalLength <= mutation.offset + mutation.length;\n\n  if (mutationContainsChange) {\n    return Object.assign({}, mutation, {\n      length: mutation.length + lengthDiff\n    });\n  }\n\n  var mutationWithinPrefixChange = mutation.offset >= originalOffset && mutation.offset + mutation.length <= originalOffset + originalLength && prefixLength > 0;\n\n  if (mutationWithinPrefixChange) {\n    return Object.assign({}, mutation, {\n      offset: mutation.offset + prefixLength\n    });\n  }\n\n  var mutationContainsPrefix = mutation.offset < originalOffset && mutation.offset + mutation.length <= originalOffset + originalLength && mutation.offset + mutation.length > originalOffset && prefixLength > 0;\n\n  if (mutationContainsPrefix) {\n    return [Object.assign({}, mutation, {\n      length: originalOffset - mutation.offset\n    }), Object.assign({}, mutation, {\n      offset: originalOffset + prefixLength,\n      length: mutation.offset - originalOffset + mutation.length\n    })];\n  }\n\n  var mutationContainsSuffix = mutation.offset >= originalOffset && mutation.offset + mutation.length > originalOffset + originalLength && originalOffset + originalLength > mutation.offset && suffixLength > 0;\n\n  if (mutationContainsSuffix) {\n    return [Object.assign({}, mutation, {\n      offset: mutation.offset + prefixLength,\n      length: originalOffset + originalLength - mutation.offset\n    }), Object.assign({}, mutation, {\n      offset: originalOffset + originalLength + prefixLength + suffixLength,\n      length: mutation.offset + mutation.length - (originalOffset + originalLength)\n    })];\n  }\n\n  return mutation;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = getElementHTML;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _server = _interopRequireDefault(require(\"react-dom/server\"));\n\nvar _splitReactElement = _interopRequireDefault(require(\"./splitReactElement\"));\n\nfunction hasChildren(element) {\n  return _react[\"default\"].isValidElement(element) && _react[\"default\"].Children.count(element.props.children) > 0;\n}\n\nfunction getElementHTML(element) {\n  var text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  if (element === undefined || element === null) {\n    return element;\n  }\n\n  if (typeof element === 'string') {\n    return element;\n  }\n\n  if (_react[\"default\"].isValidElement(element)) {\n    if (hasChildren(element)) {\n      return _server[\"default\"].renderToStaticMarkup(element);\n    }\n\n    var tags = (0, _splitReactElement[\"default\"])(element);\n\n    if (text !== null && (0, _typeof2[\"default\"])(tags) === 'object') {\n      var start = tags.start,\n          end = tags.end;\n      return start + text + end;\n    }\n\n    return tags;\n  }\n\n  (0, _invariant[\"default\"])(Object.prototype.hasOwnProperty.call(element, 'start') && Object.prototype.hasOwnProperty.call(element, 'end'), 'convertToHTML: received conversion data without either an HTML string, ReactElement or an object with start/end tags');\n\n  if (text !== null) {\n    var _start = element.start,\n        _end = element.end;\n    return _start + text + _end;\n  }\n\n  return element;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _default = function _default(newFn, rest) {\n  return function () {\n    var newResult = newFn.apply(void 0, arguments);\n\n    if (newResult !== undefined && newResult !== null) {\n      return newResult;\n    }\n\n    return rest.apply(void 0, arguments);\n  };\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = parseHTML;\n\nvar fallback = function fallback(html) {\n  var doc = document.implementation.createHTMLDocument('');\n  doc.documentElement.innerHTML = html;\n  return doc;\n};\n\nfunction parseHTML(html) {\n  var doc;\n\n  if (typeof DOMParser !== 'undefined') {\n    var parser = new DOMParser();\n    doc = parser.parseFromString(html, 'text/html');\n\n    if (doc === null || doc.body === null) {\n      doc = fallback(html);\n    }\n  } else {\n    doc = fallback(html);\n  }\n\n  return doc.body;\n}","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","var _curry1 =\n/*#__PURE__*/\nrequire(\"./_curry1\");\n\nvar _isPlaceholder =\n/*#__PURE__*/\nrequire(\"./_isPlaceholder\");\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\n\nfunction _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n\n      case 1:\n        return _isPlaceholder(a) ? f2 : _curry1(function (_b) {\n          return fn(a, _b);\n        });\n\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2 : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b);\n        }) : fn(a, b);\n    }\n  };\n}\n\nmodule.exports = _curry2;","var _curry1 =\n/*#__PURE__*/\nrequire(\"./internal/_curry1\");\n/**\n * Gives a single-word string description of the (native) type of a value,\n * returning such answers as 'Object', 'Number', 'Array', or 'Null'. Does not\n * attempt to distinguish user Object types any further, reporting them all as\n * 'Object'.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Type\n * @sig (* -> {*}) -> String\n * @param {*} val The value to test\n * @return {String}\n * @example\n *\n *      R.type({}); //=> \"Object\"\n *      R.type(1); //=> \"Number\"\n *      R.type(false); //=> \"Boolean\"\n *      R.type('s'); //=> \"String\"\n *      R.type(null); //=> \"Null\"\n *      R.type([]); //=> \"Array\"\n *      R.type(/[A-z]/); //=> \"RegExp\"\n *      R.type(() => {}); //=> \"Function\"\n *      R.type(undefined); //=> \"Undefined\"\n */\n\n\nvar type =\n/*#__PURE__*/\n_curry1(function type(val) {\n  return val === null ? 'Null' : val === undefined ? 'Undefined' : Object.prototype.toString.call(val).slice(8, -1);\n});\n\nmodule.exports = type;","var _arrayFromIterator =\n/*#__PURE__*/\nrequire(\"./_arrayFromIterator\");\n\nvar _includesWith =\n/*#__PURE__*/\nrequire(\"./_includesWith\");\n\nvar _functionName =\n/*#__PURE__*/\nrequire(\"./_functionName\");\n\nvar _has =\n/*#__PURE__*/\nrequire(\"./_has\");\n\nvar _objectIs =\n/*#__PURE__*/\nrequire(\"./_objectIs\");\n\nvar keys =\n/*#__PURE__*/\nrequire(\"../keys\");\n\nvar type =\n/*#__PURE__*/\nrequire(\"../type\");\n/**\n * private _uniqContentEquals function.\n * That function is checking equality of 2 iterator contents with 2 assumptions\n * - iterators lengths are the same\n * - iterators values are unique\n *\n * false-positive result will be returned for comparision of, e.g.\n * - [1,2,3] and [1,2,3,4]\n * - [1,1,1] and [1,2,3]\n * */\n\n\nfunction _uniqContentEquals(aIterator, bIterator, stackA, stackB) {\n  var a = _arrayFromIterator(aIterator);\n\n  var b = _arrayFromIterator(bIterator);\n\n  function eq(_a, _b) {\n    return _equals(_a, _b, stackA.slice(), stackB.slice());\n  } // if *a* array contains any element that is not included in *b*\n\n\n  return !_includesWith(function (b, aItem) {\n    return !_includesWith(eq, aItem, b);\n  }, b, a);\n}\n\nfunction _equals(a, b, stackA, stackB) {\n  if (_objectIs(a, b)) {\n    return true;\n  }\n\n  var typeA = type(a);\n\n  if (typeA !== type(b)) {\n    return false;\n  }\n\n  if (a == null || b == null) {\n    return false;\n  }\n\n  if (typeof a['fantasy-land/equals'] === 'function' || typeof b['fantasy-land/equals'] === 'function') {\n    return typeof a['fantasy-land/equals'] === 'function' && a['fantasy-land/equals'](b) && typeof b['fantasy-land/equals'] === 'function' && b['fantasy-land/equals'](a);\n  }\n\n  if (typeof a.equals === 'function' || typeof b.equals === 'function') {\n    return typeof a.equals === 'function' && a.equals(b) && typeof b.equals === 'function' && b.equals(a);\n  }\n\n  switch (typeA) {\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n      if (typeof a.constructor === 'function' && _functionName(a.constructor) === 'Promise') {\n        return a === b;\n      }\n\n      break;\n\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n      if (!(typeof a === typeof b && _objectIs(a.valueOf(), b.valueOf()))) {\n        return false;\n      }\n\n      break;\n\n    case 'Date':\n      if (!_objectIs(a.valueOf(), b.valueOf())) {\n        return false;\n      }\n\n      break;\n\n    case 'Error':\n      return a.name === b.name && a.message === b.message;\n\n    case 'RegExp':\n      if (!(a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline && a.sticky === b.sticky && a.unicode === b.unicode)) {\n        return false;\n      }\n\n      break;\n  }\n\n  var idx = stackA.length - 1;\n\n  while (idx >= 0) {\n    if (stackA[idx] === a) {\n      return stackB[idx] === b;\n    }\n\n    idx -= 1;\n  }\n\n  switch (typeA) {\n    case 'Map':\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return _uniqContentEquals(a.entries(), b.entries(), stackA.concat([a]), stackB.concat([b]));\n\n    case 'Set':\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return _uniqContentEquals(a.values(), b.values(), stackA.concat([a]), stackB.concat([b]));\n\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n    case 'Date':\n    case 'Error':\n    case 'RegExp':\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'ArrayBuffer':\n      break;\n\n    default:\n      // Values of other types are only equal if identical.\n      return false;\n  }\n\n  var keysA = keys(a);\n\n  if (keysA.length !== keys(b).length) {\n    return false;\n  }\n\n  var extendedStackA = stackA.concat([a]);\n  var extendedStackB = stackB.concat([b]);\n  idx = keysA.length - 1;\n\n  while (idx >= 0) {\n    var key = keysA[idx];\n\n    if (!(_has(key, b) && _equals(b[key], a[key], extendedStackA, extendedStackB))) {\n      return false;\n    }\n\n    idx -= 1;\n  }\n\n  return true;\n}\n\nmodule.exports = _equals;","function _arrayFromIterator(iter) {\n  var list = [];\n  var next;\n\n  while (!(next = iter.next()).done) {\n    list.push(next.value);\n  }\n\n  return list;\n}\n\nmodule.exports = _arrayFromIterator;","function _includesWith(pred, x, list) {\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    if (pred(x, list[idx])) {\n      return true;\n    }\n\n    idx += 1;\n  }\n\n  return false;\n}\n\nmodule.exports = _includesWith;","function _functionName(f) {\n  // String(x => x) evaluates to \"x => x\", so the pattern may not match.\n  var match = String(f).match(/^function (\\w*)/);\n  return match == null ? '' : match[1];\n}\n\nmodule.exports = _functionName;","// Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\nfunction _objectIs(a, b) {\n  // SameValue algorithm\n  if (a === b) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return a !== 0 || 1 / a === 1 / b;\n  } else {\n    // Step 6.a: NaN == NaN\n    return a !== a && b !== b;\n  }\n}\n\nmodule.exports = typeof Object.is === 'function' ? Object.is : _objectIs;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar BlockMapBuilder = require(\"./BlockMapBuilder\");\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar ContentBlock = require(\"./ContentBlock\");\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar gkx = require(\"./gkx\");\n\nvar Immutable = require(\"immutable\");\n\nvar moveBlockInContentState = require(\"./moveBlockInContentState\");\n\nvar experimentalTreeDataSupport = gkx('draft_tree_data_support');\nvar ContentBlockRecord = experimentalTreeDataSupport ? ContentBlockNode : ContentBlock;\nvar List = Immutable.List,\n    Repeat = Immutable.Repeat;\nvar AtomicBlockUtils = {\n  insertAtomicBlock: function insertAtomicBlock(editorState, entityKey, character) {\n    var contentState = editorState.getCurrentContent();\n    var selectionState = editorState.getSelection();\n    var afterRemoval = DraftModifier.removeRange(contentState, selectionState, 'backward');\n    var targetSelection = afterRemoval.getSelectionAfter();\n    var afterSplit = DraftModifier.splitBlock(afterRemoval, targetSelection);\n    var insertionTarget = afterSplit.getSelectionAfter();\n    var asAtomicBlock = DraftModifier.setBlockType(afterSplit, insertionTarget, 'atomic');\n    var charData = CharacterMetadata.create({\n      entity: entityKey\n    });\n    var atomicBlockConfig = {\n      key: generateRandomKey(),\n      type: 'atomic',\n      text: character,\n      characterList: List(Repeat(charData, character.length))\n    };\n    var atomicDividerBlockConfig = {\n      key: generateRandomKey(),\n      type: 'unstyled'\n    };\n\n    if (experimentalTreeDataSupport) {\n      atomicBlockConfig = _objectSpread({}, atomicBlockConfig, {\n        nextSibling: atomicDividerBlockConfig.key\n      });\n      atomicDividerBlockConfig = _objectSpread({}, atomicDividerBlockConfig, {\n        prevSibling: atomicBlockConfig.key\n      });\n    }\n\n    var fragmentArray = [new ContentBlockRecord(atomicBlockConfig), new ContentBlockRecord(atomicDividerBlockConfig)];\n    var fragment = BlockMapBuilder.createFromArray(fragmentArray);\n    var withAtomicBlock = DraftModifier.replaceWithFragment(asAtomicBlock, insertionTarget, fragment);\n    var newContent = withAtomicBlock.merge({\n      selectionBefore: selectionState,\n      selectionAfter: withAtomicBlock.getSelectionAfter().set('hasFocus', true)\n    });\n    return EditorState.push(editorState, newContent, 'insert-fragment');\n  },\n  moveAtomicBlock: function moveAtomicBlock(editorState, atomicBlock, targetRange, insertionMode) {\n    var contentState = editorState.getCurrentContent();\n    var selectionState = editorState.getSelection();\n    var withMovedAtomicBlock;\n\n    if (insertionMode === 'before' || insertionMode === 'after') {\n      var targetBlock = contentState.getBlockForKey(insertionMode === 'before' ? targetRange.getStartKey() : targetRange.getEndKey());\n      withMovedAtomicBlock = moveBlockInContentState(contentState, atomicBlock, targetBlock, insertionMode);\n    } else {\n      var afterRemoval = DraftModifier.removeRange(contentState, targetRange, 'backward');\n      var selectionAfterRemoval = afterRemoval.getSelectionAfter();\n\n      var _targetBlock = afterRemoval.getBlockForKey(selectionAfterRemoval.getFocusKey());\n\n      if (selectionAfterRemoval.getStartOffset() === 0) {\n        withMovedAtomicBlock = moveBlockInContentState(afterRemoval, atomicBlock, _targetBlock, 'before');\n      } else if (selectionAfterRemoval.getEndOffset() === _targetBlock.getLength()) {\n        withMovedAtomicBlock = moveBlockInContentState(afterRemoval, atomicBlock, _targetBlock, 'after');\n      } else {\n        var afterSplit = DraftModifier.splitBlock(afterRemoval, selectionAfterRemoval);\n        var selectionAfterSplit = afterSplit.getSelectionAfter();\n\n        var _targetBlock2 = afterSplit.getBlockForKey(selectionAfterSplit.getFocusKey());\n\n        withMovedAtomicBlock = moveBlockInContentState(afterSplit, atomicBlock, _targetBlock2, 'before');\n      }\n    }\n\n    var newContent = withMovedAtomicBlock.merge({\n      selectionBefore: selectionState,\n      selectionAfter: withMovedAtomicBlock.getSelectionAfter().set('hasFocus', true)\n    });\n    return EditorState.push(editorState, newContent, 'move-block');\n  }\n};\nmodule.exports = AtomicBlockUtils;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar _require = require(\"immutable\"),\n    Map = _require.Map;\n\nvar ContentStateInlineStyle = {\n  add: function add(contentState, selectionState, inlineStyle) {\n    return modifyInlineStyle(contentState, selectionState, inlineStyle, true);\n  },\n  remove: function remove(contentState, selectionState, inlineStyle) {\n    return modifyInlineStyle(contentState, selectionState, inlineStyle, false);\n  }\n};\n\nfunction modifyInlineStyle(contentState, selectionState, inlineStyle, addOrRemove) {\n  var blockMap = contentState.getBlockMap();\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n  var newBlocks = blockMap.skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).concat(Map([[endKey, blockMap.get(endKey)]])).map(function (block, blockKey) {\n    var sliceStart;\n    var sliceEnd;\n\n    if (startKey === endKey) {\n      sliceStart = startOffset;\n      sliceEnd = endOffset;\n    } else {\n      sliceStart = blockKey === startKey ? startOffset : 0;\n      sliceEnd = blockKey === endKey ? endOffset : block.getLength();\n    }\n\n    var chars = block.getCharacterList();\n    var current;\n\n    while (sliceStart < sliceEnd) {\n      current = chars.get(sliceStart);\n      chars = chars.set(sliceStart, addOrRemove ? CharacterMetadata.applyStyle(current, inlineStyle) : CharacterMetadata.removeStyle(current, inlineStyle));\n      sliceStart++;\n    }\n\n    return block.set('characterList', chars);\n  });\n  return contentState.merge({\n    blockMap: blockMap.merge(newBlocks),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\n\nmodule.exports = ContentStateInlineStyle;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar applyEntityToContentBlock = require(\"./applyEntityToContentBlock\");\n\nvar Immutable = require(\"immutable\");\n\nfunction applyEntityToContentState(contentState, selectionState, entityKey) {\n  var blockMap = contentState.getBlockMap();\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n  var newBlocks = blockMap.skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).toOrderedMap().merge(Immutable.OrderedMap([[endKey, blockMap.get(endKey)]])).map(function (block, blockKey) {\n    var sliceStart = blockKey === startKey ? startOffset : 0;\n    var sliceEnd = blockKey === endKey ? endOffset : block.getLength();\n    return applyEntityToContentBlock(block, sliceStart, sliceEnd, entityKey);\n  });\n  return contentState.merge({\n    blockMap: blockMap.merge(newBlocks),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\n\nmodule.exports = applyEntityToContentState;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nfunction applyEntityToContentBlock(contentBlock, startArg, end, entityKey) {\n  var start = startArg;\n  var characterList = contentBlock.getCharacterList();\n\n  while (start < end) {\n    characterList = characterList.set(start, CharacterMetadata.applyEntity(characterList.get(start), entityKey));\n    start++;\n  }\n\n  return contentBlock.set('characterList', characterList);\n}\n\nmodule.exports = applyEntityToContentBlock;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftEntitySegments = require(\"./DraftEntitySegments\");\n\nvar getRangesForDraftEntity = require(\"./getRangesForDraftEntity\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n/**\n * Given a SelectionState and a removal direction, determine the entire range\n * that should be removed from a ContentState. This is based on any entities\n * within the target, with their `mutability` values taken into account.\n *\n * For instance, if we are attempting to remove part of an \"immutable\" entity\n * range, the entire entity must be removed. The returned `SelectionState`\n * will be adjusted accordingly.\n */\n\n\nfunction getCharacterRemovalRange(entityMap, startBlock, endBlock, selectionState, direction) {\n  var start = selectionState.getStartOffset();\n  var end = selectionState.getEndOffset();\n  var startEntityKey = startBlock.getEntityAt(start);\n  var endEntityKey = endBlock.getEntityAt(end - 1);\n\n  if (!startEntityKey && !endEntityKey) {\n    return selectionState;\n  }\n\n  var newSelectionState = selectionState;\n\n  if (startEntityKey && startEntityKey === endEntityKey) {\n    newSelectionState = getEntityRemovalRange(entityMap, startBlock, newSelectionState, direction, startEntityKey, true, true);\n  } else if (startEntityKey && endEntityKey) {\n    var startSelectionState = getEntityRemovalRange(entityMap, startBlock, newSelectionState, direction, startEntityKey, false, true);\n    var endSelectionState = getEntityRemovalRange(entityMap, endBlock, newSelectionState, direction, endEntityKey, false, false);\n    newSelectionState = newSelectionState.merge({\n      anchorOffset: startSelectionState.getAnchorOffset(),\n      focusOffset: endSelectionState.getFocusOffset(),\n      isBackward: false\n    });\n  } else if (startEntityKey) {\n    var _startSelectionState = getEntityRemovalRange(entityMap, startBlock, newSelectionState, direction, startEntityKey, false, true);\n\n    newSelectionState = newSelectionState.merge({\n      anchorOffset: _startSelectionState.getStartOffset(),\n      isBackward: false\n    });\n  } else if (endEntityKey) {\n    var _endSelectionState = getEntityRemovalRange(entityMap, endBlock, newSelectionState, direction, endEntityKey, false, false);\n\n    newSelectionState = newSelectionState.merge({\n      focusOffset: _endSelectionState.getEndOffset(),\n      isBackward: false\n    });\n  }\n\n  return newSelectionState;\n}\n\nfunction getEntityRemovalRange(entityMap, block, selectionState, direction, entityKey, isEntireSelectionWithinEntity, isEntityAtStart) {\n  var start = selectionState.getStartOffset();\n  var end = selectionState.getEndOffset();\n\n  var entity = entityMap.__get(entityKey);\n\n  var mutability = entity.getMutability();\n  var sideToConsider = isEntityAtStart ? start : end; // `MUTABLE` entities can just have the specified range of text removed\n  // directly. No adjustments are needed.\n\n  if (mutability === 'MUTABLE') {\n    return selectionState;\n  } // Find the entity range that overlaps with our removal range.\n\n\n  var entityRanges = getRangesForDraftEntity(block, entityKey).filter(function (range) {\n    return sideToConsider <= range.end && sideToConsider >= range.start;\n  });\n  !(entityRanges.length == 1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'There should only be one entity range within this removal range.') : invariant(false) : void 0;\n  var entityRange = entityRanges[0]; // For `IMMUTABLE` entity types, we will remove the entire entity range.\n\n  if (mutability === 'IMMUTABLE') {\n    return selectionState.merge({\n      anchorOffset: entityRange.start,\n      focusOffset: entityRange.end,\n      isBackward: false\n    });\n  } // For `SEGMENTED` entity types, determine the appropriate segment to\n  // remove.\n\n\n  if (!isEntireSelectionWithinEntity) {\n    if (isEntityAtStart) {\n      end = entityRange.end;\n    } else {\n      start = entityRange.start;\n    }\n  }\n\n  var removalRange = DraftEntitySegments.getRemovalRange(start, end, block.getText().slice(entityRange.start, entityRange.end), entityRange.start, direction);\n  return selectionState.merge({\n    anchorOffset: removalRange.start,\n    focusOffset: removalRange.end,\n    isBackward: false\n  });\n}\n\nmodule.exports = getCharacterRemovalRange;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\n/**\n * Identify the range to delete from a segmented entity.\n *\n * Rules:\n *\n *  Example: 'John F. Kennedy'\n *\n *   - Deletion from within any non-whitespace (i.e. ['John', 'F.', 'Kennedy'])\n *     will return the range of that text.\n *\n *       'John F. Kennedy' -> 'John F.'\n *                  ^\n *\n *   - Forward deletion of whitespace will remove the following section:\n *\n *       'John F. Kennedy' -> 'John Kennedy'\n *            ^\n *\n *   - Backward deletion of whitespace will remove the previous section:\n *\n *       'John F. Kennedy' -> 'F. Kennedy'\n *            ^\n */\nvar DraftEntitySegments = {\n  getRemovalRange: function getRemovalRange(selectionStart, selectionEnd, text, entityStart, direction) {\n    var segments = text.split(' ');\n    segments = segments.map(function (\n    /*string*/\n    segment,\n    /*number*/\n    ii) {\n      if (direction === 'forward') {\n        if (ii > 0) {\n          return ' ' + segment;\n        }\n      } else if (ii < segments.length - 1) {\n        return segment + ' ';\n      }\n\n      return segment;\n    });\n    var segmentStart = entityStart;\n    var segmentEnd;\n    var segment;\n    var removalStart = null;\n    var removalEnd = null;\n\n    for (var jj = 0; jj < segments.length; jj++) {\n      segment = segments[jj];\n      segmentEnd = segmentStart + segment.length; // Our selection overlaps this segment.\n\n      if (selectionStart < segmentEnd && segmentStart < selectionEnd) {\n        if (removalStart !== null) {\n          removalEnd = segmentEnd;\n        } else {\n          removalStart = segmentStart;\n          removalEnd = segmentEnd;\n        }\n      } else if (removalStart !== null) {\n        break;\n      }\n\n      segmentStart = segmentEnd;\n    }\n\n    var entityEnd = entityStart + text.length;\n    var atStart = removalStart === entityStart;\n    var atEnd = removalEnd === entityEnd;\n\n    if (!atStart && atEnd || atStart && !atEnd) {\n      if (direction === 'forward') {\n        if (removalEnd !== entityEnd) {\n          removalEnd++;\n        }\n      } else if (removalStart !== entityStart) {\n        removalStart--;\n      }\n    }\n\n    return {\n      start: removalStart,\n      end: removalEnd\n    };\n  }\n};\nmodule.exports = DraftEntitySegments;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar invariant = require(\"fbjs/lib/invariant\");\n/**\n * Obtain the start and end positions of the range that has the\n * specified entity applied to it.\n *\n * Entity keys are applied only to contiguous stretches of text, so this\n * method searches for the first instance of the entity key and returns\n * the subsequent range.\n */\n\n\nfunction getRangesForDraftEntity(block, key) {\n  var ranges = [];\n  block.findEntityRanges(function (c) {\n    return c.getEntity() === key;\n  }, function (start, end) {\n    ranges.push({\n      start: start,\n      end: end\n    });\n  });\n  !!!ranges.length ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Entity key not found in this range.') : invariant(false) : void 0;\n  return ranges;\n}\n\nmodule.exports = getRangesForDraftEntity;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar BlockMapBuilder = require(\"./BlockMapBuilder\");\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar Immutable = require(\"immutable\");\n\nvar insertIntoList = require(\"./insertIntoList\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar randomizeBlockMapKeys = require(\"./randomizeBlockMapKeys\");\n\nvar List = Immutable.List;\n\nvar updateExistingBlock = function updateExistingBlock(contentState, selectionState, blockMap, fragmentBlock, targetKey, targetOffset) {\n  var mergeBlockData = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 'REPLACE_WITH_NEW_DATA';\n  var targetBlock = blockMap.get(targetKey);\n  var text = targetBlock.getText();\n  var chars = targetBlock.getCharacterList();\n  var finalKey = targetKey;\n  var finalOffset = targetOffset + fragmentBlock.getText().length;\n  var data = null;\n\n  switch (mergeBlockData) {\n    case 'MERGE_OLD_DATA_TO_NEW_DATA':\n      data = fragmentBlock.getData().merge(targetBlock.getData());\n      break;\n\n    case 'REPLACE_WITH_NEW_DATA':\n      data = fragmentBlock.getData();\n      break;\n  }\n\n  var type = targetBlock.getType();\n\n  if (text && type === 'unstyled') {\n    type = fragmentBlock.getType();\n  }\n\n  var newBlock = targetBlock.merge({\n    text: text.slice(0, targetOffset) + fragmentBlock.getText() + text.slice(targetOffset),\n    characterList: insertIntoList(chars, fragmentBlock.getCharacterList(), targetOffset),\n    type: type,\n    data: data\n  });\n  return contentState.merge({\n    blockMap: blockMap.set(targetKey, newBlock),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState.merge({\n      anchorKey: finalKey,\n      anchorOffset: finalOffset,\n      focusKey: finalKey,\n      focusOffset: finalOffset,\n      isBackward: false\n    })\n  });\n};\n/**\n * Appends text/characterList from the fragment first block to\n * target block.\n */\n\n\nvar updateHead = function updateHead(block, targetOffset, fragment) {\n  var text = block.getText();\n  var chars = block.getCharacterList(); // Modify head portion of block.\n\n  var headText = text.slice(0, targetOffset);\n  var headCharacters = chars.slice(0, targetOffset);\n  var appendToHead = fragment.first();\n  return block.merge({\n    text: headText + appendToHead.getText(),\n    characterList: headCharacters.concat(appendToHead.getCharacterList()),\n    type: headText ? block.getType() : appendToHead.getType(),\n    data: appendToHead.getData()\n  });\n};\n/**\n * Appends offset text/characterList from the target block to the last\n * fragment block.\n */\n\n\nvar updateTail = function updateTail(block, targetOffset, fragment) {\n  // Modify tail portion of block.\n  var text = block.getText();\n  var chars = block.getCharacterList(); // Modify head portion of block.\n\n  var blockSize = text.length;\n  var tailText = text.slice(targetOffset, blockSize);\n  var tailCharacters = chars.slice(targetOffset, blockSize);\n  var prependToTail = fragment.last();\n  return prependToTail.merge({\n    text: prependToTail.getText() + tailText,\n    characterList: prependToTail.getCharacterList().concat(tailCharacters),\n    data: prependToTail.getData()\n  });\n};\n\nvar getRootBlocks = function getRootBlocks(block, blockMap) {\n  var headKey = block.getKey();\n  var rootBlock = block;\n  var rootBlocks = []; // sometimes the fragment head block will not be part of the blockMap itself this can happen when\n  // the fragment head is used to update the target block, however when this does not happen we need\n  // to make sure that we include it on the rootBlocks since the first block of a fragment is always a\n  // fragment root block\n\n  if (blockMap.get(headKey)) {\n    rootBlocks.push(headKey);\n  }\n\n  while (rootBlock && rootBlock.getNextSiblingKey()) {\n    var lastSiblingKey = rootBlock.getNextSiblingKey();\n\n    if (!lastSiblingKey) {\n      break;\n    }\n\n    rootBlocks.push(lastSiblingKey);\n    rootBlock = blockMap.get(lastSiblingKey);\n  }\n\n  return rootBlocks;\n};\n\nvar updateBlockMapLinks = function updateBlockMapLinks(blockMap, originalBlockMap, targetBlock, fragmentHeadBlock) {\n  return blockMap.withMutations(function (blockMapState) {\n    var targetKey = targetBlock.getKey();\n    var headKey = fragmentHeadBlock.getKey();\n    var targetNextKey = targetBlock.getNextSiblingKey();\n    var targetParentKey = targetBlock.getParentKey();\n    var fragmentRootBlocks = getRootBlocks(fragmentHeadBlock, blockMap);\n    var lastRootFragmentBlockKey = fragmentRootBlocks[fragmentRootBlocks.length - 1];\n\n    if (blockMapState.get(headKey)) {\n      // update the fragment head when it is part of the blockMap otherwise\n      blockMapState.setIn([targetKey, 'nextSibling'], headKey);\n      blockMapState.setIn([headKey, 'prevSibling'], targetKey);\n    } else {\n      // update the target block that had the fragment head contents merged into it\n      blockMapState.setIn([targetKey, 'nextSibling'], fragmentHeadBlock.getNextSiblingKey());\n      blockMapState.setIn([fragmentHeadBlock.getNextSiblingKey(), 'prevSibling'], targetKey);\n    } // update the last root block fragment\n\n\n    blockMapState.setIn([lastRootFragmentBlockKey, 'nextSibling'], targetNextKey); // update the original target next block\n\n    if (targetNextKey) {\n      blockMapState.setIn([targetNextKey, 'prevSibling'], lastRootFragmentBlockKey);\n    } // update fragment parent links\n\n\n    fragmentRootBlocks.forEach(function (blockKey) {\n      return blockMapState.setIn([blockKey, 'parent'], targetParentKey);\n    }); // update targetBlock parent child links\n\n    if (targetParentKey) {\n      var targetParent = blockMap.get(targetParentKey);\n      var originalTargetParentChildKeys = targetParent.getChildKeys();\n      var targetBlockIndex = originalTargetParentChildKeys.indexOf(targetKey);\n      var insertionIndex = targetBlockIndex + 1;\n      var newChildrenKeysArray = originalTargetParentChildKeys.toArray(); // insert fragment children\n\n      newChildrenKeysArray.splice.apply(newChildrenKeysArray, [insertionIndex, 0].concat(fragmentRootBlocks));\n      blockMapState.setIn([targetParentKey, 'children'], List(newChildrenKeysArray));\n    }\n  });\n};\n\nvar insertFragment = function insertFragment(contentState, selectionState, blockMap, fragment, targetKey, targetOffset) {\n  var isTreeBasedBlockMap = blockMap.first() instanceof ContentBlockNode;\n  var newBlockArr = [];\n  var fragmentSize = fragment.size;\n  var target = blockMap.get(targetKey);\n  var head = fragment.first();\n  var tail = fragment.last();\n  var finalOffset = tail.getLength();\n  var finalKey = tail.getKey();\n  var shouldNotUpdateFromFragmentBlock = isTreeBasedBlockMap && (!target.getChildKeys().isEmpty() || !head.getChildKeys().isEmpty());\n  blockMap.forEach(function (block, blockKey) {\n    if (blockKey !== targetKey) {\n      newBlockArr.push(block);\n      return;\n    }\n\n    if (shouldNotUpdateFromFragmentBlock) {\n      newBlockArr.push(block);\n    } else {\n      newBlockArr.push(updateHead(block, targetOffset, fragment));\n    } // Insert fragment blocks after the head and before the tail.\n\n\n    fragment // when we are updating the target block with the head fragment block we skip the first fragment\n    // head since its contents have already been merged with the target block otherwise we include\n    // the whole fragment\n    .slice(shouldNotUpdateFromFragmentBlock ? 0 : 1, fragmentSize - 1).forEach(function (fragmentBlock) {\n      return newBlockArr.push(fragmentBlock);\n    }); // update tail\n\n    newBlockArr.push(updateTail(block, targetOffset, fragment));\n  });\n  var updatedBlockMap = BlockMapBuilder.createFromArray(newBlockArr);\n\n  if (isTreeBasedBlockMap) {\n    updatedBlockMap = updateBlockMapLinks(updatedBlockMap, blockMap, target, head);\n  }\n\n  return contentState.merge({\n    blockMap: updatedBlockMap,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState.merge({\n      anchorKey: finalKey,\n      anchorOffset: finalOffset,\n      focusKey: finalKey,\n      focusOffset: finalOffset,\n      isBackward: false\n    })\n  });\n};\n\nvar insertFragmentIntoContentState = function insertFragmentIntoContentState(contentState, selectionState, fragmentBlockMap) {\n  var mergeBlockData = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'REPLACE_WITH_NEW_DATA';\n  !selectionState.isCollapsed() ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`insertFragment` should only be called with a collapsed selection state.') : invariant(false) : void 0;\n  var blockMap = contentState.getBlockMap();\n  var fragment = randomizeBlockMapKeys(fragmentBlockMap);\n  var targetKey = selectionState.getStartKey();\n  var targetOffset = selectionState.getStartOffset();\n  var targetBlock = blockMap.get(targetKey);\n\n  if (targetBlock instanceof ContentBlockNode) {\n    !targetBlock.getChildKeys().isEmpty() ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`insertFragment` should not be called when a container node is selected.') : invariant(false) : void 0;\n  } // When we insert a fragment with a single block we simply update the target block\n  // with the contents of the inserted fragment block\n\n\n  if (fragment.size === 1) {\n    return updateExistingBlock(contentState, selectionState, blockMap, fragment.first(), targetKey, targetOffset, mergeBlockData);\n  }\n\n  return insertFragment(contentState, selectionState, blockMap, fragment, targetKey, targetOffset);\n};\n\nmodule.exports = insertFragmentIntoContentState;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar Immutable = require(\"immutable\");\n\nvar insertIntoList = require(\"./insertIntoList\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar Repeat = Immutable.Repeat;\n\nfunction insertTextIntoContentState(contentState, selectionState, text, characterMetadata) {\n  !selectionState.isCollapsed() ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`insertText` should only be called with a collapsed range.') : invariant(false) : void 0;\n  var len = null;\n\n  if (text != null) {\n    len = text.length;\n  }\n\n  if (len == null || len === 0) {\n    return contentState;\n  }\n\n  var blockMap = contentState.getBlockMap();\n  var key = selectionState.getStartKey();\n  var offset = selectionState.getStartOffset();\n  var block = blockMap.get(key);\n  var blockText = block.getText();\n  var newBlock = block.merge({\n    text: blockText.slice(0, offset) + text + blockText.slice(offset, block.getLength()),\n    characterList: insertIntoList(block.getCharacterList(), Repeat(characterMetadata, len).toList(), offset)\n  });\n  var newOffset = offset + len;\n  return contentState.merge({\n    blockMap: blockMap.set(key, newBlock),\n    selectionAfter: selectionState.merge({\n      anchorOffset: newOffset,\n      focusOffset: newOffset\n    })\n  });\n}\n\nmodule.exports = insertTextIntoContentState;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar getNextDelimiterBlockKey = require(\"./getNextDelimiterBlockKey\");\n\nvar Immutable = require(\"immutable\");\n\nvar List = Immutable.List,\n    Map = Immutable.Map;\n\nvar transformBlock = function transformBlock(key, blockMap, func) {\n  if (!key) {\n    return;\n  }\n\n  var block = blockMap.get(key);\n\n  if (!block) {\n    return;\n  }\n\n  blockMap.set(key, func(block));\n};\n/**\n * Ancestors needs to be preserved when there are non selected\n * children to make sure we do not leave any orphans behind\n */\n\n\nvar getAncestorsKeys = function getAncestorsKeys(blockKey, blockMap) {\n  var parents = [];\n\n  if (!blockKey) {\n    return parents;\n  }\n\n  var blockNode = blockMap.get(blockKey);\n\n  while (blockNode && blockNode.getParentKey()) {\n    var parentKey = blockNode.getParentKey();\n\n    if (parentKey) {\n      parents.push(parentKey);\n    }\n\n    blockNode = parentKey ? blockMap.get(parentKey) : null;\n  }\n\n  return parents;\n};\n/**\n * Get all next delimiter keys until we hit a root delimiter and return\n * an array of key references\n */\n\n\nvar getNextDelimitersBlockKeys = function getNextDelimitersBlockKeys(block, blockMap) {\n  var nextDelimiters = [];\n\n  if (!block) {\n    return nextDelimiters;\n  }\n\n  var nextDelimiter = getNextDelimiterBlockKey(block, blockMap);\n\n  while (nextDelimiter && blockMap.get(nextDelimiter)) {\n    var _block = blockMap.get(nextDelimiter);\n\n    nextDelimiters.push(nextDelimiter); // we do not need to keep checking all root node siblings, just the first occurance\n\n    nextDelimiter = _block.getParentKey() ? getNextDelimiterBlockKey(_block, blockMap) : null;\n  }\n\n  return nextDelimiters;\n};\n\nvar getNextValidSibling = function getNextValidSibling(block, blockMap, originalBlockMap) {\n  if (!block) {\n    return null;\n  } // note that we need to make sure we refer to the original block since this\n  // function is called within a withMutations\n\n\n  var nextValidSiblingKey = originalBlockMap.get(block.getKey()).getNextSiblingKey();\n\n  while (nextValidSiblingKey && !blockMap.get(nextValidSiblingKey)) {\n    nextValidSiblingKey = originalBlockMap.get(nextValidSiblingKey).getNextSiblingKey() || null;\n  }\n\n  return nextValidSiblingKey;\n};\n\nvar getPrevValidSibling = function getPrevValidSibling(block, blockMap, originalBlockMap) {\n  if (!block) {\n    return null;\n  } // note that we need to make sure we refer to the original block since this\n  // function is called within a withMutations\n\n\n  var prevValidSiblingKey = originalBlockMap.get(block.getKey()).getPrevSiblingKey();\n\n  while (prevValidSiblingKey && !blockMap.get(prevValidSiblingKey)) {\n    prevValidSiblingKey = originalBlockMap.get(prevValidSiblingKey).getPrevSiblingKey() || null;\n  }\n\n  return prevValidSiblingKey;\n};\n\nvar updateBlockMapLinks = function updateBlockMapLinks(blockMap, startBlock, endBlock, originalBlockMap) {\n  return blockMap.withMutations(function (blocks) {\n    // update start block if its retained\n    transformBlock(startBlock.getKey(), blocks, function (block) {\n      return block.merge({\n        nextSibling: getNextValidSibling(block, blocks, originalBlockMap),\n        prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)\n      });\n    }); // update endblock if its retained\n\n    transformBlock(endBlock.getKey(), blocks, function (block) {\n      return block.merge({\n        nextSibling: getNextValidSibling(block, blocks, originalBlockMap),\n        prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)\n      });\n    }); // update start block parent ancestors\n\n    getAncestorsKeys(startBlock.getKey(), originalBlockMap).forEach(function (parentKey) {\n      return transformBlock(parentKey, blocks, function (block) {\n        return block.merge({\n          children: block.getChildKeys().filter(function (key) {\n            return blocks.get(key);\n          }),\n          nextSibling: getNextValidSibling(block, blocks, originalBlockMap),\n          prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)\n        });\n      });\n    }); // update start block next - can only happen if startBlock == endBlock\n\n    transformBlock(startBlock.getNextSiblingKey(), blocks, function (block) {\n      return block.merge({\n        prevSibling: startBlock.getPrevSiblingKey()\n      });\n    }); // update start block prev\n\n    transformBlock(startBlock.getPrevSiblingKey(), blocks, function (block) {\n      return block.merge({\n        nextSibling: getNextValidSibling(block, blocks, originalBlockMap)\n      });\n    }); // update end block next\n\n    transformBlock(endBlock.getNextSiblingKey(), blocks, function (block) {\n      return block.merge({\n        prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)\n      });\n    }); // update end block prev\n\n    transformBlock(endBlock.getPrevSiblingKey(), blocks, function (block) {\n      return block.merge({\n        nextSibling: endBlock.getNextSiblingKey()\n      });\n    }); // update end block parent ancestors\n\n    getAncestorsKeys(endBlock.getKey(), originalBlockMap).forEach(function (parentKey) {\n      transformBlock(parentKey, blocks, function (block) {\n        return block.merge({\n          children: block.getChildKeys().filter(function (key) {\n            return blocks.get(key);\n          }),\n          nextSibling: getNextValidSibling(block, blocks, originalBlockMap),\n          prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)\n        });\n      });\n    }); // update next delimiters all the way to a root delimiter\n\n    getNextDelimitersBlockKeys(endBlock, originalBlockMap).forEach(function (delimiterKey) {\n      return transformBlock(delimiterKey, blocks, function (block) {\n        return block.merge({\n          nextSibling: getNextValidSibling(block, blocks, originalBlockMap),\n          prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)\n        });\n      });\n    }); // if parent (startBlock) was deleted\n\n    if (blockMap.get(startBlock.getKey()) == null && blockMap.get(endBlock.getKey()) != null && endBlock.getParentKey() === startBlock.getKey() && endBlock.getPrevSiblingKey() == null) {\n      var prevSiblingKey = startBlock.getPrevSiblingKey(); // endBlock becomes next sibling of parent's prevSibling\n\n      transformBlock(endBlock.getKey(), blocks, function (block) {\n        return block.merge({\n          prevSibling: prevSiblingKey\n        });\n      });\n      transformBlock(prevSiblingKey, blocks, function (block) {\n        return block.merge({\n          nextSibling: endBlock.getKey()\n        });\n      }); // Update parent for previous parent's children, and children for that parent\n\n      var prevSibling = prevSiblingKey ? blockMap.get(prevSiblingKey) : null;\n      var newParentKey = prevSibling ? prevSibling.getParentKey() : null;\n      startBlock.getChildKeys().forEach(function (childKey) {\n        transformBlock(childKey, blocks, function (block) {\n          return block.merge({\n            parent: newParentKey // set to null if there is no parent\n\n          });\n        });\n      });\n\n      if (newParentKey != null) {\n        var newParent = blockMap.get(newParentKey);\n        transformBlock(newParentKey, blocks, function (block) {\n          return block.merge({\n            children: newParent.getChildKeys().concat(startBlock.getChildKeys())\n          });\n        });\n      } // last child of deleted parent should point to next sibling\n\n\n      transformBlock(startBlock.getChildKeys().find(function (key) {\n        var block = blockMap.get(key);\n        return block.getNextSiblingKey() === null;\n      }), blocks, function (block) {\n        return block.merge({\n          nextSibling: startBlock.getNextSiblingKey()\n        });\n      });\n    }\n  });\n};\n\nvar removeRangeFromContentState = function removeRangeFromContentState(contentState, selectionState) {\n  if (selectionState.isCollapsed()) {\n    return contentState;\n  }\n\n  var blockMap = contentState.getBlockMap();\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n  var startBlock = blockMap.get(startKey);\n  var endBlock = blockMap.get(endKey); // we assume that ContentBlockNode and ContentBlocks are not mixed together\n\n  var isExperimentalTreeBlock = startBlock instanceof ContentBlockNode; // used to retain blocks that should not be deleted to avoid orphan children\n\n  var parentAncestors = [];\n\n  if (isExperimentalTreeBlock) {\n    var endBlockchildrenKeys = endBlock.getChildKeys();\n    var endBlockAncestors = getAncestorsKeys(endKey, blockMap); // endBlock has unselected siblings so we can not remove its ancestors parents\n\n    if (endBlock.getNextSiblingKey()) {\n      parentAncestors = parentAncestors.concat(endBlockAncestors);\n    } // endBlock has children so can not remove this block or any of its ancestors\n\n\n    if (!endBlockchildrenKeys.isEmpty()) {\n      parentAncestors = parentAncestors.concat(endBlockAncestors.concat([endKey]));\n    } // we need to retain all ancestors of the next delimiter block\n\n\n    parentAncestors = parentAncestors.concat(getAncestorsKeys(getNextDelimiterBlockKey(endBlock, blockMap), blockMap));\n  }\n\n  var characterList;\n\n  if (startBlock === endBlock) {\n    characterList = removeFromList(startBlock.getCharacterList(), startOffset, endOffset);\n  } else {\n    characterList = startBlock.getCharacterList().slice(0, startOffset).concat(endBlock.getCharacterList().slice(endOffset));\n  }\n\n  var modifiedStart = startBlock.merge({\n    text: startBlock.getText().slice(0, startOffset) + endBlock.getText().slice(endOffset),\n    characterList: characterList\n  }); // If cursor (collapsed) is at the start of the first child, delete parent\n  // instead of child\n\n  var shouldDeleteParent = isExperimentalTreeBlock && startOffset === 0 && endOffset === 0 && endBlock.getParentKey() === startKey && endBlock.getPrevSiblingKey() == null;\n  var newBlocks = shouldDeleteParent ? Map([[startKey, null]]) : blockMap.toSeq().skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).filter(function (_, k) {\n    return parentAncestors.indexOf(k) === -1;\n  }).concat(Map([[endKey, null]])).map(function (_, k) {\n    return k === startKey ? modifiedStart : null;\n  });\n  var updatedBlockMap = blockMap.merge(newBlocks).filter(function (block) {\n    return !!block;\n  }); // Only update tree block pointers if the range is across blocks\n\n  if (isExperimentalTreeBlock && startBlock !== endBlock) {\n    updatedBlockMap = updateBlockMapLinks(updatedBlockMap, startBlock, endBlock, blockMap);\n  }\n\n  return contentState.merge({\n    blockMap: updatedBlockMap,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState.merge({\n      anchorKey: startKey,\n      anchorOffset: startOffset,\n      focusKey: startKey,\n      focusOffset: startOffset,\n      isBackward: false\n    })\n  });\n};\n/**\n * Maintain persistence for target list when removing characters on the\n * head and tail of the character list.\n */\n\n\nvar removeFromList = function removeFromList(targetList, startOffset, endOffset) {\n  if (startOffset === 0) {\n    while (startOffset < endOffset) {\n      targetList = targetList.shift();\n      startOffset++;\n    }\n  } else if (endOffset === targetList.count()) {\n    while (endOffset > startOffset) {\n      targetList = targetList.pop();\n      endOffset--;\n    }\n  } else {\n    var head = targetList.slice(0, startOffset);\n    var tail = targetList.slice(endOffset);\n    targetList = head.concat(tail).toList();\n  }\n\n  return targetList;\n};\n\nmodule.exports = removeRangeFromContentState;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar Immutable = require(\"immutable\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar modifyBlockForContentState = require(\"./modifyBlockForContentState\");\n\nvar List = Immutable.List,\n    Map = Immutable.Map;\n\nvar transformBlock = function transformBlock(key, blockMap, func) {\n  if (!key) {\n    return;\n  }\n\n  var block = blockMap.get(key);\n\n  if (!block) {\n    return;\n  }\n\n  blockMap.set(key, func(block));\n};\n\nvar updateBlockMapLinks = function updateBlockMapLinks(blockMap, originalBlock, belowBlock) {\n  return blockMap.withMutations(function (blocks) {\n    var originalBlockKey = originalBlock.getKey();\n    var belowBlockKey = belowBlock.getKey(); // update block parent\n\n    transformBlock(originalBlock.getParentKey(), blocks, function (block) {\n      var parentChildrenList = block.getChildKeys();\n      var insertionIndex = parentChildrenList.indexOf(originalBlockKey) + 1;\n      var newChildrenArray = parentChildrenList.toArray();\n      newChildrenArray.splice(insertionIndex, 0, belowBlockKey);\n      return block.merge({\n        children: List(newChildrenArray)\n      });\n    }); // update original next block\n\n    transformBlock(originalBlock.getNextSiblingKey(), blocks, function (block) {\n      return block.merge({\n        prevSibling: belowBlockKey\n      });\n    }); // update original block\n\n    transformBlock(originalBlockKey, blocks, function (block) {\n      return block.merge({\n        nextSibling: belowBlockKey\n      });\n    }); // update below block\n\n    transformBlock(belowBlockKey, blocks, function (block) {\n      return block.merge({\n        prevSibling: originalBlockKey\n      });\n    });\n  });\n};\n\nvar splitBlockInContentState = function splitBlockInContentState(contentState, selectionState) {\n  !selectionState.isCollapsed() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Selection range must be collapsed.') : invariant(false) : void 0;\n  var key = selectionState.getAnchorKey();\n  var blockMap = contentState.getBlockMap();\n  var blockToSplit = blockMap.get(key);\n  var text = blockToSplit.getText();\n\n  if (!text) {\n    var blockType = blockToSplit.getType();\n\n    if (blockType === 'unordered-list-item' || blockType === 'ordered-list-item') {\n      return modifyBlockForContentState(contentState, selectionState, function (block) {\n        return block.merge({\n          type: 'unstyled',\n          depth: 0\n        });\n      });\n    }\n  }\n\n  var offset = selectionState.getAnchorOffset();\n  var chars = blockToSplit.getCharacterList();\n  var keyBelow = generateRandomKey();\n  var isExperimentalTreeBlock = blockToSplit instanceof ContentBlockNode;\n  var blockAbove = blockToSplit.merge({\n    text: text.slice(0, offset),\n    characterList: chars.slice(0, offset)\n  });\n  var blockBelow = blockAbove.merge({\n    key: keyBelow,\n    text: text.slice(offset),\n    characterList: chars.slice(offset),\n    data: Map()\n  });\n  var blocksBefore = blockMap.toSeq().takeUntil(function (v) {\n    return v === blockToSplit;\n  });\n  var blocksAfter = blockMap.toSeq().skipUntil(function (v) {\n    return v === blockToSplit;\n  }).rest();\n  var newBlocks = blocksBefore.concat([[key, blockAbove], [keyBelow, blockBelow]], blocksAfter).toOrderedMap();\n\n  if (isExperimentalTreeBlock) {\n    !blockToSplit.getChildKeys().isEmpty() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ContentBlockNode must not have children') : invariant(false) : void 0;\n    newBlocks = updateBlockMapLinks(newBlocks, blockAbove, blockBelow);\n  }\n\n  return contentState.merge({\n    blockMap: newBlocks,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState.merge({\n      anchorKey: keyBelow,\n      anchorOffset: 0,\n      focusKey: keyBelow,\n      focusOffset: 0,\n      isBackward: false\n    })\n  });\n};\n\nmodule.exports = splitBlockInContentState;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar findRangesImmutable = require(\"./findRangesImmutable\");\n\nvar getOwnObjectValues = require(\"./getOwnObjectValues\");\n\nvar Immutable = require(\"immutable\");\n\nvar List = Immutable.List,\n    Repeat = Immutable.Repeat,\n    Record = Immutable.Record;\n\nvar returnTrue = function returnTrue() {\n  return true;\n};\n\nvar defaultLeafRange = {\n  start: null,\n  end: null\n};\nvar LeafRange = Record(defaultLeafRange);\nvar defaultDecoratorRange = {\n  start: null,\n  end: null,\n  decoratorKey: null,\n  leaves: null\n};\nvar DecoratorRange = Record(defaultDecoratorRange);\nvar BlockTree = {\n  /**\n   * Generate a block tree for a given ContentBlock/decorator pair.\n   */\n  generate: function generate(contentState, block, decorator) {\n    var textLength = block.getLength();\n\n    if (!textLength) {\n      return List.of(new DecoratorRange({\n        start: 0,\n        end: 0,\n        decoratorKey: null,\n        leaves: List.of(new LeafRange({\n          start: 0,\n          end: 0\n        }))\n      }));\n    }\n\n    var leafSets = [];\n    var decorations = decorator ? decorator.getDecorations(block, contentState) : List(Repeat(null, textLength));\n    var chars = block.getCharacterList();\n    findRangesImmutable(decorations, areEqual, returnTrue, function (start, end) {\n      leafSets.push(new DecoratorRange({\n        start: start,\n        end: end,\n        decoratorKey: decorations.get(start),\n        leaves: generateLeaves(chars.slice(start, end).toList(), start)\n      }));\n    });\n    return List(leafSets);\n  },\n  fromJS: function fromJS(_ref) {\n    var leaves = _ref.leaves,\n        other = _objectWithoutPropertiesLoose(_ref, [\"leaves\"]);\n\n    return new DecoratorRange(_objectSpread({}, other, {\n      leaves: leaves != null ? List(Array.isArray(leaves) ? leaves : getOwnObjectValues(leaves)).map(function (leaf) {\n        return LeafRange(leaf);\n      }) : null\n    }));\n  }\n};\n/**\n * Generate LeafRange records for a given character list.\n */\n\nfunction generateLeaves(characters, offset) {\n  var leaves = [];\n  var inlineStyles = characters.map(function (c) {\n    return c.getStyle();\n  }).toList();\n  findRangesImmutable(inlineStyles, areEqual, returnTrue, function (start, end) {\n    leaves.push(new LeafRange({\n      start: start + offset,\n      end: end + offset\n    }));\n  });\n  return List(leaves);\n}\n\nfunction areEqual(a, b) {\n  return a === b;\n}\n\nmodule.exports = BlockTree;","\"use strict\";\n\n/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n *\n * @typechecks\n * \n * @format\n */\n\n/*eslint-disable no-bitwise */\n\n/**\n * Based on the rfc4122-compliant solution posted at\n * http://stackoverflow.com/questions/105034\n */\nfunction uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0;\n    var v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n\nmodule.exports = uuid;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UnicodeBidiService = require(\"fbjs/lib/UnicodeBidiService\");\n\nvar Immutable = require(\"immutable\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar OrderedMap = Immutable.OrderedMap;\nvar bidiService;\nvar EditorBidiService = {\n  getDirectionMap: function getDirectionMap(content, prevBidiMap) {\n    if (!bidiService) {\n      bidiService = new UnicodeBidiService();\n    } else {\n      bidiService.reset();\n    }\n\n    var blockMap = content.getBlockMap();\n    var nextBidi = blockMap.valueSeq().map(function (block) {\n      return nullthrows(bidiService).getDirection(block.getText());\n    });\n    var bidiMap = OrderedMap(blockMap.keySeq().zip(nextBidi));\n\n    if (prevBidiMap != null && Immutable.is(prevBidiMap, bidiMap)) {\n      return prevBidiMap;\n    }\n\n    return bidiMap;\n  }\n};\nmodule.exports = EditorBidiService;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n * \n */\n\n/**\n * Stateful API for text direction detection\n *\n * This class can be used in applications where you need to detect the\n * direction of a sequence of text blocks, where each direction shall be used\n * as the fallback direction for the next one.\n *\n * NOTE: A default direction, if not provided, is set based on the global\n *       direction, as defined by `UnicodeBidiDirection`.\n *\n * == Example ==\n * ```\n * var UnicodeBidiService = require('UnicodeBidiService');\n *\n * var bidiService = new UnicodeBidiService();\n *\n * ...\n *\n * bidiService.reset();\n * for (var para in paragraphs) {\n *   var dir = bidiService.getDirection(para);\n *   ...\n * }\n * ```\n *\n * Part of our implementation of Unicode Bidirectional Algorithm (UBA)\n * Unicode Standard Annex #9 (UAX9)\n * http://www.unicode.org/reports/tr9/\n */\n'use strict';\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar UnicodeBidi = require(\"./UnicodeBidi\");\n\nvar UnicodeBidiDirection = require(\"./UnicodeBidiDirection\");\n\nvar invariant = require(\"./invariant\");\n\nvar UnicodeBidiService =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Stateful class for paragraph direction detection\n   *\n   * @param defaultDir  Default direction of the service\n   */\n  function UnicodeBidiService(defaultDir) {\n    _defineProperty(this, \"_defaultDir\", void 0);\n\n    _defineProperty(this, \"_lastDir\", void 0);\n\n    if (!defaultDir) {\n      defaultDir = UnicodeBidiDirection.getGlobalDir();\n    } else {\n      !UnicodeBidiDirection.isStrong(defaultDir) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Default direction must be a strong direction (LTR or RTL)') : invariant(false) : void 0;\n    }\n\n    this._defaultDir = defaultDir;\n    this.reset();\n  }\n  /**\n   * Reset the internal state\n   *\n   * Instead of creating a new instance, you can just reset() your instance\n   * everytime you start a new loop.\n   */\n\n\n  var _proto = UnicodeBidiService.prototype;\n\n  _proto.reset = function reset() {\n    this._lastDir = this._defaultDir;\n  };\n  /**\n   * Returns the direction of a block of text, and remembers it as the\n   * fall-back direction for the next paragraph.\n   *\n   * @param str  A text block, e.g. paragraph, table cell, tag\n   * @return     The resolved direction\n   */\n\n\n  _proto.getDirection = function getDirection(str) {\n    this._lastDir = UnicodeBidi.getDirection(str, this._lastDir);\n    return this._lastDir;\n  };\n\n  return UnicodeBidiService;\n}();\n\nmodule.exports = UnicodeBidiService;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar getNextDelimiterBlockKey = require(\"./getNextDelimiterBlockKey\");\n\nvar Immutable = require(\"immutable\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar OrderedMap = Immutable.OrderedMap,\n    List = Immutable.List;\n\nvar transformBlock = function transformBlock(key, blockMap, func) {\n  if (!key) {\n    return;\n  }\n\n  var block = blockMap.get(key);\n\n  if (!block) {\n    return;\n  }\n\n  blockMap.set(key, func(block));\n};\n\nvar updateBlockMapLinks = function updateBlockMapLinks(blockMap, originalBlockToBeMoved, originalTargetBlock, insertionMode, isExperimentalTreeBlock) {\n  if (!isExperimentalTreeBlock) {\n    return blockMap;\n  } // possible values of 'insertionMode' are: 'after', 'before'\n\n\n  var isInsertedAfterTarget = insertionMode === 'after';\n  var originalBlockKey = originalBlockToBeMoved.getKey();\n  var originalTargetKey = originalTargetBlock.getKey();\n  var originalParentKey = originalBlockToBeMoved.getParentKey();\n  var originalNextSiblingKey = originalBlockToBeMoved.getNextSiblingKey();\n  var originalPrevSiblingKey = originalBlockToBeMoved.getPrevSiblingKey();\n  var newParentKey = originalTargetBlock.getParentKey();\n  var newNextSiblingKey = isInsertedAfterTarget ? originalTargetBlock.getNextSiblingKey() : originalTargetKey;\n  var newPrevSiblingKey = isInsertedAfterTarget ? originalTargetKey : originalTargetBlock.getPrevSiblingKey();\n  return blockMap.withMutations(function (blocks) {\n    // update old parent\n    transformBlock(originalParentKey, blocks, function (block) {\n      var parentChildrenList = block.getChildKeys();\n      return block.merge({\n        children: parentChildrenList[\"delete\"](parentChildrenList.indexOf(originalBlockKey))\n      });\n    }); // update old prev\n\n    transformBlock(originalPrevSiblingKey, blocks, function (block) {\n      return block.merge({\n        nextSibling: originalNextSiblingKey\n      });\n    }); // update old next\n\n    transformBlock(originalNextSiblingKey, blocks, function (block) {\n      return block.merge({\n        prevSibling: originalPrevSiblingKey\n      });\n    }); // update new next\n\n    transformBlock(newNextSiblingKey, blocks, function (block) {\n      return block.merge({\n        prevSibling: originalBlockKey\n      });\n    }); // update new prev\n\n    transformBlock(newPrevSiblingKey, blocks, function (block) {\n      return block.merge({\n        nextSibling: originalBlockKey\n      });\n    }); // update new parent\n\n    transformBlock(newParentKey, blocks, function (block) {\n      var newParentChildrenList = block.getChildKeys();\n      var targetBlockIndex = newParentChildrenList.indexOf(originalTargetKey);\n      var insertionIndex = isInsertedAfterTarget ? targetBlockIndex + 1 : targetBlockIndex !== 0 ? targetBlockIndex - 1 : 0;\n      var newChildrenArray = newParentChildrenList.toArray();\n      newChildrenArray.splice(insertionIndex, 0, originalBlockKey);\n      return block.merge({\n        children: List(newChildrenArray)\n      });\n    }); // update block\n\n    transformBlock(originalBlockKey, blocks, function (block) {\n      return block.merge({\n        nextSibling: newNextSiblingKey,\n        prevSibling: newPrevSiblingKey,\n        parent: newParentKey\n      });\n    });\n  });\n};\n\nvar moveBlockInContentState = function moveBlockInContentState(contentState, blockToBeMoved, targetBlock, insertionMode) {\n  !(insertionMode !== 'replace') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Replacing blocks is not supported.') : invariant(false) : void 0;\n  var targetKey = targetBlock.getKey();\n  var blockKey = blockToBeMoved.getKey();\n  !(blockKey !== targetKey) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Block cannot be moved next to itself.') : invariant(false) : void 0;\n  var blockMap = contentState.getBlockMap();\n  var isExperimentalTreeBlock = blockToBeMoved instanceof ContentBlockNode;\n  var blocksToBeMoved = [blockToBeMoved];\n  var blockMapWithoutBlocksToBeMoved = blockMap[\"delete\"](blockKey);\n\n  if (isExperimentalTreeBlock) {\n    blocksToBeMoved = [];\n    blockMapWithoutBlocksToBeMoved = blockMap.withMutations(function (blocks) {\n      var nextSiblingKey = blockToBeMoved.getNextSiblingKey();\n      var nextDelimiterBlockKey = getNextDelimiterBlockKey(blockToBeMoved, blocks);\n      blocks.toSeq().skipUntil(function (block) {\n        return block.getKey() === blockKey;\n      }).takeWhile(function (block) {\n        var key = block.getKey();\n        var isBlockToBeMoved = key === blockKey;\n        var hasNextSiblingAndIsNotNextSibling = nextSiblingKey && key !== nextSiblingKey;\n        var doesNotHaveNextSiblingAndIsNotDelimiter = !nextSiblingKey && block.getParentKey() && (!nextDelimiterBlockKey || key !== nextDelimiterBlockKey);\n        return !!(isBlockToBeMoved || hasNextSiblingAndIsNotNextSibling || doesNotHaveNextSiblingAndIsNotDelimiter);\n      }).forEach(function (block) {\n        blocksToBeMoved.push(block);\n        blocks[\"delete\"](block.getKey());\n      });\n    });\n  }\n\n  var blocksBefore = blockMapWithoutBlocksToBeMoved.toSeq().takeUntil(function (v) {\n    return v === targetBlock;\n  });\n  var blocksAfter = blockMapWithoutBlocksToBeMoved.toSeq().skipUntil(function (v) {\n    return v === targetBlock;\n  }).skip(1);\n  var slicedBlocks = blocksToBeMoved.map(function (block) {\n    return [block.getKey(), block];\n  });\n  var newBlocks = OrderedMap();\n\n  if (insertionMode === 'before') {\n    var blockBefore = contentState.getBlockBefore(targetKey);\n    !(!blockBefore || blockBefore.getKey() !== blockToBeMoved.getKey()) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Block cannot be moved next to itself.') : invariant(false) : void 0;\n    newBlocks = blocksBefore.concat([].concat(slicedBlocks, [[targetKey, targetBlock]]), blocksAfter).toOrderedMap();\n  } else if (insertionMode === 'after') {\n    var blockAfter = contentState.getBlockAfter(targetKey);\n    !(!blockAfter || blockAfter.getKey() !== blockKey) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Block cannot be moved next to itself.') : invariant(false) : void 0;\n    newBlocks = blocksBefore.concat([[targetKey, targetBlock]].concat(slicedBlocks), blocksAfter).toOrderedMap();\n  }\n\n  return contentState.merge({\n    blockMap: updateBlockMapLinks(newBlocks, blockToBeMoved, targetBlock, insertionMode, isExperimentalTreeBlock),\n    selectionBefore: contentState.getSelectionAfter(),\n    selectionAfter: contentState.getSelectionAfter().merge({\n      anchorKey: blockKey,\n      focusKey: blockKey\n    })\n  });\n};\n\nmodule.exports = moveBlockInContentState;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Immutable = require(\"immutable\");\n\nvar List = Immutable.List;\nvar DELIMITER = '.';\n/**\n * A CompositeDraftDecorator traverses through a list of DraftDecorator\n * instances to identify sections of a ContentBlock that should be rendered\n * in a \"decorated\" manner. For example, hashtags, mentions, and links may\n * be intended to stand out visually, be rendered as anchors, etc.\n *\n * The list of decorators supplied to the constructor will be used in the\n * order they are provided. This allows the caller to specify a priority for\n * string matching, in case of match collisions among decorators.\n *\n * For instance, I may have a link with a `#` in its text. Though this section\n * of text may match our hashtag decorator, it should not be treated as a\n * hashtag. I should therefore list my link DraftDecorator\n * before my hashtag DraftDecorator when constructing this composite\n * decorator instance.\n *\n * Thus, when a collision like this is encountered, the earlier match is\n * preserved and the new match is discarded.\n */\n\nvar CompositeDraftDecorator = /*#__PURE__*/function () {\n  function CompositeDraftDecorator(decorators) {\n    _defineProperty(this, \"_decorators\", void 0);\n\n    // Copy the decorator array, since we use this array order to determine\n    // precedence of decoration matching. If the array is mutated externally,\n    // we don't want to be affected here.\n    this._decorators = decorators.slice();\n  }\n\n  var _proto = CompositeDraftDecorator.prototype;\n\n  _proto.getDecorations = function getDecorations(block, contentState) {\n    var decorations = Array(block.getText().length).fill(null);\n\n    this._decorators.forEach(function (\n    /*object*/\n    decorator,\n    /*number*/\n    ii) {\n      var counter = 0;\n      var strategy = decorator.strategy;\n\n      var callback = function callback(\n      /*number*/\n      start,\n      /*number*/\n      end) {\n        // Find out if any of our matching range is already occupied\n        // by another decorator. If so, discard the match. Otherwise, store\n        // the component key for rendering.\n        if (canOccupySlice(decorations, start, end)) {\n          occupySlice(decorations, start, end, ii + DELIMITER + counter);\n          counter++;\n        }\n      };\n\n      strategy(block, callback, contentState);\n    });\n\n    return List(decorations);\n  };\n\n  _proto.getComponentForKey = function getComponentForKey(key) {\n    var componentKey = parseInt(key.split(DELIMITER)[0], 10);\n    return this._decorators[componentKey].component;\n  };\n\n  _proto.getPropsForKey = function getPropsForKey(key) {\n    var componentKey = parseInt(key.split(DELIMITER)[0], 10);\n    return this._decorators[componentKey].props;\n  };\n\n  return CompositeDraftDecorator;\n}();\n/**\n * Determine whether we can occupy the specified slice of the decorations\n * array.\n */\n\n\nfunction canOccupySlice(decorations, start, end) {\n  for (var ii = start; ii < end; ii++) {\n    if (decorations[ii] != null) {\n      return false;\n    }\n  }\n\n  return true;\n}\n/**\n * Splice the specified component into our decoration array at the desired\n * range.\n */\n\n\nfunction occupySlice(targetArr, start, end, componentKey) {\n  for (var ii = start; ii < end; ii++) {\n    targetArr[ii] = componentKey;\n  }\n}\n\nmodule.exports = CompositeDraftDecorator;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @preventMunge\n * @emails oncall+draft_js\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() { _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar DefaultDraftBlockRenderMap = require(\"./DefaultDraftBlockRenderMap\");\n\nvar DefaultDraftInlineStyle = require(\"./DefaultDraftInlineStyle\");\n\nvar DraftEditorCompositionHandler = require(\"./DraftEditorCompositionHandler\");\n\nvar DraftEditorContents = require(\"./DraftEditorContents.react\");\n\nvar DraftEditorDragHandler = require(\"./DraftEditorDragHandler\");\n\nvar DraftEditorEditHandler = require(\"./DraftEditorEditHandler\");\n\nvar flushControlled = require(\"./DraftEditorFlushControlled\");\n\nvar DraftEditorPlaceholder = require(\"./DraftEditorPlaceholder.react\");\n\nvar DraftEffects = require(\"./DraftEffects\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar React = require(\"react\");\n\nvar Scroll = require(\"fbjs/lib/Scroll\");\n\nvar Style = require(\"fbjs/lib/Style\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getDefaultKeyBinding = require(\"./getDefaultKeyBinding\");\n\nvar getScrollPosition = require(\"fbjs/lib/getScrollPosition\");\n\nvar gkx = require(\"./gkx\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar isIE = UserAgent.isBrowser('IE'); // IE does not support the `input` event on contentEditable, so we can't\n// observe spellcheck behavior.\n\nvar allowSpellCheck = !isIE; // Define a set of handler objects to correspond to each possible `mode`\n// of editor behavior.\n\nvar handlerMap = {\n  edit: DraftEditorEditHandler,\n  composite: DraftEditorCompositionHandler,\n  drag: DraftEditorDragHandler,\n  cut: null,\n  render: null\n};\nvar didInitODS = false;\n\nvar UpdateDraftEditorFlags = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(UpdateDraftEditorFlags, _React$Component);\n\n  function UpdateDraftEditorFlags() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = UpdateDraftEditorFlags.prototype;\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._update();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this._update();\n  };\n\n  _proto._update = function _update() {\n    var editor = this.props.editor;\n    /**\n     * Sometimes a render triggers a 'focus' or other event, and that will\n     * schedule a second render pass.\n     * In order to make sure the second render pass gets the latest editor\n     * state, we update it here.\n     * Example:\n     * render #1\n     * +\n     * |\n     * | cWU -> Nothing ... latestEditorState = STALE_STATE :(\n     * |\n     * | render -> this.props.editorState = FRESH_STATE\n     * | +         *and* set latestEditorState = FRESH_STATE\n     *   |\n     * | |\n     * | +--> triggers 'focus' event, calling 'handleFocus' with latestEditorState\n     * |                                                +\n     * |                                                |\n     * +>cdU -> latestEditorState = FRESH_STATE         | the 'handleFocus' call schedules render #2\n     *                                                  | with latestEditorState, which is FRESH_STATE\n     *                                                  |\n     * render #2 <--------------------------------------+\n     * +\n     * |\n     * | cwU -> nothing updates\n     * |\n     * | render -> this.props.editorState = FRESH_STATE which was passed in above\n     * |\n     * +>cdU fires and resets latestEditorState = FRESH_STATE\n     * ---\n     * Note that if we don't set latestEditorState in 'render' in the above\n     * diagram, then STALE_STATE gets passed to render #2.\n     */\n\n    editor._latestEditorState = this.props.editorState;\n    /**\n     * The reason we set this 'blockSelectEvents' flag is that  IE will fire a\n     * 'selectionChange' event when we programmatically change the selection,\n     * meaning it would trigger a new select event while we are in the middle\n     * of updating.\n     * We found that the 'selection.addRange' was what triggered the stray\n     * selectionchange event in IE.\n     * To be clear - we have not been able to reproduce specific bugs related\n     * to this stray selection event, but have recorded logs that some\n     * conditions do cause it to get bumped into during editOnSelect.\n     */\n\n    editor._blockSelectEvents = true;\n  };\n\n  return UpdateDraftEditorFlags;\n}(React.Component);\n/**\n * `DraftEditor` is the root editor component. It composes a `contentEditable`\n * div, and provides a wide variety of useful function props for managing the\n * state of the editor. See `DraftEditorProps` for details.\n */\n\n\nvar DraftEditor = /*#__PURE__*/function (_React$Component2) {\n  _inheritsLoose(DraftEditor, _React$Component2);\n\n  /**\n   * Define proxies that can route events to the current handler.\n   */\n  function DraftEditor(props) {\n    var _this;\n\n    _this = _React$Component2.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_blockSelectEvents\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_clipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_handler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_dragCount\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_internalDrag\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_editorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_placeholderAccessibilityID\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestCommittedEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_pendingStateFromBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBlur\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCharacterData\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCopy\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCut\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragOver\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDrop\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onFocus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyPress\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onPaste\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSelect\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editor\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editorContainer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"blur\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setMode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"exitCurrentMode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"restoreEditorDOM\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setClipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getClipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getEditorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleEditorContainerRef\", function (node) {\n      _this.editorContainer = node; // Instead of having a direct ref on the child, we'll grab it here.\n      // This is safe as long as the rendered structure is static (which it is).\n      // This lets the child support ref={props.editorRef} without merging refs.\n\n      _this.editor = node !== null ? node.firstChild : null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", function (scrollPosition) {\n      var editorState = _this.props.editorState;\n      var alreadyHasFocus = editorState.getSelection().getHasFocus();\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        // once in a while people call 'focus' in a setTimeout, and the node has\n        // been deleted, so it can be null in that case.\n        return;\n      }\n\n      var scrollParent = Style.getScrollParent(editorNode);\n\n      var _ref = scrollPosition || getScrollPosition(scrollParent),\n          x = _ref.x,\n          y = _ref.y;\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.focus(); // Restore scroll position\n\n      if (scrollParent === window) {\n        window.scrollTo(x, y);\n      } else {\n        Scroll.setTop(scrollParent, y);\n      } // On Chrome and Safari, calling focus on contenteditable focuses the\n      // cursor at the first character. This is something you don't expect when\n      // you're clicking on an input element but not directly on a character.\n      // Put the cursor back where it was before the blur.\n\n\n      if (!alreadyHasFocus) {\n        _this.update(EditorState.forceSelection(editorState, editorState.getSelection()));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"blur\", function () {\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        return;\n      }\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.blur();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setMode\", function (mode) {\n      var _this$props = _this.props,\n          onPaste = _this$props.onPaste,\n          onCut = _this$props.onCut,\n          onCopy = _this$props.onCopy;\n\n      var editHandler = _objectSpread({}, handlerMap.edit);\n\n      if (onPaste) {\n        /* $FlowFixMe[incompatible-type] (>=0.117.0 site=www,mobile) This comment\n         * suppresses an error found when Flow v0.117 was deployed. To see the\n         * error delete this comment and run Flow. */\n        editHandler.onPaste = onPaste;\n      }\n\n      if (onCut) {\n        editHandler.onCut = onCut;\n      }\n\n      if (onCopy) {\n        editHandler.onCopy = onCopy;\n      }\n\n      var handler = _objectSpread({}, handlerMap, {\n        edit: editHandler\n      });\n\n      _this._handler = handler[mode];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"exitCurrentMode\", function () {\n      _this.setMode('edit');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"restoreEditorDOM\", function (scrollPosition) {\n      _this.setState({\n        contentsKey: _this.state.contentsKey + 1\n      }, function () {\n        _this.focus(scrollPosition);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setClipboard\", function (clipboard) {\n      _this._clipboard = clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getClipboard\", function () {\n      return _this._clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", function (editorState) {\n      _this._latestEditorState = editorState;\n\n      _this.props.onChange(editorState);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", function () {\n      _this._dragCount++;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", function () {\n      _this._dragCount--;\n\n      if (_this._dragCount === 0) {\n        _this.exitCurrentMode();\n      }\n    });\n\n    _this._blockSelectEvents = false;\n    _this._clipboard = null;\n    _this._handler = null;\n    _this._dragCount = 0;\n    _this._editorKey = props.editorKey || generateRandomKey();\n    _this._placeholderAccessibilityID = 'placeholder-' + _this._editorKey;\n    _this._latestEditorState = props.editorState;\n    _this._latestCommittedEditorState = props.editorState;\n    _this._onBeforeInput = _this._buildHandler('onBeforeInput');\n    _this._onBlur = _this._buildHandler('onBlur');\n    _this._onCharacterData = _this._buildHandler('onCharacterData');\n    _this._onCompositionEnd = _this._buildHandler('onCompositionEnd');\n    _this._onCompositionStart = _this._buildHandler('onCompositionStart');\n    _this._onCopy = _this._buildHandler('onCopy');\n    _this._onCut = _this._buildHandler('onCut');\n    _this._onDragEnd = _this._buildHandler('onDragEnd');\n    _this._onDragOver = _this._buildHandler('onDragOver');\n    _this._onDragStart = _this._buildHandler('onDragStart');\n    _this._onDrop = _this._buildHandler('onDrop');\n    _this._onInput = _this._buildHandler('onInput');\n    _this._onFocus = _this._buildHandler('onFocus');\n    _this._onKeyDown = _this._buildHandler('onKeyDown');\n    _this._onKeyPress = _this._buildHandler('onKeyPress');\n    _this._onKeyUp = _this._buildHandler('onKeyUp');\n    _this._onMouseDown = _this._buildHandler('onMouseDown');\n    _this._onMouseUp = _this._buildHandler('onMouseUp');\n    _this._onPaste = _this._buildHandler('onPaste');\n    _this._onSelect = _this._buildHandler('onSelect');\n\n    _this.getEditorKey = function () {\n      return _this._editorKey;\n    };\n\n    if (process.env.NODE_ENV !== \"production\") {\n      ['onDownArrow', 'onEscape', 'onLeftArrow', 'onRightArrow', 'onTab', 'onUpArrow'].forEach(function (propName) {\n        if (props.hasOwnProperty(propName)) {\n          // eslint-disable-next-line no-console\n          console.warn(\"Supplying an `\".concat(propName, \"` prop to `DraftEditor` has \") + 'been deprecated. If your handler needs access to the keyboard ' + 'event, supply a custom `keyBindingFn` prop that falls back to ' + 'the default one (eg. https://is.gd/wHKQ3W).');\n        }\n      });\n    } // See `restoreEditorDOM()`.\n\n\n    _this.state = {\n      contentsKey: 0\n    };\n    return _this;\n  }\n  /**\n   * Build a method that will pass the event to the specified handler method.\n   * This allows us to look up the correct handler function for the current\n   * editor mode, if any has been specified.\n   */\n\n\n  var _proto2 = DraftEditor.prototype;\n\n  _proto2._buildHandler = function _buildHandler(eventName) {\n    var _this2 = this;\n\n    // Wrap event handlers in `flushControlled`. In sync mode, this is\n    // effectively a no-op. In async mode, this ensures all updates scheduled\n    // inside the handler are flushed before React yields to the browser.\n    return function (e) {\n      if (!_this2.props.readOnly) {\n        var method = _this2._handler && _this2._handler[eventName];\n\n        if (method) {\n          if (flushControlled) {\n            flushControlled(function () {\n              return method(_this2, e);\n            });\n          } else {\n            method(_this2, e);\n          }\n        }\n      }\n    };\n  };\n\n  _proto2._showPlaceholder = function _showPlaceholder() {\n    return !!this.props.placeholder && !this.props.editorState.isInCompositionMode() && !this.props.editorState.getCurrentContent().hasText();\n  };\n\n  _proto2._renderPlaceholder = function _renderPlaceholder() {\n    if (this._showPlaceholder()) {\n      var placeHolderProps = {\n        text: nullthrows(this.props.placeholder),\n        editorState: this.props.editorState,\n        textAlignment: this.props.textAlignment,\n        accessibilityID: this._placeholderAccessibilityID\n      };\n      /* $FlowFixMe[incompatible-type] (>=0.112.0 site=www,mobile) This comment\n       * suppresses an error found when Flow v0.112 was deployed. To see the\n       * error delete this comment and run Flow. */\n\n      return React.createElement(DraftEditorPlaceholder, placeHolderProps);\n    }\n\n    return null;\n  }\n  /**\n   * returns ariaDescribedBy prop with '{{editor_id_placeholder}}' replaced with\n   * the DOM id of the placeholder (if it exists)\n   * @returns aria-describedby attribute value\n   */\n  ;\n\n  _proto2._renderARIADescribedBy = function _renderARIADescribedBy() {\n    var describedBy = this.props.ariaDescribedBy || '';\n    var placeholderID = this._showPlaceholder() ? this._placeholderAccessibilityID : '';\n    return describedBy.replace('{{editor_id_placeholder}}', placeholderID) || undefined;\n  };\n\n  _proto2.render = function render() {\n    var _this$props2 = this.props,\n        blockRenderMap = _this$props2.blockRenderMap,\n        blockRendererFn = _this$props2.blockRendererFn,\n        blockStyleFn = _this$props2.blockStyleFn,\n        customStyleFn = _this$props2.customStyleFn,\n        customStyleMap = _this$props2.customStyleMap,\n        editorState = _this$props2.editorState,\n        preventScroll = _this$props2.preventScroll,\n        readOnly = _this$props2.readOnly,\n        textAlignment = _this$props2.textAlignment,\n        textDirectionality = _this$props2.textDirectionality;\n    var rootClass = cx({\n      'DraftEditor/root': true,\n      'DraftEditor/alignLeft': textAlignment === 'left',\n      'DraftEditor/alignRight': textAlignment === 'right',\n      'DraftEditor/alignCenter': textAlignment === 'center'\n    });\n    var contentStyle = {\n      outline: 'none',\n      // fix parent-draggable Safari bug. #1326\n      userSelect: 'text',\n      WebkitUserSelect: 'text',\n      whiteSpace: 'pre-wrap',\n      wordWrap: 'break-word'\n    }; // The aria-expanded and aria-haspopup properties should only be rendered\n    // for a combobox.\n\n    /* $FlowFixMe[prop-missing] (>=0.68.0 site=www,mobile) This comment\n     * suppresses an error found when Flow v0.68 was deployed. To see the error\n     * delete this comment and run Flow. */\n\n    var ariaRole = this.props.role || 'textbox';\n    var ariaExpanded = ariaRole === 'combobox' ? !!this.props.ariaExpanded : null;\n    var editorContentsProps = {\n      blockRenderMap: blockRenderMap,\n      blockRendererFn: blockRendererFn,\n      blockStyleFn: blockStyleFn,\n      customStyleMap: _objectSpread({}, DefaultDraftInlineStyle, customStyleMap),\n      customStyleFn: customStyleFn,\n      editorKey: this._editorKey,\n      editorState: editorState,\n      preventScroll: preventScroll,\n      textDirectionality: textDirectionality\n    };\n    return React.createElement(\"div\", {\n      className: rootClass\n    }, this._renderPlaceholder(), React.createElement(\"div\", {\n      className: cx('DraftEditor/editorContainer'),\n      ref: this._handleEditorContainerRef\n    }, React.createElement(\"div\", {\n      \"aria-activedescendant\": readOnly ? null : this.props.ariaActiveDescendantID,\n      \"aria-autocomplete\": readOnly ? null : this.props.ariaAutoComplete,\n      \"aria-controls\": readOnly ? null : this.props.ariaControls,\n      \"aria-describedby\": this._renderARIADescribedBy(),\n      \"aria-expanded\": readOnly ? null : ariaExpanded,\n      \"aria-label\": this.props.ariaLabel,\n      \"aria-labelledby\": this.props.ariaLabelledBy,\n      \"aria-multiline\": this.props.ariaMultiline,\n      \"aria-owns\": readOnly ? null : this.props.ariaOwneeID,\n      autoCapitalize: this.props.autoCapitalize,\n      autoComplete: this.props.autoComplete,\n      autoCorrect: this.props.autoCorrect,\n      className: cx({\n        // Chrome's built-in translation feature mutates the DOM in ways\n        // that Draft doesn't expect (ex: adding <font> tags inside\n        // DraftEditorLeaf spans) and causes problems. We add notranslate\n        // here which makes its autotranslation skip over this subtree.\n        notranslate: !readOnly,\n        'public/DraftEditor/content': true\n      }),\n      contentEditable: !readOnly,\n      \"data-testid\": this.props.webDriverTestID,\n      onBeforeInput: this._onBeforeInput,\n      onBlur: this._onBlur,\n      onCompositionEnd: this._onCompositionEnd,\n      onCompositionStart: this._onCompositionStart,\n      onCopy: this._onCopy,\n      onCut: this._onCut,\n      onDragEnd: this._onDragEnd,\n      onDragEnter: this.onDragEnter,\n      onDragLeave: this.onDragLeave,\n      onDragOver: this._onDragOver,\n      onDragStart: this._onDragStart,\n      onDrop: this._onDrop,\n      onFocus: this._onFocus,\n      onInput: this._onInput,\n      onKeyDown: this._onKeyDown,\n      onKeyPress: this._onKeyPress,\n      onKeyUp: this._onKeyUp,\n      onMouseUp: this._onMouseUp,\n      onPaste: this._onPaste,\n      onSelect: this._onSelect,\n      ref: this.props.editorRef,\n      role: readOnly ? null : ariaRole,\n      spellCheck: allowSpellCheck && this.props.spellCheck,\n      style: contentStyle,\n      suppressContentEditableWarning: true,\n      tabIndex: this.props.tabIndex\n    }, React.createElement(UpdateDraftEditorFlags, {\n      editor: this,\n      editorState: editorState\n    }), React.createElement(DraftEditorContents, _extends({}, editorContentsProps, {\n      key: 'contents' + this.state.contentsKey\n    })))));\n  };\n\n  _proto2.componentDidMount = function componentDidMount() {\n    this._blockSelectEvents = false;\n\n    if (!didInitODS && gkx('draft_ods_enabled')) {\n      didInitODS = true;\n      DraftEffects.initODS();\n    }\n\n    this.setMode('edit');\n    /**\n     * IE has a hardcoded \"feature\" that attempts to convert link text into\n     * anchors in contentEditable DOM. This breaks the editor's expectations of\n     * the DOM, and control is lost. Disable it to make IE behave.\n     * See: http://blogs.msdn.com/b/ieinternals/archive/2010/09/15/\n     * ie9-beta-minor-change-list.aspx\n     */\n\n    if (isIE) {\n      // editor can be null after mounting\n      // https://stackoverflow.com/questions/44074747/componentdidmount-called-before-ref-callback\n      if (!this.editor) {\n        global.execCommand('AutoUrlDetect', false, false);\n      } else {\n        this.editor.ownerDocument.execCommand('AutoUrlDetect', false, false);\n      }\n    }\n  };\n\n  _proto2.componentDidUpdate = function componentDidUpdate() {\n    this._blockSelectEvents = false;\n    this._latestEditorState = this.props.editorState;\n    this._latestCommittedEditorState = this.props.editorState;\n  }\n  /**\n   * Used via `this.focus()`.\n   *\n   * Force focus back onto the editor node.\n   *\n   * We attempt to preserve scroll position when focusing. You can also pass\n   * a specified scroll position (for cases like `cut` behavior where it should\n   * be restored to a known position).\n   */\n  ;\n\n  return DraftEditor;\n}(React.Component);\n\n_defineProperty(DraftEditor, \"defaultProps\", {\n  ariaDescribedBy: '{{editor_id_placeholder}}',\n  blockRenderMap: DefaultDraftBlockRenderMap,\n  blockRendererFn: function blockRendererFn() {\n    return null;\n  },\n  blockStyleFn: function blockStyleFn() {\n    return '';\n  },\n  keyBindingFn: getDefaultKeyBinding,\n  readOnly: false,\n  spellCheck: false,\n  stripPastedStyles: false\n});\n\nmodule.exports = DraftEditor;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DOMObserver = require(\"./DOMObserver\");\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar Keys = require(\"fbjs/lib/Keys\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar editOnSelect = require(\"./editOnSelect\");\n\nvar getContentEditableContainer = require(\"./getContentEditableContainer\");\n\nvar getDraftEditorSelection = require(\"./getDraftEditorSelection\");\n\nvar getEntityKeyForSelection = require(\"./getEntityKeyForSelection\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar isIE = UserAgent.isBrowser('IE');\n/**\n * Millisecond delay to allow `compositionstart` to fire again upon\n * `compositionend`.\n *\n * This is used for Korean input to ensure that typing can continue without\n * the editor trying to render too quickly. More specifically, Safari 7.1+\n * triggers `compositionstart` a little slower than Chrome/FF, which\n * leads to composed characters being resolved and re-render occurring\n * sooner than we want.\n */\n\nvar RESOLVE_DELAY = 20;\n/**\n * A handful of variables used to track the current composition and its\n * resolution status. These exist at the module level because it is not\n * possible to have compositions occurring in multiple editors simultaneously,\n * and it simplifies state management with respect to the DraftEditor component.\n */\n\nvar resolved = false;\nvar stillComposing = false;\nvar domObserver = null;\n\nfunction startDOMObserver(editor) {\n  if (!domObserver) {\n    domObserver = new DOMObserver(getContentEditableContainer(editor));\n    domObserver.start();\n  }\n}\n\nvar DraftEditorCompositionHandler = {\n  /**\n   * A `compositionstart` event has fired while we're still in composition\n   * mode. Continue the current composition session to prevent a re-render.\n   */\n  onCompositionStart: function onCompositionStart(editor) {\n    stillComposing = true;\n    startDOMObserver(editor);\n  },\n\n  /**\n   * Attempt to end the current composition session.\n   *\n   * Defer handling because browser will still insert the chars into active\n   * element after `compositionend`. If a `compositionstart` event fires\n   * before `resolveComposition` executes, our composition session will\n   * continue.\n   *\n   * The `resolved` flag is useful because certain IME interfaces fire the\n   * `compositionend` event multiple times, thus queueing up multiple attempts\n   * at handling the composition. Since handling the same composition event\n   * twice could break the DOM, we only use the first event. Example: Arabic\n   * Google Input Tools on Windows 8.1 fires `compositionend` three times.\n   */\n  onCompositionEnd: function onCompositionEnd(editor) {\n    resolved = false;\n    stillComposing = false;\n    setTimeout(function () {\n      if (!resolved) {\n        DraftEditorCompositionHandler.resolveComposition(editor);\n      }\n    }, RESOLVE_DELAY);\n  },\n  onSelect: editOnSelect,\n\n  /**\n   * In Safari, keydown events may fire when committing compositions. If\n   * the arrow keys are used to commit, prevent default so that the cursor\n   * doesn't move, otherwise it will jump back noticeably on re-render.\n   */\n  onKeyDown: function onKeyDown(editor, e) {\n    if (!stillComposing) {\n      // If a keydown event is received after compositionend but before the\n      // 20ms timer expires (ex: type option-E then backspace, or type A then\n      // backspace in 2-Set Korean), we should immediately resolve the\n      // composition and reinterpret the key press in edit mode.\n      DraftEditorCompositionHandler.resolveComposition(editor);\n\n      editor._onKeyDown(e);\n\n      return;\n    }\n\n    if (e.which === Keys.RIGHT || e.which === Keys.LEFT) {\n      e.preventDefault();\n    }\n  },\n\n  /**\n   * Keypress events may fire when committing compositions. In Firefox,\n   * pressing RETURN commits the composition and inserts extra newline\n   * characters that we do not want. `preventDefault` allows the composition\n   * to be committed while preventing the extra characters.\n   */\n  onKeyPress: function onKeyPress(_editor, e) {\n    if (e.which === Keys.RETURN) {\n      e.preventDefault();\n    }\n  },\n\n  /**\n   * Attempt to insert composed characters into the document.\n   *\n   * If we are still in a composition session, do nothing. Otherwise, insert\n   * the characters into the document and terminate the composition session.\n   *\n   * If no characters were composed -- for instance, the user\n   * deleted all composed characters and committed nothing new --\n   * force a re-render. We also re-render when the composition occurs\n   * at the beginning of a leaf, to ensure that if the browser has\n   * created a new text node for the composition, we will discard it.\n   *\n   * Resetting innerHTML will move focus to the beginning of the editor,\n   * so we update to force it back to the correct place.\n   */\n  resolveComposition: function resolveComposition(editor) {\n    if (stillComposing) {\n      return;\n    }\n\n    var mutations = nullthrows(domObserver).stopAndFlushMutations();\n    domObserver = null;\n    resolved = true;\n    var editorState = EditorState.set(editor._latestEditorState, {\n      inCompositionMode: false\n    });\n    editor.exitCurrentMode();\n\n    if (!mutations.size) {\n      editor.update(editorState);\n      return;\n    } // TODO, check if Facebook still needs this flag or if it could be removed.\n    // Since there can be multiple mutations providing a `composedChars` doesn't\n    // apply well on this new model.\n    // if (\n    //   gkx('draft_handlebeforeinput_composed_text') &&\n    //   editor.props.handleBeforeInput &&\n    //   isEventHandled(\n    //     editor.props.handleBeforeInput(\n    //       composedChars,\n    //       editorState,\n    //       event.timeStamp,\n    //     ),\n    //   )\n    // ) {\n    //   return;\n    // }\n\n\n    var contentState = editorState.getCurrentContent();\n    mutations.forEach(function (composedChars, offsetKey) {\n      var _DraftOffsetKey$decod = DraftOffsetKey.decode(offsetKey),\n          blockKey = _DraftOffsetKey$decod.blockKey,\n          decoratorKey = _DraftOffsetKey$decod.decoratorKey,\n          leafKey = _DraftOffsetKey$decod.leafKey;\n\n      var _editorState$getBlock = editorState.getBlockTree(blockKey).getIn([decoratorKey, 'leaves', leafKey]),\n          start = _editorState$getBlock.start,\n          end = _editorState$getBlock.end;\n\n      var replacementRange = editorState.getSelection().merge({\n        anchorKey: blockKey,\n        focusKey: blockKey,\n        anchorOffset: start,\n        focusOffset: end,\n        isBackward: false\n      });\n      var entityKey = getEntityKeyForSelection(contentState, replacementRange);\n      var currentStyle = contentState.getBlockForKey(blockKey).getInlineStyleAt(start);\n      contentState = DraftModifier.replaceText(contentState, replacementRange, composedChars, currentStyle, entityKey); // We need to update the editorState so the leaf node ranges are properly\n      // updated and multiple mutations are correctly applied.\n\n      editorState = EditorState.set(editorState, {\n        currentContent: contentState\n      });\n    }); // When we apply the text changes to the ContentState, the selection always\n    // goes to the end of the field, but it should just stay where it is\n    // after compositionEnd.\n\n    var documentSelection = getDraftEditorSelection(editorState, getContentEditableContainer(editor));\n    var compositionEndSelectionState = documentSelection.selectionState;\n    editor.restoreEditorDOM(); // See:\n    // - https://github.com/facebook/draft-js/issues/2093\n    // - https://github.com/facebook/draft-js/pull/2094\n    // Apply this fix only in IE for now. We can test it in\n    // other browsers in the future to ensure no regressions\n\n    var editorStateWithUpdatedSelection = isIE ? EditorState.forceSelection(editorState, compositionEndSelectionState) : EditorState.acceptSelection(editorState, compositionEndSelectionState);\n    editor.update(EditorState.push(editorStateWithUpdatedSelection, contentState, 'insert-characters'));\n  }\n};\nmodule.exports = DraftEditorCompositionHandler;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar findAncestorOffsetKey = require(\"./findAncestorOffsetKey\");\n\nvar getWindowForNode = require(\"./getWindowForNode\");\n\nvar Immutable = require(\"immutable\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar Map = Immutable.Map;\n// Heavily based on Prosemirror's DOMObserver https://github.com/ProseMirror/prosemirror-view/blob/master/src/domobserver.js\nvar DOM_OBSERVER_OPTIONS = {\n  subtree: true,\n  characterData: true,\n  childList: true,\n  characterDataOldValue: false,\n  attributes: false\n}; // IE11 has very broken mutation observers, so we also listen to DOMCharacterDataModified\n\nvar USE_CHAR_DATA = UserAgent.isBrowser('IE <= 11');\n\nvar DOMObserver = /*#__PURE__*/function () {\n  function DOMObserver(container) {\n    var _this = this;\n\n    _defineProperty(this, \"observer\", void 0);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"mutations\", void 0);\n\n    _defineProperty(this, \"onCharData\", void 0);\n\n    this.container = container;\n    this.mutations = Map();\n    var containerWindow = getWindowForNode(container);\n\n    if (containerWindow.MutationObserver && !USE_CHAR_DATA) {\n      this.observer = new containerWindow.MutationObserver(function (mutations) {\n        return _this.registerMutations(mutations);\n      });\n    } else {\n      this.onCharData = function (e) {\n        !(e.target instanceof Node) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected target to be an instance of Node') : invariant(false) : void 0;\n\n        _this.registerMutation({\n          type: 'characterData',\n          target: e.target\n        });\n      };\n    }\n  }\n\n  var _proto = DOMObserver.prototype;\n\n  _proto.start = function start() {\n    if (this.observer) {\n      this.observer.observe(this.container, DOM_OBSERVER_OPTIONS);\n    } else {\n      /* $FlowFixMe[incompatible-call] (>=0.68.0 site=www,mobile) This event\n       * type is not defined by Flow's standard library */\n      this.container.addEventListener('DOMCharacterDataModified', this.onCharData);\n    }\n  };\n\n  _proto.stopAndFlushMutations = function stopAndFlushMutations() {\n    var observer = this.observer;\n\n    if (observer) {\n      this.registerMutations(observer.takeRecords());\n      observer.disconnect();\n    } else {\n      /* $FlowFixMe[incompatible-call] (>=0.68.0 site=www,mobile) This event\n       * type is not defined by Flow's standard library */\n      this.container.removeEventListener('DOMCharacterDataModified', this.onCharData);\n    }\n\n    var mutations = this.mutations;\n    this.mutations = Map();\n    return mutations;\n  };\n\n  _proto.registerMutations = function registerMutations(mutations) {\n    for (var i = 0; i < mutations.length; i++) {\n      this.registerMutation(mutations[i]);\n    }\n  };\n\n  _proto.getMutationTextContent = function getMutationTextContent(mutation) {\n    var type = mutation.type,\n        target = mutation.target,\n        removedNodes = mutation.removedNodes;\n\n    if (type === 'characterData') {\n      // When `textContent` is '', there is a race condition that makes\n      // getting the offsetKey from the target not possible.\n      // These events are also followed by a `childList`, which is the one\n      // we are able to retrieve the offsetKey and apply the '' text.\n      if (target.textContent !== '') {\n        // IE 11 considers the enter keypress that concludes the composition\n        // as an input char. This strips that newline character so the draft\n        // state does not receive spurious newlines.\n        if (USE_CHAR_DATA) {\n          return target.textContent.replace('\\n', '');\n        }\n\n        return target.textContent;\n      }\n    } else if (type === 'childList') {\n      if (removedNodes && removedNodes.length) {\n        // `characterData` events won't happen or are ignored when\n        // removing the last character of a leaf node, what happens\n        // instead is a `childList` event with a `removedNodes` array.\n        // For this case the textContent should be '' and\n        // `DraftModifier.replaceText` will make sure the content is\n        // updated properly.\n        return '';\n      } else if (target.textContent !== '') {\n        // Typing Chinese in an empty block in MS Edge results in a\n        // `childList` event with non-empty textContent.\n        // See https://github.com/facebook/draft-js/issues/2082\n        return target.textContent;\n      }\n    }\n\n    return null;\n  };\n\n  _proto.registerMutation = function registerMutation(mutation) {\n    var textContent = this.getMutationTextContent(mutation);\n\n    if (textContent != null) {\n      var offsetKey = nullthrows(findAncestorOffsetKey(mutation.target));\n      this.mutations = this.mutations.set(offsetKey, textContent);\n    }\n  };\n\n  return DOMObserver;\n}();\n\nmodule.exports = DOMObserver;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/**\n * Usage note:\n * This module makes a best effort to export the same data we would internally.\n * At Facebook we use a server-generated module that does the parsing and\n * exports the data for the client to use. We can't rely on a server-side\n * implementation in open source so instead we make use of an open source\n * library to do the heavy lifting and then make some adjustments as necessary.\n * It's likely there will be some differences. Some we can smooth over.\n * Others are going to be harder.\n */\n'use strict';\n\nvar UAParser = require(\"ua-parser-js\");\n\nvar UNKNOWN = 'Unknown';\nvar PLATFORM_MAP = {\n  'Mac OS': 'Mac OS X'\n};\n/**\n * Convert from UAParser platform name to what we expect.\n */\n\nfunction convertPlatformName(name) {\n  return PLATFORM_MAP[name] || name;\n}\n/**\n * Get the version number in parts. This is very naive. We actually get major\n * version as a part of UAParser already, which is generally good enough, but\n * let's get the minor just in case.\n */\n\n\nfunction getBrowserVersion(version) {\n  if (!version) {\n    return {\n      major: '',\n      minor: ''\n    };\n  }\n\n  var parts = version.split('.');\n  return {\n    major: parts[0],\n    minor: parts[1]\n  };\n}\n/**\n * Get the UA data fom UAParser and then convert it to the format we're\n * expecting for our APIS.\n */\n\n\nvar parser = new UAParser();\nvar results = parser.getResult(); // Do some conversion first.\n\nvar browserVersionData = getBrowserVersion(results.browser.version);\nvar uaData = {\n  browserArchitecture: results.cpu.architecture || UNKNOWN,\n  browserFullVersion: results.browser.version || UNKNOWN,\n  browserMinorVersion: browserVersionData.minor || UNKNOWN,\n  browserName: results.browser.name || UNKNOWN,\n  browserVersion: results.browser.major || UNKNOWN,\n  deviceName: results.device.model || UNKNOWN,\n  engineName: results.engine.name || UNKNOWN,\n  engineVersion: results.engine.version || UNKNOWN,\n  platformArchitecture: results.cpu.architecture || UNKNOWN,\n  platformName: convertPlatformName(results.os.name) || UNKNOWN,\n  platformVersion: results.os.version || UNKNOWN,\n  platformFullVersion: results.os.version || UNKNOWN\n};\nmodule.exports = uaData;","/*!\n * UAParser.js v0.7.22\n * Lightweight JavaScript-based User-Agent string parser\n * https://github.com/faisalman/ua-parser-js\n *\n * Copyright © 2012-2019 Faisal Salman <f@faisalman.com>\n * Licensed under MIT License\n */\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '0.7.22',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major', // deprecated\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded';\n\n\n    ///////////\n    // Helper\n    //////////\n\n\n    var util = {\n        extend : function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        has : function (str1, str2) {\n          if (typeof str1 === \"string\") {\n            return str2.toLowerCase().indexOf(str1.toLowerCase()) !== -1;\n          } else {\n            return false;\n          }\n        },\n        lowerize : function (str) {\n            return str.toLowerCase();\n        },\n        major : function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g,'').split(\".\")[0] : undefined;\n        },\n        trim : function (str) {\n          return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n        }\n    };\n\n\n    ///////////////\n    // Map helper\n    //////////////\n\n\n    var mapper = {\n\n        rgx : function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length == 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length == 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length == 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        str : function (str, map) {\n\n            for (var i in map) {\n                // check if array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (util.has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (util.has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n        }\n    };\n\n\n    ///////////////\n    // String map\n    //////////////\n\n\n    var maps = {\n\n        browser : {\n            oldsafari : {\n                version : {\n                    '1.0'   : '/8',\n                    '1.2'   : '/1',\n                    '1.3'   : '/3',\n                    '2.0'   : '/412',\n                    '2.0.2' : '/416',\n                    '2.0.3' : '/417',\n                    '2.0.4' : '/419',\n                    '?'     : '/'\n                }\n            }\n        },\n\n        device : {\n            amazon : {\n                model : {\n                    'Fire Phone' : ['SD', 'KF']\n                }\n            },\n            sprint : {\n                model : {\n                    'Evo Shift 4G' : '7373KT'\n                },\n                vendor : {\n                    'HTC'       : 'APA',\n                    'Sprint'    : 'Sprint'\n                }\n            }\n        },\n\n        os : {\n            windows : {\n                version : {\n                    'ME'        : '4.90',\n                    'NT 3.11'   : 'NT3.51',\n                    'NT 4.0'    : 'NT4.0',\n                    '2000'      : 'NT 5.0',\n                    'XP'        : ['NT 5.1', 'NT 5.2'],\n                    'Vista'     : 'NT 6.0',\n                    '7'         : 'NT 6.1',\n                    '8'         : 'NT 6.2',\n                    '8.1'       : 'NT 6.3',\n                    '10'        : ['NT 6.4', 'NT 10.0'],\n                    'RT'        : 'ARM'\n                }\n            }\n        }\n    };\n\n\n    //////////////\n    // Regex map\n    /////////////\n\n\n    var regexes = {\n\n        browser : [[\n\n            // Presto based\n            /(opera\\smini)\\/([\\w\\.-]+)/i,                                       // Opera Mini\n            /(opera\\s[mobiletab]+).+version\\/([\\w\\.-]+)/i,                      // Opera Mobi/Tablet\n            /(opera).+version\\/([\\w\\.]+)/i,                                     // Opera > 9.80\n            /(opera)[\\/\\s]+([\\w\\.]+)/i                                          // Opera < 9.80\n            ], [NAME, VERSION], [\n\n            /(opios)[\\/\\s]+([\\w\\.]+)/i                                          // Opera mini on iphone >= 8.0\n            ], [[NAME, 'Opera Mini'], VERSION], [\n\n            /\\s(opr)\\/([\\w\\.]+)/i                                               // Opera Webkit\n            ], [[NAME, 'Opera'], VERSION], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?([\\w\\.]*)/i,\n                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant\\s|iemobile|slim)(?:browser)?[\\/\\s]?([\\w\\.]*)/i,\n                                                                                // Avant/IEMobile/SlimBrowser\n            /(bidubrowser|baidubrowser)[\\/\\s]?([\\w\\.]+)/i,                      // Baidu Browser\n            /(?:ms|\\()(ie)\\s([\\w\\.]+)/i,                                        // Internet Explorer\n\n            // Webkit/KHTML based\n            /(rekonq)\\/([\\w\\.]*)/i,                                             // Rekonq\n            /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\\/([\\w\\.-]+)/i\n                                                                                // Chromium/Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            ], [NAME, VERSION], [\n\n            /(konqueror)\\/([\\w\\.]+)/i                                           // Konqueror\n            ], [[NAME, 'Konqueror'], VERSION], [\n\n            /(trident).+rv[:\\s]([\\w\\.]+).+like\\sgecko/i                         // IE11\n            ], [[NAME, 'IE'], VERSION], [\n\n            /(edge|edgios|edga|edg)\\/((\\d+)?[\\w\\.]+)/i                          // Microsoft Edge\n            ], [[NAME, 'Edge'], VERSION], [\n\n            /(yabrowser)\\/([\\w\\.]+)/i                                           // Yandex\n            ], [[NAME, 'Yandex'], VERSION], [\n\n            /(Avast)\\/([\\w\\.]+)/i                                               // Avast Secure Browser\n            ], [[NAME, 'Avast Secure Browser'], VERSION], [\n\n            /(AVG)\\/([\\w\\.]+)/i                                                 // AVG Secure Browser\n            ], [[NAME, 'AVG Secure Browser'], VERSION], [\n\n            /(puffin)\\/([\\w\\.]+)/i                                              // Puffin\n            ], [[NAME, 'Puffin'], VERSION], [\n\n            /(focus)\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [[NAME, 'Firefox Focus'], VERSION], [\n\n            /(opt)\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [[NAME, 'Opera Touch'], VERSION], [\n\n            /((?:[\\s\\/])uc?\\s?browser|(?:juc.+)ucweb)[\\/\\s]?([\\w\\.]+)/i         // UCBrowser\n            ], [[NAME, 'UCBrowser'], VERSION], [\n\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n\n            /(windowswechat qbcore)\\/([\\w\\.]+)/i                                // WeChat Desktop for Windows Built-in Browser\n            ], [[NAME, 'WeChat(Win) Desktop'], VERSION], [\n\n            /(micromessenger)\\/([\\w\\.]+)/i                                      // WeChat\n            ], [[NAME, 'WeChat'], VERSION], [\n\n            /(brave)\\/([\\w\\.]+)/i                                               // Brave browser\n            ], [[NAME, 'Brave'], VERSION], [\n\n            /(qqbrowserlite)\\/([\\w\\.]+)/i                                       // QQBrowserLite\n            ], [NAME, VERSION], [\n\n            /(QQ)\\/([\\d\\.]+)/i                                                  // QQ, aka ShouQ\n            ], [NAME, VERSION], [\n\n            /m?(qqbrowser)[\\/\\s]?([\\w\\.]+)/i                                    // QQBrowser\n            ], [NAME, VERSION], [\n\n            /(baiduboxapp)[\\/\\s]?([\\w\\.]+)/i                                    // Baidu App\n            ], [NAME, VERSION], [\n\n            /(2345Explorer)[\\/\\s]?([\\w\\.]+)/i                                   // 2345 Browser\n            ], [NAME, VERSION], [\n\n            /(MetaSr)[\\/\\s]?([\\w\\.]+)/i                                         // SouGouBrowser\n            ], [NAME], [\n\n            /(LBBROWSER)/i                                                      // LieBao Browser\n            ], [NAME], [\n\n            /xiaomi\\/miuibrowser\\/([\\w\\.]+)/i                                   // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI Browser']], [\n\n            /;fbav\\/([\\w\\.]+);/i                                                // Facebook App for iOS & Android\n            ], [VERSION, [NAME, 'Facebook']], [\n\n            /safari\\s(line)\\/([\\w\\.]+)/i,                                       // Line App for iOS\n            /android.+(line)\\/([\\w\\.]+)\\/iab/i                                  // Line App for Android\n            ], [NAME, VERSION], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)|\\s)/i                                 // Chrome Headless\n            ], [VERSION, [NAME, 'Chrome Headless']], [\n\n            /\\swv\\).+(chrome)\\/([\\w\\.]+)/i                                      // Chrome WebView\n            ], [[NAME, /(.+)/, '$1 WebView'], VERSION], [\n\n            /((?:oculus|samsung)browser)\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+(?:g|us))(.+)/, '$1 $2'], VERSION], [                // Oculus / Samsung Browser\n\n            /android.+version\\/([\\w\\.]+)\\s+(?:mobile\\s?safari|safari)*/i        // Android Browser\n            ], [VERSION, [NAME, 'Android Browser']], [\n\n            /(sailfishbrowser)\\/([\\w\\.]+)/i                                     // Sailfish Browser\n            ], [[NAME, 'Sailfish Browser'], VERSION], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?([\\w\\.]+)/i\n                                                                                // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /(dolfin)\\/([\\w\\.]+)/i                                              // Dolphin\n            ], [[NAME, 'Dolphin'], VERSION], [\n\n            /(qihu|qhbrowser|qihoobrowser|360browser)/i                         // 360\n            ], [[NAME, '360 Browser']], [\n\n            /((?:android.+)crmo|crios)\\/([\\w\\.]+)/i                             // Chrome for Android/iOS\n            ], [[NAME, 'Chrome'], VERSION], [\n\n            /(coast)\\/([\\w\\.]+)/i                                               // Opera Coast\n            ], [[NAME, 'Opera Coast'], VERSION], [\n\n            /fxios\\/([\\w\\.-]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, 'Firefox']], [\n\n            /version\\/([\\w\\.]+).+?mobile\\/\\w+\\s(safari)/i                       // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n\n            /version\\/([\\w\\.]+).+?(mobile\\s?safari|safari)/i                    // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n\n            /webkit.+?(gsa)\\/([\\w\\.]+).+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i  // Google Search Appliance on iOS\n            ], [[NAME, 'GSA'], VERSION], [\n\n            /webkit.+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i                     // Safari < 3.0\n            ], [NAME, [VERSION, mapper.str, maps.browser.oldsafari.version]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape)\\/([\\w\\.-]+)/i                                 // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n            /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([\\w\\.-]+)$/i,\n\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(mozilla)\\/([\\w\\.]+).+rv\\:.+gecko\\/\\d+/i,                          // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\\/\\s]?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir\n            /(links)\\s\\(([\\w\\.]+)/i,                                            // Links\n            /(gobrowser)\\/?([\\w\\.]*)/i,                                         // GoBrowser\n            /(ice\\s?browser)\\/v?([\\w\\._]+)/i,                                   // ICE Browser\n            /(mosaic)[\\/\\s]([\\w\\.]+)/i                                          // Mosaic\n            ], [NAME, VERSION]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\\)]/i                     // AMD64\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, util.lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows\\s(ce|mobile);\\sppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?:\\smac|;|\\))/i                           // PowerPC\n            ], [[ARCHITECTURE, /ower/, '', util.lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|arm(?:64|(?=v\\d+[;l]))|(?=atmel\\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, util.lowerize]]\n        ],\n\n        device : [[\n\n            /\\((ipad|playbook);[\\w\\s\\),;-]+(rim|apple)/i                        // iPad/PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/                                  // iPad\n            ], [MODEL, [VENDOR, 'Apple'], [TYPE, TABLET]], [\n\n            /(apple\\s{0,1}tv)/i                                                 // Apple TV\n            ], [[MODEL, 'Apple TV'], [VENDOR, 'Apple'], [TYPE, SMARTTV]], [\n\n            /(archos)\\s(gamepad2?)/i,                                           // Archos\n            /(hp).+(touchpad)/i,                                                // HP TouchPad\n            /(hp).+(tablet)/i,                                                  // HP Tablet\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /\\s(nook)[\\w\\s]+build\\/(\\w+)/i,                                     // Nook\n            /(dell)\\s(strea[kpr\\s\\d]*[\\dko])/i                                  // Dell Streak\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(kf[A-z]+)\\sbuild\\/.+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [\n            /(sd|kf)[0349hijorstuw]+\\sbuild\\/.+silk\\//i                         // Fire Phone\n            ], [[MODEL, mapper.str, maps.device.amazon.model], [VENDOR, 'Amazon'], [TYPE, MOBILE]], [\n            /android.+aft([bms])\\sbuild/i                                       // Fire TV\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, SMARTTV]], [\n\n            /\\((ip[honed|\\s\\w*]+);.+(apple)/i                                   // iPod/iPhone\n            ], [MODEL, VENDOR, [TYPE, MOBILE]], [\n            /\\((ip[honed|\\s\\w*]+);/i                                            // iPod/iPhone\n            ], [MODEL, [VENDOR, 'Apple'], [TYPE, MOBILE]], [\n\n            /(blackberry)[\\s-]?(\\w+)/i,                                         // BlackBerry\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\\s_-]?([\\w-]*)/i,\n                                                                                // BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp)\\s([\\w\\s]+\\w)/i,                                               // HP iPAQ\n            /(asus)-?(\\w+)/i                                                    // Asus\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /\\(bb10;\\s(\\w+)/i                                                   // BlackBerry 10\n            ], [MODEL, [VENDOR, 'BlackBerry'], [TYPE, MOBILE]], [\n                                                                                // Asus Tablets\n            /android.+(transfo[prime\\s]{4,10}\\s\\w+|eeepc|slider\\s\\w+|nexus 7|padfone|p00c)/i\n            ], [MODEL, [VENDOR, 'Asus'], [TYPE, TABLET]], [\n\n            /(sony)\\s(tablet\\s[ps])\\sbuild\\//i,                                  // Sony\n            /(sony)?(?:sgp.+)\\sbuild\\//i\n            ], [[VENDOR, 'Sony'], [MODEL, 'Xperia Tablet'], [TYPE, TABLET]], [\n            /android.+\\s([c-g]\\d{4}|so[-l]\\w+)(?=\\sbuild\\/|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, 'Sony'], [TYPE, MOBILE]], [\n\n            /\\s(ouya)\\s/i,                                                      // Ouya\n            /(nintendo)\\s([wids3u]+)/i                                          // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n\n            /android.+;\\s(shield)\\sbuild/i                                      // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n\n            /(playstation\\s[34portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, 'Sony'], [TYPE, CONSOLE]], [\n\n            /(sprint\\s(\\w+))/i                                                  // Sprint Phones\n            ], [[VENDOR, mapper.str, maps.device.sprint.vendor], [MODEL, mapper.str, maps.device.sprint.model], [TYPE, MOBILE]], [\n\n            /(htc)[;_\\s-]+([\\w\\s]+(?=\\)|\\sbuild)|\\w+)/i,                        // HTC\n            /(zte)-(\\w*)/i,                                                     // ZTE\n            /(alcatel|geeksphone|nexian|panasonic|(?=;\\s)sony)[_\\s-]?([\\w-]*)/i\n                                                                                // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            /(nexus\\s9)/i                                                       // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n\n            /d\\/huawei([\\w\\s-]+)[;\\)]/i,\n            /(nexus\\s6p|vog-l29|ane-lx1|eml-l29|ele-l29)/i                              // Huawei\n            ], [MODEL, [VENDOR, 'Huawei'], [TYPE, MOBILE]], [\n\n            /android.+(bah2?-a?[lw]\\d{2})/i                                     // Huawei MediaPad\n            ], [MODEL, [VENDOR, 'Huawei'], [TYPE, TABLET]], [\n\n            /(microsoft);\\s(lumia[\\s\\w]+)/i                                     // Microsoft Lumia\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /[\\s\\(;](xbox(?:\\sone)?)[\\s\\);]/i                                   // Microsoft Xbox\n            ], [MODEL, [VENDOR, 'Microsoft'], [TYPE, CONSOLE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, 'Microsoft'], [TYPE, MOBILE]], [\n\n                                                                                // Motorola\n            /\\s(milestone|droid(?:[2-4x]|\\s(?:bionic|x2|pro|razr))?:?(\\s4g)?)[\\w\\s]+build\\//i,\n            /mot[\\s-]?(\\w*)/i,\n            /(XT\\d{3,4}) build\\//i,\n            /(nexus\\s6)/i\n            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, MOBILE]], [\n            /android.+\\s(mz60\\d|xoom[\\s2]{0,2})\\sbuild\\//i\n            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, TABLET]], [\n\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+\\s+\\([\\w\\s]*;\\s*(\\w[^;]*);([^;]*)/i            // HbbTV devices\n            ], [[VENDOR, util.trim], [MODEL, util.trim], [TYPE, SMARTTV]], [\n\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, 'Samsung'], [TYPE, SMARTTV]], [\n\n            /\\(dtv[\\);].+(aquos)/i                                              // Sharp\n            ], [MODEL, [VENDOR, 'Sharp'], [TYPE, SMARTTV]], [\n\n            /android.+((sch-i[89]0\\d|shw-m380s|gt-p\\d{4}|gt-n\\d+|sgh-t8[56]9|nexus 10))/i,\n            /((SM-T\\w+))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, TABLET]], [                  // Samsung\n            /smart-tv.+(samsung)/i\n            ], [VENDOR, [TYPE, SMARTTV], MODEL], [\n            /((s[cgp]h-\\w+|gt-\\w+|galaxy\\snexus|sm-\\w[\\w\\d]+))/i,\n            /(sam[sung]*)[\\s-]*(\\w+-?[\\w-]*)/i,\n            /sec-((sgh\\w+))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, MOBILE]], [\n\n            /sie-(\\w*)/i                                                        // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n\n            /(maemo|nokia).*(n900|lumia\\s\\d+)/i,                                // Nokia\n            /(nokia)[\\s_-]?([\\w-]*)/i\n            ], [[VENDOR, 'Nokia'], MODEL, [TYPE, MOBILE]], [\n\n            /android[x\\d\\.\\s;]+\\s([ab][1-7]\\-?[0178a]\\d\\d?)/i                   // Acer\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            /android.+([vl]k\\-?\\d{3})\\s+build/i                                 // LG Tablet\n            ], [MODEL, [VENDOR, 'LG'], [TYPE, TABLET]], [\n            /android\\s3\\.[\\s\\w;-]{10}(lg?)-([06cv9]{3,4})/i                     // LG Tablet\n            ], [[VENDOR, 'LG'], MODEL, [TYPE, TABLET]], [\n            /(lg) netcast\\.tv/i                                                 // LG SmartTV\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /(nexus\\s[45])/i,                                                   // LG\n            /lg[e;\\s\\/-]+(\\w*)/i,\n            /android.+lg(\\-?[\\d\\w]+)\\s+build/i\n            ], [MODEL, [VENDOR, 'LG'], [TYPE, MOBILE]], [\n\n            /(lenovo)\\s?(s(?:5000|6000)(?:[\\w-]+)|tab(?:[\\s\\w]+))/i             // Lenovo tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n            /android.+(ideatab[a-z0-9\\-\\s]+)/i                                  // Lenovo\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n            /(lenovo)[_\\s-]?([\\w-]+)/i\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /linux;.+((jolla));/i                                               // Jolla\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /((pebble))app\\/[\\d\\.]+\\s/i                                         // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n\n            /android.+;\\s(oppo)\\s?([\\w\\s]+)\\sbuild/i                            // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, 'Chromecast'], [VENDOR, 'Google'], [TYPE, SMARTTV]], [\n\n            /android.+;\\s(glass)\\s\\d/i                                          // Google Glass\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, WEARABLE]], [\n\n            /android.+;\\s(pixel c)[\\s)]/i                                       // Google Pixel C\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, TABLET]], [\n\n            /android.+;\\s(pixel( [23])?( xl)?)[\\s)]/i                              // Google Pixel\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, MOBILE]], [\n\n            /android.+;\\s(\\w+)\\s+build\\/hm\\1/i,                                 // Xiaomi Hongmi 'numeric' models\n            /android.+(hm[\\s\\-_]*note?[\\s_]*(?:\\d\\w)?)\\s+build/i,               // Xiaomi Hongmi\n            /android.+(mi[\\s\\-_]*(?:a\\d|one|one[\\s_]plus|note lte)?[\\s_]*(?:\\d?\\w?)[\\s_]*(?:plus)?)\\s+build/i,    \n                                                                                // Xiaomi Mi\n            /android.+(redmi[\\s\\-_]*(?:note)?(?:[\\s_]?[\\w\\s]+))\\s+build/i       // Redmi Phones\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, MOBILE]], [\n            /android.+(mi[\\s\\-_]*(?:pad)(?:[\\s_]?[\\w\\s]+))\\s+build/i            // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, TABLET]], [\n            /android.+;\\s(m[1-5]\\snote)\\sbuild/i                                // Meizu\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n            /(mz)-([\\w-]{2,})/i\n            ], [[VENDOR, 'Meizu'], MODEL, [TYPE, MOBILE]], [\n\n            /android.+a000(1)\\s+build/i,                                        // OnePlus\n            /android.+oneplus\\s(a\\d{4})[\\s)]/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(RCT[\\d\\w]+)\\s+build/i                            // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n\n            /android.+[;\\/\\s]+(Venue[\\d\\s]{2,7})\\s+build/i                      // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Q[T|M][\\d\\w]+)\\s+build/i                         // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s+(Barnes[&\\s]+Noble\\s+|BN[RT])(V?.*)\\s+build/i     // Barnes & Noble Tablet\n            ], [[VENDOR, 'Barnes & Noble'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s+(TM\\d{3}.*\\b)\\s+build/i                           // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n\n            /android.+;\\s(k88)\\sbuild/i                                         // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(gen\\d{3})\\s+build.*49h/i                         // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(zur\\d{3})\\s+build/i                              // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*((Zeki)?TB.*\\b)\\s+build/i                         // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n\n            /(android).+[;\\/]\\s+([YR]\\d{2})\\s+build/i,\n            /android.+[;\\/]\\s+(Dragon[\\-\\s]+Touch\\s+|DT)(\\w{5})\\sbuild/i        // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(NS-?\\w{0,9})\\sbuild/i                            // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*((NX|Next)-?\\w{0,9})\\s+build/i                    // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Xtreme\\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\\s+build/i\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [                    // Voice Xtreme Phones\n\n            /android.+[;\\/]\\s*(LVTEL\\-)?(V1[12])\\s+build/i                     // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n\n            /android.+;\\s(PH-1)\\s/i\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [                // Essential PH-1\n\n            /android.+[;\\/]\\s*(V(100MD|700NA|7011|917G).*\\b)\\s+build/i          // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Le[\\s\\-]+Pan)[\\s\\-]+(\\w{1,9})\\s+build/i          // Le Pan Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Trio[\\s\\-]*.*)\\s+build/i                         // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Trinity)[\\-\\s]*(T\\d{3})\\s+build/i                // Trinity Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*TU_(1491)\\s+build/i                               // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n\n            /android.+(KS(.+))\\s+build/i                                        // Amazon Kindle Tablets\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [\n\n            /android.+(Gigaset)[\\s\\-]+(Q\\w{1,9})\\s+build/i                      // Gigaset Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /\\s(tablet|tab)[;\\/]/i,                                             // Unidentifiable Tablet\n            /\\s(mobile)(?:[;\\/]|\\ssafari)/i                                     // Unidentifiable Mobile\n            ], [[TYPE, util.lowerize], VENDOR, MODEL], [\n\n            /[\\s\\/\\(](smart-?tv)[;\\)]/i                                         // SmartTV\n            ], [[TYPE, SMARTTV]], [\n\n            /(android[\\w\\.\\s\\-]{0,9});.+build/i                                 // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+\\sedge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, 'EdgeHTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,     \n                                                                                // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i,                          // KHTML/Tasman/Links\n            /(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i                                      // iCab\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9}).+(gecko)/i                                       // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows based\n            /microsoft\\s(windows)\\s(vista|xp)/i                                 // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows)\\snt\\s6\\.2;\\s(arm)/i,                                     // Windows RT\n            /(windows\\sphone(?:\\sos)*)[\\s\\/]?([\\d\\.\\s\\w]*)/i,                   // Windows Phone\n            /(windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i\n            ], [NAME, [VERSION, mapper.str, maps.os.windows.version]], [\n            /(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, mapper.str, maps.os.windows.version]], [\n\n            // Mobile/Embedded OS\n            /\\((bb)(10);/i                                                      // BlackBerry 10\n            ], [[NAME, 'BlackBerry'], VERSION], [\n            /(blackberry)\\w*\\/?([\\w\\.]*)/i,                                     // Blackberry\n            /(tizen|kaios)[\\/\\s]([\\w\\.]+)/i,                                    // Tizen/KaiOS\n            /(android|webos|palm\\sos|qnx|bada|rim\\stablet\\sos|meego|sailfish|contiki)[\\/\\s-]?([\\w\\.]*)/i\n                                                                                // Android/WebOS/Palm/QNX/Bada/RIM/MeeGo/Contiki/Sailfish OS\n            ], [NAME, VERSION], [\n            /(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]*)/i                  // Symbian\n            ], [[NAME, 'Symbian'], VERSION], [\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME], [\n            /mozilla.+\\(mobile;.+gecko.+firefox/i                               // Firefox OS\n            ], [[NAME, 'Firefox OS'], VERSION], [\n\n            // Console\n            /(nintendo|playstation)\\s([wids34portablevu]+)/i,                   // Nintendo/Playstation\n\n            // GNU/Linux based\n            /(mint)[\\/\\s\\(]?(\\w*)/i,                                            // Mint\n            /(mageia|vectorlinux)[;\\s]/i,                                       // Mageia/VectorLinux\n            /(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\\/\\s-]?(?!chrom)([\\w\\.-]*)/i,\n                                                                                // Joli/Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware\n                                                                                // Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus\n            /(hurd|linux)\\s?([\\w\\.]*)/i,                                        // Hurd/Linux\n            /(gnu)\\s?([\\w\\.]*)/i                                                // GNU\n            ], [NAME, VERSION], [\n\n            /(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i                                       // Chromium OS\n            ], [[NAME, 'Chromium OS'], VERSION],[\n\n            // Solaris\n            /(sunos)\\s?([\\w\\.\\d]*)/i                                            // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n\n            // BSD based\n            /\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]*)/i                    // FreeBSD/NetBSD/OpenBSD/PC-BSD/DragonFly\n            ], [NAME, VERSION],[\n\n            /(haiku)\\s(\\w+)/i                                                   // Haiku\n            ], [NAME, VERSION],[\n\n            /cfnetwork\\/.+darwin/i,\n            /ip[honead]{2,4}(?:.*os\\s([\\w]+)\\slike\\smac|;\\sopera)/i             // iOS\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n\n            /(mac\\sos\\sx)\\s?([\\w\\s\\.]*)/i,\n            /(macintosh|mac(?=_powerpc)\\s)/i                                    // Mac OS\n            ], [[NAME, 'Mac OS'], [VERSION, /_/g, '.']], [\n\n            // Other\n            /((?:open)?solaris)[\\/\\s-]?([\\w\\.]*)/i,                             // Solaris\n            /(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.])*/i,                                // AIX\n            /(plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos|openvms|fuchsia)/i,\n                                                                                // Plan9/Minix/BeOS/OS2/AmigaOS/MorphOS/RISCOS/OpenVMS/Fuchsia\n            /(unix)\\s?([\\w\\.]*)/i                                               // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n\n    /////////////////\n    // Constructor\n    ////////////////\n    var UAParser = function (uastring, extensions) {\n\n        if (typeof uastring === 'object') {\n            extensions = uastring;\n            uastring = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(uastring, extensions).getResult();\n        }\n\n        var ua = uastring || ((window && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);\n        var rgxmap = extensions ? util.extend(regexes, extensions) : regexes;\n\n        this.getBrowser = function () {\n            var browser = { name: undefined, version: undefined };\n            mapper.rgx.call(browser, ua, rgxmap.browser);\n            browser.major = util.major(browser.version); // deprecated\n            return browser;\n        };\n        this.getCPU = function () {\n            var cpu = { architecture: undefined };\n            mapper.rgx.call(cpu, ua, rgxmap.cpu);\n            return cpu;\n        };\n        this.getDevice = function () {\n            var device = { vendor: undefined, model: undefined, type: undefined };\n            mapper.rgx.call(device, ua, rgxmap.device);\n            return device;\n        };\n        this.getEngine = function () {\n            var engine = { name: undefined, version: undefined };\n            mapper.rgx.call(engine, ua, rgxmap.engine);\n            return engine;\n        };\n        this.getOS = function () {\n            var os = { name: undefined, version: undefined };\n            mapper.rgx.call(os, ua, rgxmap.os);\n            return os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return ua;\n        };\n        this.setUA = function (uastring) {\n            ua = uastring;\n            return this;\n        };\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER = {\n        NAME    : NAME,\n        MAJOR   : MAJOR, // deprecated\n        VERSION : VERSION\n    };\n    UAParser.CPU = {\n        ARCHITECTURE : ARCHITECTURE\n    };\n    UAParser.DEVICE = {\n        MODEL   : MODEL,\n        VENDOR  : VENDOR,\n        TYPE    : TYPE,\n        CONSOLE : CONSOLE,\n        MOBILE  : MOBILE,\n        SMARTTV : SMARTTV,\n        TABLET  : TABLET,\n        WEARABLE: WEARABLE,\n        EMBEDDED: EMBEDDED\n    };\n    UAParser.ENGINE = {\n        NAME    : NAME,\n        VERSION : VERSION\n    };\n    UAParser.OS = {\n        NAME    : NAME,\n        VERSION : VERSION\n    };\n\n    ///////////\n    // Export\n    //////////\n\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === 'function' && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (window) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = window && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (uastring) {\n            parser.setUA(uastring);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n\nvar invariant = require(\"./invariant\");\n\nvar componentRegex = /\\./;\nvar orRegex = /\\|\\|/;\nvar rangeRegex = /\\s+\\-\\s+/;\nvar modifierRegex = /^(<=|<|=|>=|~>|~|>|)?\\s*(.+)/;\nvar numericRegex = /^(\\d*)(.*)/;\n/**\n * Splits input `range` on \"||\" and returns true if any subrange matches\n * `version`.\n *\n * @param {string} range\n * @param {string} version\n * @returns {boolean}\n */\n\nfunction checkOrExpression(range, version) {\n  var expressions = range.split(orRegex);\n\n  if (expressions.length > 1) {\n    return expressions.some(function (range) {\n      return VersionRange.contains(range, version);\n    });\n  } else {\n    range = expressions[0].trim();\n    return checkRangeExpression(range, version);\n  }\n}\n/**\n * Splits input `range` on \" - \" (the surrounding whitespace is required) and\n * returns true if version falls between the two operands.\n *\n * @param {string} range\n * @param {string} version\n * @returns {boolean}\n */\n\n\nfunction checkRangeExpression(range, version) {\n  var expressions = range.split(rangeRegex);\n  !(expressions.length > 0 && expressions.length <= 2) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'the \"-\" operator expects exactly 2 operands') : invariant(false) : void 0;\n\n  if (expressions.length === 1) {\n    return checkSimpleExpression(expressions[0], version);\n  } else {\n    var startVersion = expressions[0],\n        endVersion = expressions[1];\n    !(isSimpleVersion(startVersion) && isSimpleVersion(endVersion)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'operands to the \"-\" operator must be simple (no modifiers)') : invariant(false) : void 0;\n    return checkSimpleExpression('>=' + startVersion, version) && checkSimpleExpression('<=' + endVersion, version);\n  }\n}\n/**\n * Checks if `range` matches `version`. `range` should be a \"simple\" range (ie.\n * not a compound range using the \" - \" or \"||\" operators).\n *\n * @param {string} range\n * @param {string} version\n * @returns {boolean}\n */\n\n\nfunction checkSimpleExpression(range, version) {\n  range = range.trim();\n\n  if (range === '') {\n    return true;\n  }\n\n  var versionComponents = version.split(componentRegex);\n\n  var _getModifierAndCompon = getModifierAndComponents(range),\n      modifier = _getModifierAndCompon.modifier,\n      rangeComponents = _getModifierAndCompon.rangeComponents;\n\n  switch (modifier) {\n    case '<':\n      return checkLessThan(versionComponents, rangeComponents);\n\n    case '<=':\n      return checkLessThanOrEqual(versionComponents, rangeComponents);\n\n    case '>=':\n      return checkGreaterThanOrEqual(versionComponents, rangeComponents);\n\n    case '>':\n      return checkGreaterThan(versionComponents, rangeComponents);\n\n    case '~':\n    case '~>':\n      return checkApproximateVersion(versionComponents, rangeComponents);\n\n    default:\n      return checkEqual(versionComponents, rangeComponents);\n  }\n}\n/**\n * Checks whether `a` is less than `b`.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\n\n\nfunction checkLessThan(a, b) {\n  return compareComponents(a, b) === -1;\n}\n/**\n * Checks whether `a` is less than or equal to `b`.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\n\n\nfunction checkLessThanOrEqual(a, b) {\n  var result = compareComponents(a, b);\n  return result === -1 || result === 0;\n}\n/**\n * Checks whether `a` is equal to `b`.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\n\n\nfunction checkEqual(a, b) {\n  return compareComponents(a, b) === 0;\n}\n/**\n * Checks whether `a` is greater than or equal to `b`.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\n\n\nfunction checkGreaterThanOrEqual(a, b) {\n  var result = compareComponents(a, b);\n  return result === 1 || result === 0;\n}\n/**\n * Checks whether `a` is greater than `b`.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\n\n\nfunction checkGreaterThan(a, b) {\n  return compareComponents(a, b) === 1;\n}\n/**\n * Checks whether `a` is \"reasonably close\" to `b` (as described in\n * https://www.npmjs.org/doc/misc/semver.html). For example, if `b` is \"1.3.1\"\n * then \"reasonably close\" is defined as \">= 1.3.1 and < 1.4\".\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\n\n\nfunction checkApproximateVersion(a, b) {\n  var lowerBound = b.slice();\n  var upperBound = b.slice();\n\n  if (upperBound.length > 1) {\n    upperBound.pop();\n  }\n\n  var lastIndex = upperBound.length - 1;\n  var numeric = parseInt(upperBound[lastIndex], 10);\n\n  if (isNumber(numeric)) {\n    upperBound[lastIndex] = numeric + 1 + '';\n  }\n\n  return checkGreaterThanOrEqual(a, lowerBound) && checkLessThan(a, upperBound);\n}\n/**\n * Extracts the optional modifier (<, <=, =, >=, >, ~, ~>) and version\n * components from `range`.\n *\n * For example, given `range` \">= 1.2.3\" returns an object with a `modifier` of\n * `\">=\"` and `components` of `[1, 2, 3]`.\n *\n * @param {string} range\n * @returns {object}\n */\n\n\nfunction getModifierAndComponents(range) {\n  var rangeComponents = range.split(componentRegex);\n  var matches = rangeComponents[0].match(modifierRegex);\n  !matches ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'expected regex to match but it did not') : invariant(false) : void 0;\n  return {\n    modifier: matches[1],\n    rangeComponents: [matches[2]].concat(rangeComponents.slice(1))\n  };\n}\n/**\n * Determines if `number` is a number.\n *\n * @param {mixed} number\n * @returns {boolean}\n */\n\n\nfunction isNumber(number) {\n  return !isNaN(number) && isFinite(number);\n}\n/**\n * Tests whether `range` is a \"simple\" version number without any modifiers\n * (\">\", \"~\" etc).\n *\n * @param {string} range\n * @returns {boolean}\n */\n\n\nfunction isSimpleVersion(range) {\n  return !getModifierAndComponents(range).modifier;\n}\n/**\n * Zero-pads array `array` until it is at least `length` long.\n *\n * @param {array} array\n * @param {number} length\n */\n\n\nfunction zeroPad(array, length) {\n  for (var i = array.length; i < length; i++) {\n    array[i] = '0';\n  }\n}\n/**\n * Normalizes `a` and `b` in preparation for comparison by doing the following:\n *\n * - zero-pads `a` and `b`\n * - marks any \"x\", \"X\" or \"*\" component in `b` as equivalent by zero-ing it out\n *   in both `a` and `b`\n * - marks any final \"*\" component in `b` as a greedy wildcard by zero-ing it\n *   and all of its successors in `a`\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {array<array<string>>}\n */\n\n\nfunction normalizeVersions(a, b) {\n  a = a.slice();\n  b = b.slice();\n  zeroPad(a, b.length); // mark \"x\" and \"*\" components as equal\n\n  for (var i = 0; i < b.length; i++) {\n    var matches = b[i].match(/^[x*]$/i);\n\n    if (matches) {\n      b[i] = a[i] = '0'; // final \"*\" greedily zeros all remaining components\n\n      if (matches[0] === '*' && i === b.length - 1) {\n        for (var j = i; j < a.length; j++) {\n          a[j] = '0';\n        }\n      }\n    }\n  }\n\n  zeroPad(b, a.length);\n  return [a, b];\n}\n/**\n * Returns the numerical -- not the lexicographical -- ordering of `a` and `b`.\n *\n * For example, `10-alpha` is greater than `2-beta`.\n *\n * @param {string} a\n * @param {string} b\n * @returns {number} -1, 0 or 1 to indicate whether `a` is less than, equal to,\n * or greater than `b`, respectively\n */\n\n\nfunction compareNumeric(a, b) {\n  var aPrefix = a.match(numericRegex)[1];\n  var bPrefix = b.match(numericRegex)[1];\n  var aNumeric = parseInt(aPrefix, 10);\n  var bNumeric = parseInt(bPrefix, 10);\n\n  if (isNumber(aNumeric) && isNumber(bNumeric) && aNumeric !== bNumeric) {\n    return compare(aNumeric, bNumeric);\n  } else {\n    return compare(a, b);\n  }\n}\n/**\n * Returns the ordering of `a` and `b`.\n *\n * @param {string|number} a\n * @param {string|number} b\n * @returns {number} -1, 0 or 1 to indicate whether `a` is less than, equal to,\n * or greater than `b`, respectively\n */\n\n\nfunction compare(a, b) {\n  !(typeof a === typeof b) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '\"a\" and \"b\" must be of the same type') : invariant(false) : void 0;\n\n  if (a > b) {\n    return 1;\n  } else if (a < b) {\n    return -1;\n  } else {\n    return 0;\n  }\n}\n/**\n * Compares arrays of version components.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {number} -1, 0 or 1 to indicate whether `a` is less than, equal to,\n * or greater than `b`, respectively\n */\n\n\nfunction compareComponents(a, b) {\n  var _normalizeVersions = normalizeVersions(a, b),\n      aNormalized = _normalizeVersions[0],\n      bNormalized = _normalizeVersions[1];\n\n  for (var i = 0; i < bNormalized.length; i++) {\n    var result = compareNumeric(aNormalized[i], bNormalized[i]);\n\n    if (result) {\n      return result;\n    }\n  }\n\n  return 0;\n}\n\nvar VersionRange = {\n  /**\n   * Checks whether `version` satisfies the `range` specification.\n   *\n   * We support a subset of the expressions defined in\n   * https://www.npmjs.org/doc/misc/semver.html:\n   *\n   *    version   Must match version exactly\n   *    =version  Same as just version\n   *    >version  Must be greater than version\n   *    >=version Must be greater than or equal to version\n   *    <version  Must be less than version\n   *    <=version Must be less than or equal to version\n   *    ~version  Must be at least version, but less than the next significant\n   *              revision above version:\n   *              \"~1.2.3\" is equivalent to \">= 1.2.3 and < 1.3\"\n   *    ~>version Equivalent to ~version\n   *    1.2.x     Must match \"1.2.x\", where \"x\" is a wildcard that matches\n   *              anything\n   *    1.2.*     Similar to \"1.2.x\", but \"*\" in the trailing position is a\n   *              \"greedy\" wildcard, so will match any number of additional\n   *              components:\n   *              \"1.2.*\" will match \"1.2.1\", \"1.2.1.1\", \"1.2.1.1.1\" etc\n   *    *         Any version\n   *    \"\"        (Empty string) Same as *\n   *    v1 - v2   Equivalent to \">= v1 and <= v2\"\n   *    r1 || r2  Passes if either r1 or r2 are satisfied\n   *\n   * @param {string} range\n   * @param {string} version\n   * @returns {boolean}\n   */\n  contains: function contains(range, version) {\n    return checkOrExpression(range.trim(), version.trim());\n  }\n};\nmodule.exports = VersionRange;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * Executes the provided `callback` once for each enumerable own property in the\n * object and constructs a new object from the results. The `callback` is\n * invoked with three arguments:\n *\n *  - the property value\n *  - the property name\n *  - the object being traversed\n *\n * Properties that are added after the call to `mapObject` will not be visited\n * by `callback`. If the values of existing properties are changed, the value\n * passed to `callback` will be the value at the time `mapObject` visits them.\n * Properties that are deleted before being visited are not visited.\n *\n * @grep function objectMap()\n * @grep function objMap()\n *\n * @param {?object} object\n * @param {function} callback\n * @param {*} context\n * @return {?object}\n */\n\nfunction mapObject(object, callback, context) {\n  if (!object) {\n    return null;\n  }\n\n  var result = {};\n\n  for (var name in object) {\n    if (hasOwnProperty.call(object, name)) {\n      result[name] = callback.call(context, object[name], name, object);\n    }\n  }\n\n  return result;\n}\n\nmodule.exports = mapObject;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @typechecks static-only\n */\n'use strict';\n/**\n * Memoizes the return value of a function that accepts one string argument.\n */\n\nfunction memoizeStringOnly(callback) {\n  var cache = {};\n  return function (string) {\n    if (!cache.hasOwnProperty(string)) {\n      cache[string] = callback.call(this, string);\n    }\n\n    return cache[string];\n  };\n}\n\nmodule.exports = memoizeStringOnly;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n */\n'use strict';\n\nvar gkx = require(\"./gkx\");\n\nvar experimentalTreeDataSupport = gkx('draft_tree_data_support');\nmodule.exports = experimentalTreeDataSupport ? require(\"./DraftEditorContentsExperimental.react\") : require(\"./DraftEditorContents-core.react\");","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This file is a fork of DraftEditorContents.react.js for tree nodes\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() { _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar DraftEditorBlockNode = require(\"./DraftEditorBlockNode.react\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar React = require(\"react\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\n/**\n * `DraftEditorContents` is the container component for all block components\n * rendered for a `DraftEditor`. It is optimized to aggressively avoid\n * re-rendering blocks whenever possible.\n *\n * This component is separate from `DraftEditor` because certain props\n * (for instance, ARIA props) must be allowed to update without affecting\n * the contents of the editor.\n */\nvar DraftEditorContentsExperimental = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorContentsExperimental, _React$Component);\n\n  function DraftEditorContentsExperimental() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = DraftEditorContentsExperimental.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    var prevEditorState = this.props.editorState;\n    var nextEditorState = nextProps.editorState;\n    var prevDirectionMap = prevEditorState.getDirectionMap();\n    var nextDirectionMap = nextEditorState.getDirectionMap(); // Text direction has changed for one or more blocks. We must re-render.\n\n    if (prevDirectionMap !== nextDirectionMap) {\n      return true;\n    }\n\n    var didHaveFocus = prevEditorState.getSelection().getHasFocus();\n    var nowHasFocus = nextEditorState.getSelection().getHasFocus();\n\n    if (didHaveFocus !== nowHasFocus) {\n      return true;\n    }\n\n    var nextNativeContent = nextEditorState.getNativelyRenderedContent();\n    var wasComposing = prevEditorState.isInCompositionMode();\n    var nowComposing = nextEditorState.isInCompositionMode(); // If the state is unchanged or we're currently rendering a natively\n    // rendered state, there's nothing new to be done.\n\n    if (prevEditorState === nextEditorState || nextNativeContent !== null && nextEditorState.getCurrentContent() === nextNativeContent || wasComposing && nowComposing) {\n      return false;\n    }\n\n    var prevContent = prevEditorState.getCurrentContent();\n    var nextContent = nextEditorState.getCurrentContent();\n    var prevDecorator = prevEditorState.getDecorator();\n    var nextDecorator = nextEditorState.getDecorator();\n    return wasComposing !== nowComposing || prevContent !== nextContent || prevDecorator !== nextDecorator || nextEditorState.mustForceSelection();\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        blockRenderMap = _this$props.blockRenderMap,\n        blockRendererFn = _this$props.blockRendererFn,\n        blockStyleFn = _this$props.blockStyleFn,\n        customStyleMap = _this$props.customStyleMap,\n        customStyleFn = _this$props.customStyleFn,\n        editorState = _this$props.editorState,\n        editorKey = _this$props.editorKey,\n        textDirectionality = _this$props.textDirectionality;\n    var content = editorState.getCurrentContent();\n    var selection = editorState.getSelection();\n    var forceSelection = editorState.mustForceSelection();\n    var decorator = editorState.getDecorator();\n    var directionMap = nullthrows(editorState.getDirectionMap());\n    var blocksAsArray = content.getBlocksAsArray();\n    var rootBlock = blocksAsArray[0];\n    var processedBlocks = [];\n    var nodeBlock = rootBlock;\n\n    while (nodeBlock) {\n      var blockKey = nodeBlock.getKey();\n      var blockProps = {\n        blockRenderMap: blockRenderMap,\n        blockRendererFn: blockRendererFn,\n        blockStyleFn: blockStyleFn,\n        contentState: content,\n        customStyleFn: customStyleFn,\n        customStyleMap: customStyleMap,\n        decorator: decorator,\n        editorKey: editorKey,\n        editorState: editorState,\n        forceSelection: forceSelection,\n        selection: selection,\n        block: nodeBlock,\n        direction: textDirectionality ? textDirectionality : directionMap.get(blockKey),\n        tree: editorState.getBlockTree(blockKey)\n      };\n      var configForType = blockRenderMap.get(nodeBlock.getType()) || blockRenderMap.get('unstyled');\n      var wrapperTemplate = configForType.wrapper;\n      processedBlocks.push({\n        /* $FlowFixMe[incompatible-type] (>=0.112.0 site=www,mobile) This\n         * comment suppresses an error found when Flow v0.112 was deployed. To\n         * see the error delete this comment and run Flow. */\n        block: React.createElement(DraftEditorBlockNode, _extends({\n          key: blockKey\n        }, blockProps)),\n        wrapperTemplate: wrapperTemplate,\n        key: blockKey,\n        offsetKey: DraftOffsetKey.encode(blockKey, 0, 0)\n      });\n      var nextBlockKey = nodeBlock.getNextSiblingKey();\n      nodeBlock = nextBlockKey ? content.getBlockForKey(nextBlockKey) : null;\n    } // Group contiguous runs of blocks that have the same wrapperTemplate\n\n\n    var outputBlocks = [];\n\n    for (var ii = 0; ii < processedBlocks.length;) {\n      var info = processedBlocks[ii];\n\n      if (info.wrapperTemplate) {\n        var blocks = [];\n\n        do {\n          blocks.push(processedBlocks[ii].block);\n          ii++;\n        } while (ii < processedBlocks.length && processedBlocks[ii].wrapperTemplate === info.wrapperTemplate);\n\n        var wrapperElement = React.cloneElement(info.wrapperTemplate, {\n          key: info.key + '-wrap',\n          'data-offset-key': info.offsetKey\n        }, blocks);\n        outputBlocks.push(wrapperElement);\n      } else {\n        outputBlocks.push(info.block);\n        ii++;\n      }\n    }\n\n    return React.createElement(\"div\", {\n      \"data-contents\": \"true\"\n    }, outputBlocks);\n  };\n\n  return DraftEditorContentsExperimental;\n}(React.Component);\n\nmodule.exports = DraftEditorContentsExperimental;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This file is a fork of DraftEditorBlock.react.js and DraftEditorContents.react.js\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() { _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar DraftEditorNode = require(\"./DraftEditorNode.react\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar React = require(\"react\");\n\nvar Scroll = require(\"fbjs/lib/Scroll\");\n\nvar Style = require(\"fbjs/lib/Style\");\n\nvar getElementPosition = require(\"fbjs/lib/getElementPosition\");\n\nvar getScrollPosition = require(\"fbjs/lib/getScrollPosition\");\n\nvar getViewportDimensions = require(\"fbjs/lib/getViewportDimensions\");\n\nvar Immutable = require(\"immutable\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nvar SCROLL_BUFFER = 10;\nvar List = Immutable.List; // we should harden up the bellow flow types to make them more strict\n\n/**\n * Return whether a block overlaps with either edge of the `SelectionState`.\n */\nvar isBlockOnSelectionEdge = function isBlockOnSelectionEdge(selection, key) {\n  return selection.getAnchorKey() === key || selection.getFocusKey() === key;\n};\n/**\n * We will use this helper to identify blocks that need to be wrapped but have siblings that\n * also share the same wrapper element, this way we can do the wrapping once the last sibling\n * is added.\n */\n\n\nvar shouldNotAddWrapperElement = function shouldNotAddWrapperElement(block, contentState) {\n  var nextSiblingKey = block.getNextSiblingKey();\n  return nextSiblingKey ? contentState.getBlockForKey(nextSiblingKey).getType() === block.getType() : false;\n};\n\nvar applyWrapperElementToSiblings = function applyWrapperElementToSiblings(wrapperTemplate, Element, nodes) {\n  var wrappedSiblings = []; // we check back until we find a sibling that does not have same wrapper\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = nodes.reverse()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var sibling = _step.value;\n\n      if (sibling.type !== Element) {\n        break;\n      }\n\n      wrappedSiblings.push(sibling);\n    } // we now should remove from acc the wrappedSiblings and add them back under same wrap\n\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  nodes.splice(nodes.indexOf(wrappedSiblings[0]), wrappedSiblings.length + 1);\n  var childrenIs = wrappedSiblings.reverse();\n  var key = childrenIs[0].key;\n  nodes.push(React.cloneElement(wrapperTemplate, {\n    key: \"\".concat(key, \"-wrap\"),\n    'data-offset-key': DraftOffsetKey.encode(key, 0, 0)\n  }, childrenIs));\n  return nodes;\n};\n\nvar getDraftRenderConfig = function getDraftRenderConfig(block, blockRenderMap) {\n  var configForType = blockRenderMap.get(block.getType()) || blockRenderMap.get('unstyled');\n  var wrapperTemplate = configForType.wrapper;\n  var Element = configForType.element || blockRenderMap.get('unstyled').element;\n  return {\n    Element: Element,\n    wrapperTemplate: wrapperTemplate\n  };\n};\n\nvar getCustomRenderConfig = function getCustomRenderConfig(block, blockRendererFn) {\n  var customRenderer = blockRendererFn(block);\n\n  if (!customRenderer) {\n    return {};\n  }\n\n  var CustomComponent = customRenderer.component,\n      customProps = customRenderer.props,\n      customEditable = customRenderer.editable;\n  return {\n    CustomComponent: CustomComponent,\n    customProps: customProps,\n    customEditable: customEditable\n  };\n};\n\nvar getElementPropsConfig = function getElementPropsConfig(block, editorKey, offsetKey, blockStyleFn, customConfig, ref) {\n  var elementProps = {\n    'data-block': true,\n    'data-editor': editorKey,\n    'data-offset-key': offsetKey,\n    key: block.getKey(),\n    ref: ref\n  };\n  var customClass = blockStyleFn(block);\n\n  if (customClass) {\n    elementProps.className = customClass;\n  }\n\n  if (customConfig.customEditable !== undefined) {\n    elementProps = _objectSpread({}, elementProps, {\n      contentEditable: customConfig.customEditable,\n      suppressContentEditableWarning: true\n    });\n  }\n\n  return elementProps;\n};\n\nvar DraftEditorBlockNode = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorBlockNode, _React$Component);\n\n  function DraftEditorBlockNode() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"wrapperRef\", React.createRef());\n\n    return _this;\n  }\n\n  var _proto = DraftEditorBlockNode.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    var _this$props = this.props,\n        block = _this$props.block,\n        direction = _this$props.direction,\n        tree = _this$props.tree;\n    var isContainerNode = !block.getChildKeys().isEmpty();\n    var blockHasChanged = block !== nextProps.block || tree !== nextProps.tree || direction !== nextProps.direction || isBlockOnSelectionEdge(nextProps.selection, nextProps.block.getKey()) && nextProps.forceSelection; // if we have children at this stage we always re-render container nodes\n    // else if its a root node we avoid re-rendering by checking for block updates\n\n    return isContainerNode || blockHasChanged;\n  }\n  /**\n   * When a block is mounted and overlaps the selection state, we need to make\n   * sure that the cursor is visible to match native behavior. This may not\n   * be the case if the user has pressed `RETURN` or pasted some content, since\n   * programatically creating these new blocks and setting the DOM selection\n   * will miss out on the browser natively scrolling to that position.\n   *\n   * To replicate native behavior, if the block overlaps the selection state\n   * on mount, force the scroll position. Check the scroll state of the scroll\n   * parent, and adjust it to align the entire block to the bottom of the\n   * scroll parent.\n   */\n  ;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var selection = this.props.selection;\n    var endKey = selection.getEndKey();\n\n    if (!selection.getHasFocus() || endKey !== this.props.block.getKey()) {\n      return;\n    }\n\n    var blockNode = this.wrapperRef.current;\n\n    if (!blockNode) {\n      // This Block Node was rendered without a wrapper element.\n      return;\n    }\n\n    var scrollParent = Style.getScrollParent(blockNode);\n    var scrollPosition = getScrollPosition(scrollParent);\n    var scrollDelta;\n\n    if (scrollParent === window) {\n      var nodePosition = getElementPosition(blockNode);\n      var nodeBottom = nodePosition.y + nodePosition.height;\n      var viewportHeight = getViewportDimensions().height;\n      scrollDelta = nodeBottom - viewportHeight;\n\n      if (scrollDelta > 0) {\n        window.scrollTo(scrollPosition.x, scrollPosition.y + scrollDelta + SCROLL_BUFFER);\n      }\n    } else {\n      !isHTMLElement(blockNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'blockNode is not an HTMLElement') : invariant(false) : void 0;\n      var htmlBlockNode = blockNode;\n      var blockBottom = htmlBlockNode.offsetHeight + htmlBlockNode.offsetTop;\n      var scrollBottom = scrollParent.offsetHeight + scrollPosition.y;\n      scrollDelta = blockBottom - scrollBottom;\n\n      if (scrollDelta > 0) {\n        Scroll.setTop(scrollParent, Scroll.getTop(scrollParent) + scrollDelta + SCROLL_BUFFER);\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        block = _this$props2.block,\n        blockRenderMap = _this$props2.blockRenderMap,\n        blockRendererFn = _this$props2.blockRendererFn,\n        blockStyleFn = _this$props2.blockStyleFn,\n        contentState = _this$props2.contentState,\n        decorator = _this$props2.decorator,\n        editorKey = _this$props2.editorKey,\n        editorState = _this$props2.editorState,\n        customStyleFn = _this$props2.customStyleFn,\n        customStyleMap = _this$props2.customStyleMap,\n        direction = _this$props2.direction,\n        forceSelection = _this$props2.forceSelection,\n        selection = _this$props2.selection,\n        tree = _this$props2.tree;\n    var children = null;\n\n    if (block.children.size) {\n      children = block.children.reduce(function (acc, key) {\n        var offsetKey = DraftOffsetKey.encode(key, 0, 0);\n        var child = contentState.getBlockForKey(key);\n        var customConfig = getCustomRenderConfig(child, blockRendererFn);\n        var Component = customConfig.CustomComponent || DraftEditorBlockNode;\n\n        var _getDraftRenderConfig = getDraftRenderConfig(child, blockRenderMap),\n            Element = _getDraftRenderConfig.Element,\n            wrapperTemplate = _getDraftRenderConfig.wrapperTemplate;\n\n        var elementProps = getElementPropsConfig(child, editorKey, offsetKey, blockStyleFn, customConfig, null);\n\n        var childProps = _objectSpread({}, _this2.props, {\n          tree: editorState.getBlockTree(key),\n          blockProps: customConfig.customProps,\n          offsetKey: offsetKey,\n          block: child\n        });\n\n        acc.push(React.createElement(Element, elementProps, React.createElement(Component, childProps)));\n\n        if (!wrapperTemplate || shouldNotAddWrapperElement(child, contentState)) {\n          return acc;\n        } // if we are here it means we are the last block\n        // that has a wrapperTemplate so we should wrap itself\n        // and all other previous siblings that share the same wrapper\n\n\n        applyWrapperElementToSiblings(wrapperTemplate, Element, acc);\n        return acc;\n      }, []);\n    }\n\n    var blockKey = block.getKey();\n    var offsetKey = DraftOffsetKey.encode(blockKey, 0, 0);\n    var customConfig = getCustomRenderConfig(block, blockRendererFn);\n    var Component = customConfig.CustomComponent;\n    var blockNode = Component != null ? React.createElement(Component, _extends({}, this.props, {\n      tree: editorState.getBlockTree(blockKey),\n      blockProps: customConfig.customProps,\n      offsetKey: offsetKey,\n      block: block\n    })) : React.createElement(DraftEditorNode, {\n      block: block,\n      children: children,\n      contentState: contentState,\n      customStyleFn: customStyleFn,\n      customStyleMap: customStyleMap,\n      decorator: decorator,\n      direction: direction,\n      forceSelection: forceSelection,\n      hasSelection: isBlockOnSelectionEdge(selection, blockKey),\n      selection: selection,\n      tree: tree\n    });\n\n    if (block.getParentKey()) {\n      return blockNode;\n    }\n\n    var _getDraftRenderConfig2 = getDraftRenderConfig(block, blockRenderMap),\n        Element = _getDraftRenderConfig2.Element;\n\n    var elementProps = getElementPropsConfig(block, editorKey, offsetKey, blockStyleFn, customConfig, this.wrapperRef); // root block nodes needs to be wrapped\n\n    return React.createElement(Element, elementProps, blockNode);\n  };\n\n  return DraftEditorBlockNode;\n}(React.Component);\n\nmodule.exports = DraftEditorBlockNode;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar DraftEditorDecoratedLeaves = require(\"./DraftEditorDecoratedLeaves.react\");\n\nvar DraftEditorLeaf = require(\"./DraftEditorLeaf.react\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar Immutable = require(\"immutable\");\n\nvar React = require(\"react\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar List = Immutable.List;\n\nvar DraftEditorNode = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorNode, _React$Component);\n\n  function DraftEditorNode() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = DraftEditorNode.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        block = _this$props.block,\n        contentState = _this$props.contentState,\n        customStyleFn = _this$props.customStyleFn,\n        customStyleMap = _this$props.customStyleMap,\n        decorator = _this$props.decorator,\n        direction = _this$props.direction,\n        forceSelection = _this$props.forceSelection,\n        hasSelection = _this$props.hasSelection,\n        selection = _this$props.selection,\n        tree = _this$props.tree;\n    var blockKey = block.getKey();\n    var text = block.getText();\n    var lastLeafSet = tree.size - 1;\n    var children = this.props.children || tree.map(function (leafSet, ii) {\n      var decoratorKey = leafSet.get('decoratorKey');\n      var leavesForLeafSet = leafSet.get('leaves');\n      var lastLeaf = leavesForLeafSet.size - 1;\n      var Leaves = leavesForLeafSet.map(function (leaf, jj) {\n        var offsetKey = DraftOffsetKey.encode(blockKey, ii, jj);\n        var start = leaf.get('start');\n        var end = leaf.get('end');\n        return React.createElement(DraftEditorLeaf, {\n          key: offsetKey,\n          offsetKey: offsetKey,\n          block: block,\n          start: start,\n          selection: hasSelection ? selection : null,\n          forceSelection: forceSelection,\n          text: text.slice(start, end),\n          styleSet: block.getInlineStyleAt(start),\n          customStyleMap: customStyleMap,\n          customStyleFn: customStyleFn,\n          isLast: decoratorKey === lastLeafSet && jj === lastLeaf\n        });\n      }).toArray();\n\n      if (!decoratorKey || !decorator) {\n        return Leaves;\n      }\n\n      return React.createElement(DraftEditorDecoratedLeaves, {\n        block: block,\n        children: Leaves,\n        contentState: contentState,\n        decorator: decorator,\n        decoratorKey: decoratorKey,\n        direction: direction,\n        leafSet: leafSet,\n        text: text,\n        key: ii\n      });\n    }).toArray();\n    return React.createElement(\"div\", {\n      \"data-offset-key\": DraftOffsetKey.encode(blockKey, 0, 0),\n      className: cx({\n        'public/DraftStyleDefault/block': true,\n        'public/DraftStyleDefault/ltr': direction === 'LTR',\n        'public/DraftStyleDefault/rtl': direction === 'RTL'\n      })\n    }, children);\n  };\n\n  return DraftEditorNode;\n}(React.Component);\n\nmodule.exports = DraftEditorNode;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() { _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar React = require(\"react\");\n\nvar UnicodeBidi = require(\"fbjs/lib/UnicodeBidi\");\n\nvar UnicodeBidiDirection = require(\"fbjs/lib/UnicodeBidiDirection\");\n\nvar DraftEditorDecoratedLeaves = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorDecoratedLeaves, _React$Component);\n\n  function DraftEditorDecoratedLeaves() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = DraftEditorDecoratedLeaves.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        block = _this$props.block,\n        children = _this$props.children,\n        contentState = _this$props.contentState,\n        decorator = _this$props.decorator,\n        decoratorKey = _this$props.decoratorKey,\n        direction = _this$props.direction,\n        leafSet = _this$props.leafSet,\n        text = _this$props.text;\n    var blockKey = block.getKey();\n    var leavesForLeafSet = leafSet.get('leaves');\n    var DecoratorComponent = decorator.getComponentForKey(decoratorKey);\n    var decoratorProps = decorator.getPropsForKey(decoratorKey);\n    var decoratorOffsetKey = DraftOffsetKey.encode(blockKey, parseInt(decoratorKey, 10), 0);\n    var decoratedText = text.slice(leavesForLeafSet.first().get('start'), leavesForLeafSet.last().get('end')); // Resetting dir to the same value on a child node makes Chrome/Firefox\n    // confused on cursor movement. See http://jsfiddle.net/d157kLck/3/\n\n    var dir = UnicodeBidiDirection.getHTMLDirIfDifferent(UnicodeBidi.getDirection(decoratedText), direction);\n    return React.createElement(DecoratorComponent, _extends({}, decoratorProps, {\n      contentState: contentState,\n      decoratedText: decoratedText,\n      dir: dir,\n      key: decoratorOffsetKey,\n      entityKey: block.getEntityAt(leafSet.get('start')),\n      offsetKey: decoratorOffsetKey\n    }), children);\n  };\n\n  return DraftEditorDecoratedLeaves;\n}(React.Component);\n\nmodule.exports = DraftEditorDecoratedLeaves;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar React = require(\"react\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isElement = require(\"./isElement\"); // In IE, spans with <br> tags render as two newlines. By rendering a span\n// with only a newline character, we can be sure to render a single line.\n\n\nvar useNewlineChar = UserAgent.isBrowser('IE <= 11');\n/**\n * Check whether the node should be considered a newline.\n */\n\nfunction isNewline(node) {\n  return useNewlineChar ? node.textContent === '\\n' : node.tagName === 'BR';\n}\n/**\n * Placeholder elements for empty text content.\n *\n * What is this `data-text` attribute, anyway? It turns out that we need to\n * put an attribute on the lowest-level text node in order to preserve correct\n * spellcheck handling. If the <span> is naked, Chrome and Safari may do\n * bizarre things to do the DOM -- split text nodes, create extra spans, etc.\n * If the <span> has an attribute, this appears not to happen.\n * See http://jsfiddle.net/9khdavod/ for the failure case, and\n * http://jsfiddle.net/7pg143f7/ for the fixed case.\n */\n\n\nvar NEWLINE_A = function NEWLINE_A(ref) {\n  return useNewlineChar ? React.createElement(\"span\", {\n    key: \"A\",\n    \"data-text\": \"true\",\n    ref: ref\n  }, '\\n') : React.createElement(\"br\", {\n    key: \"A\",\n    \"data-text\": \"true\",\n    ref: ref\n  });\n};\n\nvar NEWLINE_B = function NEWLINE_B(ref) {\n  return useNewlineChar ? React.createElement(\"span\", {\n    key: \"B\",\n    \"data-text\": \"true\",\n    ref: ref\n  }, '\\n') : React.createElement(\"br\", {\n    key: \"B\",\n    \"data-text\": \"true\",\n    ref: ref\n  });\n};\n\n/**\n * The lowest-level component in a `DraftEditor`, the text node component\n * replaces the default React text node implementation. This allows us to\n * perform custom handling of newline behavior and avoid re-rendering text\n * nodes with DOM state that already matches the expectations of our immutable\n * editor state.\n */\nvar DraftEditorTextNode = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorTextNode, _React$Component);\n\n  function DraftEditorTextNode(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this; // By flipping this flag, we also keep flipping keys which forces\n    // React to remount this node every time it rerenders.\n\n    _defineProperty(_assertThisInitialized(_this), \"_forceFlag\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_node\", void 0);\n\n    _this._forceFlag = false;\n    return _this;\n  }\n\n  var _proto = DraftEditorTextNode.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    var node = this._node;\n    var shouldBeNewline = nextProps.children === '';\n    !isElement(node) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'node is not an Element') : invariant(false) : void 0;\n    var elementNode = node;\n\n    if (shouldBeNewline) {\n      return !isNewline(elementNode);\n    }\n\n    return elementNode.textContent !== nextProps.children;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._forceFlag = !this._forceFlag;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this._forceFlag = !this._forceFlag;\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    if (this.props.children === '') {\n      return this._forceFlag ? NEWLINE_A(function (ref) {\n        return _this2._node = ref;\n      }) : NEWLINE_B(function (ref) {\n        return _this2._node = ref;\n      });\n    }\n\n    return React.createElement(\"span\", {\n      key: this._forceFlag ? 'A' : 'B',\n      \"data-text\": \"true\",\n      ref: function ref(_ref) {\n        return _this2._node = _ref;\n      }\n    }, this.props.children);\n  };\n\n  return DraftEditorTextNode;\n}(React.Component);\n\nmodule.exports = DraftEditorTextNode;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftEffects = require(\"./DraftEffects\");\n\nvar DraftJsDebugLogging = require(\"./DraftJsDebugLogging\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar containsNode = require(\"fbjs/lib/containsNode\");\n\nvar getActiveElement = require(\"fbjs/lib/getActiveElement\");\n\nvar getCorrectDocumentFromNode = require(\"./getCorrectDocumentFromNode\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isElement = require(\"./isElement\");\n\nvar isIE = UserAgent.isBrowser('IE');\n\nfunction getAnonymizedDOM(node, getNodeLabels) {\n  if (!node) {\n    return '[empty]';\n  }\n\n  var anonymized = anonymizeTextWithin(node, getNodeLabels);\n\n  if (anonymized.nodeType === Node.TEXT_NODE) {\n    return anonymized.textContent;\n  }\n\n  !isElement(anonymized) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Node must be an Element if it is not a text node.') : invariant(false) : void 0;\n  var castedElement = anonymized;\n  return castedElement.outerHTML;\n}\n\nfunction anonymizeTextWithin(node, getNodeLabels) {\n  var labels = getNodeLabels !== undefined ? getNodeLabels(node) : [];\n\n  if (node.nodeType === Node.TEXT_NODE) {\n    var length = node.textContent.length;\n    return getCorrectDocumentFromNode(node).createTextNode('[text ' + length + (labels.length ? ' | ' + labels.join(', ') : '') + ']');\n  }\n\n  var clone = node.cloneNode();\n\n  if (clone.nodeType === 1 && labels.length) {\n    clone.setAttribute('data-labels', labels.join(', '));\n  }\n\n  var childNodes = node.childNodes;\n\n  for (var ii = 0; ii < childNodes.length; ii++) {\n    clone.appendChild(anonymizeTextWithin(childNodes[ii], getNodeLabels));\n  }\n\n  return clone;\n}\n\nfunction getAnonymizedEditorDOM(node, getNodeLabels) {\n  // grabbing the DOM content of the Draft editor\n  var currentNode = node; // this should only be used after checking with isElement\n\n  var castedNode = currentNode;\n\n  while (currentNode) {\n    if (isElement(currentNode) && castedNode.hasAttribute('contenteditable')) {\n      // found the Draft editor container\n      return getAnonymizedDOM(currentNode, getNodeLabels);\n    } else {\n      currentNode = currentNode.parentNode;\n      castedNode = currentNode;\n    }\n  }\n\n  return 'Could not find contentEditable parent of node';\n}\n\nfunction getNodeLength(node) {\n  return node.nodeValue === null ? node.childNodes.length : node.nodeValue.length;\n}\n/**\n * In modern non-IE browsers, we can support both forward and backward\n * selections.\n *\n * Note: IE10+ supports the Selection object, but it does not support\n * the `extend` method, which means that even in modern IE, it's not possible\n * to programatically create a backward selection. Thus, for all IE\n * versions, we use the old IE API to create our selections.\n */\n\n\nfunction setDraftEditorSelection(selectionState, node, blockKey, nodeStart, nodeEnd) {\n  // It's possible that the editor has been removed from the DOM but\n  // our selection code doesn't know it yet. Forcing selection in\n  // this case may lead to errors, so just bail now.\n  var documentObject = getCorrectDocumentFromNode(node);\n\n  if (!containsNode(documentObject.documentElement, node)) {\n    return;\n  }\n\n  var selection = documentObject.defaultView.getSelection();\n  var anchorKey = selectionState.getAnchorKey();\n  var anchorOffset = selectionState.getAnchorOffset();\n  var focusKey = selectionState.getFocusKey();\n  var focusOffset = selectionState.getFocusOffset();\n  var isBackward = selectionState.getIsBackward(); // IE doesn't support backward selection. Swap key/offset pairs.\n\n  if (!selection.extend && isBackward) {\n    var tempKey = anchorKey;\n    var tempOffset = anchorOffset;\n    anchorKey = focusKey;\n    anchorOffset = focusOffset;\n    focusKey = tempKey;\n    focusOffset = tempOffset;\n    isBackward = false;\n  }\n\n  var hasAnchor = anchorKey === blockKey && nodeStart <= anchorOffset && nodeEnd >= anchorOffset;\n  var hasFocus = focusKey === blockKey && nodeStart <= focusOffset && nodeEnd >= focusOffset; // If the selection is entirely bound within this node, set the selection\n  // and be done.\n\n  if (hasAnchor && hasFocus) {\n    selection.removeAllRanges();\n    addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n    addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    return;\n  }\n\n  if (!isBackward) {\n    // If the anchor is within this node, set the range start.\n    if (hasAnchor) {\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n    } // If the focus is within this node, we can assume that we have\n    // already set the appropriate start range on the selection, and\n    // can simply extend the selection.\n\n\n    if (hasFocus) {\n      addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    }\n  } else {\n    // If this node has the focus, set the selection range to be a\n    // collapsed range beginning here. Later, when we encounter the anchor,\n    // we'll use this information to extend the selection.\n    if (hasFocus) {\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    } // If this node has the anchor, we may assume that the correct\n    // focus information is already stored on the selection object.\n    // We keep track of it, reset the selection range, and extend it\n    // back to the focus point.\n\n\n    if (hasAnchor) {\n      var storedFocusNode = selection.focusNode;\n      var storedFocusOffset = selection.focusOffset;\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n      addFocusToSelection(selection, storedFocusNode, storedFocusOffset, selectionState);\n    }\n  }\n}\n/**\n * Extend selection towards focus point.\n */\n\n\nfunction addFocusToSelection(selection, node, offset, selectionState) {\n  var activeElement = getActiveElement();\n  var extend = selection.extend; // containsNode returns false if node is null.\n  // Let's refine the type of this value out here so flow knows.\n\n  if (extend && node != null && containsNode(activeElement, node)) {\n    // If `extend` is called while another element has focus, an error is\n    // thrown. We therefore disable `extend` if the active element is somewhere\n    // other than the node we are selecting. This should only occur in Firefox,\n    // since it is the only browser to support multiple selections.\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=921444.\n    // logging to catch bug that is being reported in t16250795\n    if (offset > getNodeLength(node)) {\n      // the call to 'selection.extend' is about to throw\n      DraftJsDebugLogging.logSelectionStateFailure({\n        anonymizedDom: getAnonymizedEditorDOM(node),\n        extraParams: JSON.stringify({\n          offset: offset\n        }),\n        selectionState: JSON.stringify(selectionState.toJS())\n      });\n    } // logging to catch bug that is being reported in t18110632\n\n\n    var nodeWasFocus = node === selection.focusNode;\n\n    try {\n      // Fixes some reports of \"InvalidStateError: Failed to execute 'extend' on\n      // 'Selection': This Selection object doesn't have any Ranges.\"\n      // Note: selection.extend does not exist in IE.\n      if (selection.rangeCount > 0 && selection.extend) {\n        selection.extend(node, offset);\n      }\n    } catch (e) {\n      DraftJsDebugLogging.logSelectionStateFailure({\n        anonymizedDom: getAnonymizedEditorDOM(node, function (n) {\n          var labels = [];\n\n          if (n === activeElement) {\n            labels.push('active element');\n          }\n\n          if (n === selection.anchorNode) {\n            labels.push('selection anchor node');\n          }\n\n          if (n === selection.focusNode) {\n            labels.push('selection focus node');\n          }\n\n          return labels;\n        }),\n        extraParams: JSON.stringify({\n          activeElementName: activeElement ? activeElement.nodeName : null,\n          nodeIsFocus: node === selection.focusNode,\n          nodeWasFocus: nodeWasFocus,\n          selectionRangeCount: selection.rangeCount,\n          selectionAnchorNodeName: selection.anchorNode ? selection.anchorNode.nodeName : null,\n          selectionAnchorOffset: selection.anchorOffset,\n          selectionFocusNodeName: selection.focusNode ? selection.focusNode.nodeName : null,\n          selectionFocusOffset: selection.focusOffset,\n          message: e ? '' + e : null,\n          offset: offset\n        }, null, 2),\n        selectionState: JSON.stringify(selectionState.toJS(), null, 2)\n      }); // allow the error to be thrown -\n      // better than continuing in a broken state\n\n      throw e;\n    }\n  } else {\n    // IE doesn't support extend. This will mean no backward selection.\n    // Extract the existing selection range and add focus to it.\n    // Additionally, clone the selection range. IE11 throws an\n    // InvalidStateError when attempting to access selection properties\n    // after the range is detached.\n    if (node && selection.rangeCount > 0) {\n      var range = selection.getRangeAt(0);\n      range.setEnd(node, offset);\n      selection.addRange(range.cloneRange());\n    }\n  }\n}\n\nfunction addPointToSelection(selection, node, offset, selectionState) {\n  var range = getCorrectDocumentFromNode(node).createRange(); // logging to catch bug that is being reported in t16250795\n\n  if (offset > getNodeLength(node)) {\n    // in this case we know that the call to 'range.setStart' is about to throw\n    DraftJsDebugLogging.logSelectionStateFailure({\n      anonymizedDom: getAnonymizedEditorDOM(node),\n      extraParams: JSON.stringify({\n        offset: offset\n      }),\n      selectionState: JSON.stringify(selectionState.toJS())\n    });\n    DraftEffects.handleExtensionCausedError();\n  }\n\n  range.setStart(node, offset); // IE sometimes throws Unspecified Error when trying to addRange\n\n  if (isIE) {\n    try {\n      selection.addRange(range);\n    } catch (e) {\n      if (process.env.NODE_ENV !== \"production\") {\n        /* eslint-disable-next-line no-console */\n        console.warn('Call to selection.addRange() threw exception: ', e);\n      }\n    }\n  } else {\n    selection.addRange(range);\n  }\n}\n\nmodule.exports = {\n  setDraftEditorSelection: setDraftEditorSelection,\n  addFocusToSelection: addFocusToSelection\n};","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\nvar isNode = require(\"./isNode\");\n/**\n * @param {*} object The object to check.\n * @return {boolean} Whether or not the object is a DOM text node.\n */\n\n\nfunction isTextNode(object) {\n  return isNode(object) && object.nodeType == 3;\n}\n\nmodule.exports = isTextNode;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\n/**\n * @param {*} object The object to check.\n * @return {boolean} Whether or not the object is a DOM node.\n */\nfunction isNode(object) {\n  var doc = object ? object.ownerDocument || object : document;\n  var defaultView = doc.defaultView || window;\n  return !!(object && (typeof defaultView.Node === 'function' ? object instanceof defaultView.Node : typeof object === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string'));\n}\n\nmodule.exports = isNode;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\nvar camelize = require(\"./camelize\");\n\nvar hyphenate = require(\"./hyphenate\");\n\nfunction asString(value)\n/*?string*/\n{\n  return value == null ? value : String(value);\n}\n\nfunction getStyleProperty(\n/*DOMNode*/\nnode,\n/*string*/\nname)\n/*?string*/\n{\n  var computedStyle; // W3C Standard\n\n  if (window.getComputedStyle) {\n    // In certain cases such as within an iframe in FF3, this returns null.\n    computedStyle = window.getComputedStyle(node, null);\n\n    if (computedStyle) {\n      return asString(computedStyle.getPropertyValue(hyphenate(name)));\n    }\n  } // Safari\n\n\n  if (document.defaultView && document.defaultView.getComputedStyle) {\n    computedStyle = document.defaultView.getComputedStyle(node, null); // A Safari bug causes this to return null for `display: none` elements.\n\n    if (computedStyle) {\n      return asString(computedStyle.getPropertyValue(hyphenate(name)));\n    }\n\n    if (name === 'display') {\n      return 'none';\n    }\n  } // Internet Explorer\n\n\n  if (node.currentStyle) {\n    if (name === 'float') {\n      return asString(node.currentStyle.cssFloat || node.currentStyle.styleFloat);\n    }\n\n    return asString(node.currentStyle[camelize(name)]);\n  }\n\n  return asString(node.style && node.style[camelize(name)]);\n}\n\nmodule.exports = getStyleProperty;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\nvar _hyphenPattern = /-(.)/g;\n/**\n * Camelcases a hyphenated string, for example:\n *\n *   > camelize('background-color')\n *   < \"backgroundColor\"\n *\n * @param {string} string\n * @return {string}\n */\n\nfunction camelize(string) {\n  return string.replace(_hyphenPattern, function (_, character) {\n    return character.toUpperCase();\n  });\n}\n\nmodule.exports = camelize;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\nvar _uppercasePattern = /([A-Z])/g;\n/**\n * Hyphenates a camelcased string, for example:\n *\n *   > hyphenate('backgroundColor')\n *   < \"background-color\"\n *\n * For CSS style names, use `hyphenateStyleName` instead which works properly\n * with all vendor prefixes, including `ms`.\n *\n * @param {string} string\n * @return {string}\n */\n\nfunction hyphenate(string) {\n  return string.replace(_uppercasePattern, '-$1').toLowerCase();\n}\n\nmodule.exports = hyphenate;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\nvar containsNode = require(\"./containsNode\");\n/**\n * Gets an element's bounding rect in pixels relative to the viewport.\n *\n * @param {DOMElement} elem\n * @return {object}\n */\n\n\nfunction getElementRect(elem) {\n  var docElem = elem.ownerDocument.documentElement; // FF 2, Safari 3 and Opera 9.5- do not support getBoundingClientRect().\n  // IE9- will throw if the element is not in the document.\n\n  if (!('getBoundingClientRect' in elem) || !containsNode(docElem, elem)) {\n    return {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n  } // Subtracts clientTop/Left because IE8- added a 2px border to the\n  // <html> element (see http://fburl.com/1493213). IE 7 in\n  // Quicksmode does not report clientLeft/clientTop so there\n  // will be an unaccounted offset of 2px when in quirksmode\n\n\n  var rect = elem.getBoundingClientRect();\n  return {\n    left: Math.round(rect.left) - docElem.clientLeft,\n    right: Math.round(rect.right) - docElem.clientLeft,\n    top: Math.round(rect.top) - docElem.clientTop,\n    bottom: Math.round(rect.bottom) - docElem.clientTop\n  };\n}\n\nmodule.exports = getElementRect;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n'use strict';\n\nvar isWebkit = typeof navigator !== 'undefined' && navigator.userAgent.indexOf('AppleWebKit') > -1;\n/**\n * Gets the element with the document scroll properties such as `scrollLeft` and\n * `scrollHeight`. This may differ across different browsers.\n *\n * NOTE: The return value can be null if the DOM is not yet ready.\n *\n * @param {?DOMDocument} doc Defaults to current document.\n * @return {?DOMElement}\n */\n\nfunction getDocumentScrollElement(doc) {\n  doc = doc || document;\n\n  if (doc.scrollingElement) {\n    return doc.scrollingElement;\n  }\n\n  return !isWebkit && doc.compatMode === 'CSS1Compat' ? doc.documentElement : doc.body;\n}\n\nmodule.exports = getDocumentScrollElement;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n'use strict';\n/**\n * Gets the scroll position of the supplied element or window.\n *\n * The return values are unbounded, unlike `getScrollPosition`. This means they\n * may be negative or exceed the element boundaries (which is possible using\n * inertial scrolling).\n *\n * @param {DOMWindow|DOMElement} scrollable\n * @return {object} Map with `x` and `y` keys.\n */\n\nfunction getUnboundedScrollPosition(scrollable) {\n  if (scrollable.Window && scrollable instanceof scrollable.Window) {\n    return {\n      x: scrollable.pageXOffset || scrollable.document.documentElement.scrollLeft,\n      y: scrollable.pageYOffset || scrollable.document.documentElement.scrollTop\n    };\n  }\n\n  return {\n    x: scrollable.scrollLeft,\n    y: scrollable.scrollTop\n  };\n}\n\nmodule.exports = getUnboundedScrollPosition;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() { _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar DraftEditorBlock = require(\"./DraftEditorBlock.react\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar React = require(\"react\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar joinClasses = require(\"fbjs/lib/joinClasses\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\n/**\n * Provide default styling for list items. This way, lists will be styled with\n * proper counters and indentation even if the caller does not specify\n * their own styling at all. If more than five levels of nesting are needed,\n * the necessary CSS classes can be provided via `blockStyleFn` configuration.\n */\nvar getListItemClasses = function getListItemClasses(type, depth, shouldResetCount, direction) {\n  return cx({\n    'public/DraftStyleDefault/unorderedListItem': type === 'unordered-list-item',\n    'public/DraftStyleDefault/orderedListItem': type === 'ordered-list-item',\n    'public/DraftStyleDefault/reset': shouldResetCount,\n    'public/DraftStyleDefault/depth0': depth === 0,\n    'public/DraftStyleDefault/depth1': depth === 1,\n    'public/DraftStyleDefault/depth2': depth === 2,\n    'public/DraftStyleDefault/depth3': depth === 3,\n    'public/DraftStyleDefault/depth4': depth >= 4,\n    'public/DraftStyleDefault/listLTR': direction === 'LTR',\n    'public/DraftStyleDefault/listRTL': direction === 'RTL'\n  });\n};\n/**\n * `DraftEditorContents` is the container component for all block components\n * rendered for a `DraftEditor`. It is optimized to aggressively avoid\n * re-rendering blocks whenever possible.\n *\n * This component is separate from `DraftEditor` because certain props\n * (for instance, ARIA props) must be allowed to update without affecting\n * the contents of the editor.\n */\n\n\nvar DraftEditorContents = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorContents, _React$Component);\n\n  function DraftEditorContents() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = DraftEditorContents.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    var prevEditorState = this.props.editorState;\n    var nextEditorState = nextProps.editorState;\n    var prevDirectionMap = prevEditorState.getDirectionMap();\n    var nextDirectionMap = nextEditorState.getDirectionMap(); // Text direction has changed for one or more blocks. We must re-render.\n\n    if (prevDirectionMap !== nextDirectionMap) {\n      return true;\n    }\n\n    var didHaveFocus = prevEditorState.getSelection().getHasFocus();\n    var nowHasFocus = nextEditorState.getSelection().getHasFocus();\n\n    if (didHaveFocus !== nowHasFocus) {\n      return true;\n    }\n\n    var nextNativeContent = nextEditorState.getNativelyRenderedContent();\n    var wasComposing = prevEditorState.isInCompositionMode();\n    var nowComposing = nextEditorState.isInCompositionMode(); // If the state is unchanged or we're currently rendering a natively\n    // rendered state, there's nothing new to be done.\n\n    if (prevEditorState === nextEditorState || nextNativeContent !== null && nextEditorState.getCurrentContent() === nextNativeContent || wasComposing && nowComposing) {\n      return false;\n    }\n\n    var prevContent = prevEditorState.getCurrentContent();\n    var nextContent = nextEditorState.getCurrentContent();\n    var prevDecorator = prevEditorState.getDecorator();\n    var nextDecorator = nextEditorState.getDecorator();\n    return wasComposing !== nowComposing || prevContent !== nextContent || prevDecorator !== nextDecorator || nextEditorState.mustForceSelection();\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        blockRenderMap = _this$props.blockRenderMap,\n        blockRendererFn = _this$props.blockRendererFn,\n        blockStyleFn = _this$props.blockStyleFn,\n        customStyleMap = _this$props.customStyleMap,\n        customStyleFn = _this$props.customStyleFn,\n        editorState = _this$props.editorState,\n        editorKey = _this$props.editorKey,\n        preventScroll = _this$props.preventScroll,\n        textDirectionality = _this$props.textDirectionality;\n    var content = editorState.getCurrentContent();\n    var selection = editorState.getSelection();\n    var forceSelection = editorState.mustForceSelection();\n    var decorator = editorState.getDecorator();\n    var directionMap = nullthrows(editorState.getDirectionMap());\n    var blocksAsArray = content.getBlocksAsArray();\n    var processedBlocks = [];\n    var currentDepth = null;\n    var lastWrapperTemplate = null;\n\n    for (var ii = 0; ii < blocksAsArray.length; ii++) {\n      var _block = blocksAsArray[ii];\n\n      var key = _block.getKey();\n\n      var blockType = _block.getType();\n\n      var customRenderer = blockRendererFn(_block);\n      var CustomComponent = void 0,\n          customProps = void 0,\n          customEditable = void 0;\n\n      if (customRenderer) {\n        CustomComponent = customRenderer.component;\n        customProps = customRenderer.props;\n        customEditable = customRenderer.editable;\n      }\n\n      var direction = textDirectionality ? textDirectionality : directionMap.get(key);\n      var offsetKey = DraftOffsetKey.encode(key, 0, 0);\n      var componentProps = {\n        contentState: content,\n        block: _block,\n        blockProps: customProps,\n        blockStyleFn: blockStyleFn,\n        customStyleMap: customStyleMap,\n        customStyleFn: customStyleFn,\n        decorator: decorator,\n        direction: direction,\n        forceSelection: forceSelection,\n        offsetKey: offsetKey,\n        preventScroll: preventScroll,\n        selection: selection,\n        tree: editorState.getBlockTree(key)\n      };\n      var configForType = blockRenderMap.get(blockType) || blockRenderMap.get('unstyled');\n      var wrapperTemplate = configForType.wrapper;\n      var Element = configForType.element || blockRenderMap.get('unstyled').element;\n\n      var depth = _block.getDepth();\n\n      var _className = '';\n\n      if (blockStyleFn) {\n        _className = blockStyleFn(_block);\n      } // List items are special snowflakes, since we handle nesting and\n      // counters manually.\n\n\n      if (Element === 'li') {\n        var shouldResetCount = lastWrapperTemplate !== wrapperTemplate || currentDepth === null || depth > currentDepth;\n        _className = joinClasses(_className, getListItemClasses(blockType, depth, shouldResetCount, direction));\n      }\n\n      var Component = CustomComponent || DraftEditorBlock;\n      var childProps = {\n        className: _className,\n        'data-block': true,\n        'data-editor': editorKey,\n        'data-offset-key': offsetKey,\n        key: key\n      };\n\n      if (customEditable !== undefined) {\n        childProps = _objectSpread({}, childProps, {\n          contentEditable: customEditable,\n          suppressContentEditableWarning: true\n        });\n      }\n\n      var child = React.createElement(Element, childProps,\n      /* $FlowFixMe[incompatible-type] (>=0.112.0 site=www,mobile) This\n       * comment suppresses an error found when Flow v0.112 was deployed. To\n       * see the error delete this comment and run Flow. */\n      React.createElement(Component, _extends({}, componentProps, {\n        key: key\n      })));\n      processedBlocks.push({\n        block: child,\n        wrapperTemplate: wrapperTemplate,\n        key: key,\n        offsetKey: offsetKey\n      });\n\n      if (wrapperTemplate) {\n        currentDepth = _block.getDepth();\n      } else {\n        currentDepth = null;\n      }\n\n      lastWrapperTemplate = wrapperTemplate;\n    } // Group contiguous runs of blocks that have the same wrapperTemplate\n\n\n    var outputBlocks = [];\n\n    for (var _ii = 0; _ii < processedBlocks.length;) {\n      var info = processedBlocks[_ii];\n\n      if (info.wrapperTemplate) {\n        var blocks = [];\n\n        do {\n          blocks.push(processedBlocks[_ii].block);\n          _ii++;\n        } while (_ii < processedBlocks.length && processedBlocks[_ii].wrapperTemplate === info.wrapperTemplate);\n\n        var wrapperElement = React.cloneElement(info.wrapperTemplate, {\n          key: info.key + '-wrap',\n          'data-offset-key': info.offsetKey\n        }, blocks);\n        outputBlocks.push(wrapperElement);\n      } else {\n        outputBlocks.push(info.block);\n        _ii++;\n      }\n    }\n\n    return React.createElement(\"div\", {\n      \"data-contents\": \"true\"\n    }, outputBlocks);\n  };\n\n  return DraftEditorContents;\n}(React.Component);\n\nmodule.exports = DraftEditorContents;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @typechecks static-only\n */\n'use strict';\n/**\n * Combines multiple className strings into one.\n */\n\nfunction joinClasses(className) {\n  var newClassName = className || '';\n  var argLength = arguments.length;\n\n  if (argLength > 1) {\n    for (var index = 1; index < argLength; index++) {\n      var nextClass = arguments[index];\n\n      if (nextClass) {\n        newClassName = (newClassName ? newClassName + ' ' : '') + nextClass;\n      }\n    }\n  }\n\n  return newClassName;\n}\n\nmodule.exports = joinClasses;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DataTransfer = require(\"fbjs/lib/DataTransfer\");\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar findAncestorOffsetKey = require(\"./findAncestorOffsetKey\");\n\nvar getCorrectDocumentFromNode = require(\"./getCorrectDocumentFromNode\");\n\nvar getTextContentFromFiles = require(\"./getTextContentFromFiles\");\n\nvar getUpdatedSelectionState = require(\"./getUpdatedSelectionState\");\n\nvar getWindowForNode = require(\"./getWindowForNode\");\n\nvar isEventHandled = require(\"./isEventHandled\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n/**\n * Get a SelectionState for the supplied mouse event.\n */\n\n\nfunction getSelectionForEvent(event, editorState) {\n  var node = null;\n  var offset = null;\n  var eventTargetDocument = getCorrectDocumentFromNode(event.currentTarget);\n  /* $FlowFixMe[prop-missing] (>=0.68.0 site=www,mobile) This comment\n   * suppresses an error found when Flow v0.68 was deployed. To see the error\n   * delete this comment and run Flow. */\n\n  if (typeof eventTargetDocument.caretRangeFromPoint === 'function') {\n    /* $FlowFixMe[incompatible-use] (>=0.68.0 site=www,mobile) This comment\n     * suppresses an error found when Flow v0.68 was deployed. To see the error\n     * delete this comment and run Flow. */\n    var dropRange = eventTargetDocument.caretRangeFromPoint(event.x, event.y);\n    node = dropRange.startContainer;\n    offset = dropRange.startOffset;\n  } else if (event.rangeParent) {\n    node = event.rangeParent;\n    offset = event.rangeOffset;\n  } else {\n    return null;\n  }\n\n  node = nullthrows(node);\n  offset = nullthrows(offset);\n  var offsetKey = nullthrows(findAncestorOffsetKey(node));\n  return getUpdatedSelectionState(editorState, offsetKey, offset, offsetKey, offset);\n}\n\nvar DraftEditorDragHandler = {\n  /**\n   * Drag originating from input terminated.\n   */\n  onDragEnd: function onDragEnd(editor) {\n    editor.exitCurrentMode();\n    endDrag(editor);\n  },\n\n  /**\n   * Handle data being dropped.\n   */\n  onDrop: function onDrop(editor, e) {\n    var data = new DataTransfer(e.nativeEvent.dataTransfer);\n    var editorState = editor._latestEditorState;\n    var dropSelection = getSelectionForEvent(e.nativeEvent, editorState);\n    e.preventDefault();\n    editor._dragCount = 0;\n    editor.exitCurrentMode();\n\n    if (dropSelection == null) {\n      return;\n    }\n\n    var files = data.getFiles();\n\n    if (files.length > 0) {\n      if (editor.props.handleDroppedFiles && isEventHandled(editor.props.handleDroppedFiles(dropSelection, files))) {\n        return;\n      }\n      /* $FlowFixMe[incompatible-call] This comment suppresses an error found\n       * DataTransfer was typed. getFiles() returns an array of <Files extends\n       * Blob>, not Blob */\n\n\n      getTextContentFromFiles(files, function (fileText) {\n        fileText && editor.update(insertTextAtSelection(editorState, dropSelection, fileText));\n      });\n      return;\n    }\n\n    var dragType = editor._internalDrag ? 'internal' : 'external';\n\n    if (editor.props.handleDrop && isEventHandled(editor.props.handleDrop(dropSelection, data, dragType))) {// handled\n    } else if (editor._internalDrag) {\n      editor.update(moveText(editorState, dropSelection));\n    } else {\n      editor.update(insertTextAtSelection(editorState, dropSelection, data.getText()));\n    }\n\n    endDrag(editor);\n  }\n};\n\nfunction endDrag(editor) {\n  editor._internalDrag = false; // Fix issue #1383\n  // Prior to React v16.5.0 onDrop breaks onSelect event:\n  // https://github.com/facebook/react/issues/11379.\n  // Dispatching a mouseup event on DOM node will make it go back to normal.\n\n  var editorNode = editor.editorContainer;\n\n  if (editorNode) {\n    var mouseUpEvent = new MouseEvent('mouseup', {\n      view: getWindowForNode(editorNode),\n      bubbles: true,\n      cancelable: true\n    });\n    editorNode.dispatchEvent(mouseUpEvent);\n  }\n}\n\nfunction moveText(editorState, targetSelection) {\n  var newContentState = DraftModifier.moveText(editorState.getCurrentContent(), editorState.getSelection(), targetSelection);\n  return EditorState.push(editorState, newContentState, 'insert-fragment');\n}\n/**\n * Insert text at a specified selection.\n */\n\n\nfunction insertTextAtSelection(editorState, selection, text) {\n  var newContentState = DraftModifier.insertText(editorState.getCurrentContent(), selection, text, editorState.getCurrentInlineStyle());\n  return EditorState.push(editorState, newContentState, 'insert-fragment');\n}\n\nmodule.exports = DraftEditorDragHandler;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar PhotosMimeType = {\n  isImage: function isImage(mimeString) {\n    return getParts(mimeString)[0] === 'image';\n  },\n  isJpeg: function isJpeg(mimeString) {\n    var parts = getParts(mimeString);\n    return PhotosMimeType.isImage(mimeString) && ( // see http://fburl.com/10972194\n    parts[1] === 'jpeg' || parts[1] === 'pjpeg');\n  }\n};\n\nfunction getParts(mimeString) {\n  return mimeString.split('/');\n}\n\nmodule.exports = PhotosMimeType;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\nvar invariant = require(\"./invariant\");\n/**\n * Convert array-like objects to arrays.\n *\n * This API assumes the caller knows the contents of the data type. For less\n * well defined inputs use createArrayFromMixed.\n *\n * @param {object|function|filelist} obj\n * @return {array}\n */\n\n\nfunction toArray(obj) {\n  var length = obj.length; // Some browsers builtin objects can report typeof 'function' (e.g. NodeList\n  // in old versions of Safari).\n\n  !(!Array.isArray(obj) && (typeof obj === 'object' || typeof obj === 'function')) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'toArray: Array-like object expected') : invariant(false) : void 0;\n  !(typeof length === 'number') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'toArray: Object needs a length property') : invariant(false) : void 0;\n  !(length === 0 || length - 1 in obj) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'toArray: Object should have keys for indices') : invariant(false) : void 0;\n  !(typeof obj.callee !== 'function') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'toArray: Object can\\'t be `arguments`. Use rest params ' + '(function(...args) {}) or Array.from() instead.') : invariant(false) : void 0; // Old IE doesn't give collections access to hasOwnProperty. Assume inputs\n  // without method will throw during the slice call and skip straight to the\n  // fallback.\n\n  if (obj.hasOwnProperty) {\n    try {\n      return Array.prototype.slice.call(obj);\n    } catch (e) {// IE < 9 does not support Array#slice on collections objects\n    }\n  } // Fall back to copying key by key. This assumes all keys have a value,\n  // so will not preserve sparsely populated inputs.\n\n\n  var ret = Array(length);\n\n  for (var ii = 0; ii < length; ii++) {\n    ret[ii] = obj[ii];\n  }\n\n  return ret;\n}\n/**\n * Perform a heuristic test to determine if an object is \"array-like\".\n *\n *   A monk asked Joshu, a Zen master, \"Has a dog Buddha nature?\"\n *   Joshu replied: \"Mu.\"\n *\n * This function determines if its argument has \"array nature\": it returns\n * true if the argument is an actual array, an `arguments' object, or an\n * HTMLCollection (e.g. node.childNodes or node.getElementsByTagName()).\n *\n * It will return false for other array-like objects like Filelist.\n *\n * @param {*} obj\n * @return {boolean}\n */\n\n\nfunction hasArrayNature(obj) {\n  return (// not null/false\n    !!obj && ( // arrays are objects, NodeLists are functions in Safari\n    typeof obj == 'object' || typeof obj == 'function') && // quacks like an array\n    'length' in obj && // not window\n    !('setInterval' in obj) && // no DOM node should be considered an array-like\n    // a 'select' element has 'length' and 'item' properties on IE8\n    typeof obj.nodeType != 'number' && ( // a real array\n    Array.isArray(obj) || // arguments\n    'callee' in obj || // HTMLCollection/NodeList\n    'item' in obj)\n  );\n}\n/**\n * Ensure that the argument is an array by wrapping it in an array if it is not.\n * Creates a copy of the argument if it is already an array.\n *\n * This is mostly useful idiomatically:\n *\n *   var createArrayFromMixed = require('createArrayFromMixed');\n *\n *   function takesOneOrMoreThings(things) {\n *     things = createArrayFromMixed(things);\n *     ...\n *   }\n *\n * This allows you to treat `things' as an array, but accept scalars in the API.\n *\n * If you need to convert an array-like object, like `arguments`, into an array\n * use toArray instead.\n *\n * @param {*} obj\n * @return {array}\n */\n\n\nfunction createArrayFromMixed(obj) {\n  if (!hasArrayNature(obj)) {\n    return [obj];\n  } else if (Array.isArray(obj)) {\n    return obj.slice();\n  } else {\n    return toArray(obj);\n  }\n}\n\nmodule.exports = createArrayFromMixed;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar onBeforeInput = require(\"./editOnBeforeInput\");\n\nvar onBlur = require(\"./editOnBlur\");\n\nvar onCompositionStart = require(\"./editOnCompositionStart\");\n\nvar onCopy = require(\"./editOnCopy\");\n\nvar onCut = require(\"./editOnCut\");\n\nvar onDragOver = require(\"./editOnDragOver\");\n\nvar onDragStart = require(\"./editOnDragStart\");\n\nvar onFocus = require(\"./editOnFocus\");\n\nvar onInput = require(\"./editOnInput\");\n\nvar onKeyDown = require(\"./editOnKeyDown\");\n\nvar onPaste = require(\"./editOnPaste\");\n\nvar onSelect = require(\"./editOnSelect\");\n\nvar isChrome = UserAgent.isBrowser('Chrome');\nvar isFirefox = UserAgent.isBrowser('Firefox');\nvar selectionHandler = isChrome || isFirefox ? onSelect : function (e) {};\nvar DraftEditorEditHandler = {\n  onBeforeInput: onBeforeInput,\n  onBlur: onBlur,\n  onCompositionStart: onCompositionStart,\n  onCopy: onCopy,\n  onCut: onCut,\n  onDragOver: onDragOver,\n  onDragStart: onDragStart,\n  onFocus: onFocus,\n  onInput: onInput,\n  onKeyDown: onKeyDown,\n  onPaste: onPaste,\n  onSelect: onSelect,\n  // In certain cases, contenteditable on chrome does not fire the onSelect\n  // event, causing problems with cursor positioning. Therefore, the selection\n  // state update handler is added to more events to ensure that the selection\n  // state is always synced with the actual cursor positions.\n  onMouseUp: selectionHandler,\n  onKeyUp: selectionHandler\n};\nmodule.exports = DraftEditorEditHandler;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar getEntityKeyForSelection = require(\"./getEntityKeyForSelection\");\n\nvar isEventHandled = require(\"./isEventHandled\");\n\nvar isSelectionAtLeafStart = require(\"./isSelectionAtLeafStart\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar setImmediate = require(\"fbjs/lib/setImmediate\"); // When nothing is focused, Firefox regards two characters, `'` and `/`, as\n// commands that should open and focus the \"quickfind\" search bar. This should\n// *never* happen while a contenteditable is focused, but as of v28, it\n// sometimes does, even when the keypress event target is the contenteditable.\n// This breaks the input. Special case these characters to ensure that when\n// they are typed, we prevent default on the event to make sure not to\n// trigger quickfind.\n\n\nvar FF_QUICKFIND_CHAR = \"'\";\nvar FF_QUICKFIND_LINK_CHAR = '/';\nvar isFirefox = UserAgent.isBrowser('Firefox');\n\nfunction mustPreventDefaultForCharacter(character) {\n  return isFirefox && (character == FF_QUICKFIND_CHAR || character == FF_QUICKFIND_LINK_CHAR);\n}\n/**\n * Replace the current selection with the specified text string, with the\n * inline style and entity key applied to the newly inserted text.\n */\n\n\nfunction replaceText(editorState, text, inlineStyle, entityKey, forceSelection) {\n  var contentState = DraftModifier.replaceText(editorState.getCurrentContent(), editorState.getSelection(), text, inlineStyle, entityKey);\n  return EditorState.push(editorState, contentState, 'insert-characters', forceSelection);\n}\n/**\n * When `onBeforeInput` executes, the browser is attempting to insert a\n * character into the editor. Apply this character data to the document,\n * allowing native insertion if possible.\n *\n * Native insertion is encouraged in order to limit re-rendering and to\n * preserve spellcheck highlighting, which disappears or flashes if re-render\n * occurs on the relevant text nodes.\n */\n\n\nfunction editOnBeforeInput(editor, e) {\n  if (editor._pendingStateFromBeforeInput !== undefined) {\n    editor.update(editor._pendingStateFromBeforeInput);\n    editor._pendingStateFromBeforeInput = undefined;\n  }\n\n  var editorState = editor._latestEditorState;\n  var chars = e.data; // In some cases (ex: IE ideographic space insertion) no character data\n  // is provided. There's nothing to do when this happens.\n\n  if (!chars) {\n    return;\n  } // Allow the top-level component to handle the insertion manually. This is\n  // useful when triggering interesting behaviors for a character insertion,\n  // Simple examples: replacing a raw text ':)' with a smile emoji or image\n  // decorator, or setting a block to be a list item after typing '- ' at the\n  // start of the block.\n\n\n  if (editor.props.handleBeforeInput && isEventHandled(editor.props.handleBeforeInput(chars, editorState, e.timeStamp))) {\n    e.preventDefault();\n    return;\n  } // If selection is collapsed, conditionally allow native behavior. This\n  // reduces re-renders and preserves spellcheck highlighting. If the selection\n  // is not collapsed, we will re-render.\n\n\n  var selection = editorState.getSelection();\n  var selectionStart = selection.getStartOffset();\n  var anchorKey = selection.getAnchorKey();\n\n  if (!selection.isCollapsed()) {\n    e.preventDefault();\n    editor.update(replaceText(editorState, chars, editorState.getCurrentInlineStyle(), getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection()), true));\n    return;\n  }\n\n  var newEditorState = replaceText(editorState, chars, editorState.getCurrentInlineStyle(), getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection()), false); // Bunch of different cases follow where we need to prevent native insertion.\n\n  var mustPreventNative = false;\n\n  if (!mustPreventNative) {\n    // Browsers tend to insert text in weird places in the DOM when typing at\n    // the start of a leaf, so we'll handle it ourselves.\n    mustPreventNative = isSelectionAtLeafStart(editor._latestCommittedEditorState);\n  }\n\n  if (!mustPreventNative) {\n    // Let's say we have a decorator that highlights hashtags. In many cases\n    // we need to prevent native behavior and rerender ourselves --\n    // particularly, any case *except* where the inserted characters end up\n    // anywhere except exactly where you put them.\n    //\n    // Using [] to denote a decorated leaf, some examples:\n    //\n    // 1. 'hi #' and append 'f'\n    // desired rendering: 'hi [#f]'\n    // native rendering would be: 'hi #f' (incorrect)\n    //\n    // 2. 'x [#foo]' and insert '#' before 'f'\n    // desired rendering: 'x #[#foo]'\n    // native rendering would be: 'x [##foo]' (incorrect)\n    //\n    // 3. '[#foobar]' and insert ' ' between 'foo' and 'bar'\n    // desired rendering: '[#foo] bar'\n    // native rendering would be: '[#foo bar]' (incorrect)\n    //\n    // 4. '[#foo]' and delete '#' [won't use this beforeinput codepath though]\n    // desired rendering: 'foo'\n    // native rendering would be: '[foo]' (incorrect)\n    //\n    // 5. '[#foo]' and append 'b'\n    // desired rendering: '[#foob]'\n    // native rendering would be: '[#foob]'\n    // (native insertion here would be ok for decorators like simple spans,\n    // but not more complex decorators. To be safe, we need to prevent it.)\n    //\n    // It is safe to allow native insertion if and only if the full list of\n    // decorator ranges matches what we expect native insertion to give, and\n    // the range lengths have not changed. We don't need to compare the content\n    // because the only possible mutation to consider here is inserting plain\n    // text and decorators can't affect text content.\n    var oldBlockTree = editorState.getBlockTree(anchorKey);\n    var newBlockTree = newEditorState.getBlockTree(anchorKey);\n    mustPreventNative = oldBlockTree.size !== newBlockTree.size || oldBlockTree.zip(newBlockTree).some(function (_ref) {\n      var oldLeafSet = _ref[0],\n          newLeafSet = _ref[1];\n      // selectionStart is guaranteed to be selectionEnd here\n      var oldStart = oldLeafSet.get('start');\n      var adjustedStart = oldStart + (oldStart >= selectionStart ? chars.length : 0);\n      var oldEnd = oldLeafSet.get('end');\n      var adjustedEnd = oldEnd + (oldEnd >= selectionStart ? chars.length : 0);\n      var newStart = newLeafSet.get('start');\n      var newEnd = newLeafSet.get('end');\n      var newDecoratorKey = newLeafSet.get('decoratorKey');\n      return (// Different decorators\n        oldLeafSet.get('decoratorKey') !== newDecoratorKey || // Different number of inline styles\n        oldLeafSet.get('leaves').size !== newLeafSet.get('leaves').size || // Different effective decorator position\n        adjustedStart !== newStart || adjustedEnd !== newEnd || // Decorator already existed and its length changed\n        newDecoratorKey != null && newEnd - newStart !== oldEnd - oldStart\n      );\n    });\n  }\n\n  if (!mustPreventNative) {\n    mustPreventNative = mustPreventDefaultForCharacter(chars);\n  }\n\n  if (!mustPreventNative) {\n    mustPreventNative = nullthrows(newEditorState.getDirectionMap()).get(anchorKey) !== nullthrows(editorState.getDirectionMap()).get(anchorKey);\n  }\n\n  if (mustPreventNative) {\n    e.preventDefault();\n    newEditorState = EditorState.set(newEditorState, {\n      forceSelection: true\n    });\n    editor.update(newEditorState);\n    return;\n  } // We made it all the way! Let the browser do its thing and insert the char.\n\n\n  newEditorState = EditorState.set(newEditorState, {\n    nativelyRenderedContent: newEditorState.getCurrentContent()\n  }); // The native event is allowed to occur. To allow user onChange handlers to\n  // change the inserted text, we wait until the text is actually inserted\n  // before we actually update our state. That way when we rerender, the text\n  // we see in the DOM will already have been inserted properly.\n\n  editor._pendingStateFromBeforeInput = newEditorState;\n  setImmediate(function () {\n    if (editor._pendingStateFromBeforeInput !== undefined) {\n      editor.update(editor._pendingStateFromBeforeInput);\n      editor._pendingStateFromBeforeInput = undefined;\n    }\n  });\n}\n\nmodule.exports = editOnBeforeInput;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction isSelectionAtLeafStart(editorState) {\n  var selection = editorState.getSelection();\n  var anchorKey = selection.getAnchorKey();\n  var blockTree = editorState.getBlockTree(anchorKey);\n  var offset = selection.getStartOffset();\n  var isAtStart = false;\n  blockTree.some(function (leafSet) {\n    if (offset === leafSet.get('start')) {\n      isAtStart = true;\n      return true;\n    }\n\n    if (offset < leafSet.get('end')) {\n      return leafSet.get('leaves').some(function (leaf) {\n        var leafStart = leaf.get('start');\n\n        if (offset === leafStart) {\n          isAtStart = true;\n          return true;\n        }\n\n        return false;\n      });\n    }\n\n    return false;\n  });\n  return isAtStart;\n}\n\nmodule.exports = isSelectionAtLeafStart;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict'; // setimmediate adds setImmediate to the global. We want to make sure we export\n// the actual function.\n\nrequire(\"setimmediate\");\n\nmodule.exports = global.setImmediate;","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n\nvar containsNode = require(\"fbjs/lib/containsNode\");\n\nvar getActiveElement = require(\"fbjs/lib/getActiveElement\");\n\nfunction editOnBlur(editor, e) {\n  // In a contentEditable element, when you select a range and then click\n  // another active element, this does trigger a `blur` event but will not\n  // remove the DOM selection from the contenteditable.\n  // This is consistent across all browsers, but we prefer that the editor\n  // behave like a textarea, where a `blur` event clears the DOM selection.\n  // We therefore force the issue to be certain, checking whether the active\n  // element is `body` to force it when blurring occurs within the window (as\n  // opposed to clicking to another tab or window).\n  var ownerDocument = e.currentTarget.ownerDocument;\n\n  if ( // This ESLint rule conflicts with `sketchy-null-bool` flow check\n  // eslint-disable-next-line no-extra-boolean-cast\n  !Boolean(editor.props.preserveSelectionOnBlur) && getActiveElement(ownerDocument) === ownerDocument.body) {\n    var _selection = ownerDocument.defaultView.getSelection();\n\n    var editorNode = editor.editor;\n\n    if (_selection.rangeCount === 1 && containsNode(editorNode, _selection.anchorNode) && containsNode(editorNode, _selection.focusNode)) {\n      _selection.removeAllRanges();\n    }\n  }\n\n  var editorState = editor._latestEditorState;\n  var currentSelection = editorState.getSelection();\n\n  if (!currentSelection.getHasFocus()) {\n    return;\n  }\n\n  var selection = currentSelection.set('hasFocus', false);\n  editor.props.onBlur && editor.props.onBlur(e);\n  editor.update(EditorState.acceptSelection(editorState, selection));\n}\n\nmodule.exports = editOnBlur;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n/**\n * The user has begun using an IME input system. Switching to `composite` mode\n * allows handling composition input and disables other edit behavior.\n */\n\n\nfunction editOnCompositionStart(editor, e) {\n  editor.setMode('composite');\n  editor.update(EditorState.set(editor._latestEditorState, {\n    inCompositionMode: true\n  })); // Allow composition handler to interpret the compositionstart event\n\n  editor._onCompositionStart(e);\n}\n\nmodule.exports = editOnCompositionStart;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar getFragmentFromSelection = require(\"./getFragmentFromSelection\");\n/**\n * If we have a selection, create a ContentState fragment and store\n * it in our internal clipboard. Subsequent paste events will use this\n * fragment if no external clipboard data is supplied.\n */\n\n\nfunction editOnCopy(editor, e) {\n  var editorState = editor._latestEditorState;\n  var selection = editorState.getSelection(); // No selection, so there's nothing to copy.\n\n  if (selection.isCollapsed()) {\n    e.preventDefault();\n    return;\n  }\n\n  editor.setClipboard(getFragmentFromSelection(editor._latestEditorState));\n}\n\nmodule.exports = editOnCopy;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar Style = require(\"fbjs/lib/Style\");\n\nvar getFragmentFromSelection = require(\"./getFragmentFromSelection\");\n\nvar getScrollPosition = require(\"fbjs/lib/getScrollPosition\");\n\nvar isNode = require(\"./isInstanceOfNode\");\n/**\n * On `cut` events, native behavior is allowed to occur so that the system\n * clipboard is set properly. This means that we need to take steps to recover\n * the editor DOM state after the `cut` has occurred in order to maintain\n * control of the component.\n *\n * In addition, we can keep a copy of the removed fragment, including all\n * styles and entities, for use as an internal paste.\n */\n\n\nfunction editOnCut(editor, e) {\n  var editorState = editor._latestEditorState;\n  var selection = editorState.getSelection();\n  var element = e.target;\n  var scrollPosition; // No selection, so there's nothing to cut.\n\n  if (selection.isCollapsed()) {\n    e.preventDefault();\n    return;\n  } // Track the current scroll position so that it can be forced back in place\n  // after the editor regains control of the DOM.\n\n\n  if (isNode(element)) {\n    var node = element;\n    scrollPosition = getScrollPosition(Style.getScrollParent(node));\n  }\n\n  var fragment = getFragmentFromSelection(editorState);\n  editor.setClipboard(fragment); // Set `cut` mode to disable all event handling temporarily.\n\n  editor.setMode('cut'); // Let native `cut` behavior occur, then recover control.\n\n  setTimeout(function () {\n    editor.restoreEditorDOM(scrollPosition);\n    editor.exitCurrentMode();\n    editor.update(removeFragment(editorState));\n  }, 0);\n}\n\nfunction removeFragment(editorState) {\n  var newContent = DraftModifier.removeRange(editorState.getCurrentContent(), editorState.getSelection(), 'forward');\n  return EditorState.push(editorState, newContent, 'remove-range');\n}\n\nmodule.exports = editOnCut;","\"use strict\";\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\nfunction isInstanceOfNode(target) {\n  // we changed the name because of having duplicate module provider (fbjs)\n  if (!target || !('ownerDocument' in target)) {\n    return false;\n  }\n\n  if ('ownerDocument' in target) {\n    var node = target;\n\n    if (!node.ownerDocument.defaultView) {\n      return node instanceof Node;\n    }\n\n    if (node instanceof node.ownerDocument.defaultView.Node) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nmodule.exports = isInstanceOfNode;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\n/**\n * Drag behavior has begun from outside the editor element.\n */\nfunction editOnDragOver(editor, e) {\n  editor.setMode('drag');\n  e.preventDefault();\n}\n\nmodule.exports = editOnDragOver;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\n/**\n * A `dragstart` event has begun within the text editor component.\n */\nfunction editOnDragStart(editor) {\n  editor._internalDrag = true;\n  editor.setMode('drag');\n}\n\nmodule.exports = editOnDragStart;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nfunction editOnFocus(editor, e) {\n  var editorState = editor._latestEditorState;\n  var currentSelection = editorState.getSelection();\n\n  if (currentSelection.getHasFocus()) {\n    return;\n  }\n\n  var selection = currentSelection.set('hasFocus', true);\n  editor.props.onFocus && editor.props.onFocus(e); // When the tab containing this text editor is hidden and the user does a\n  // find-in-page in a _different_ tab, Chrome on Mac likes to forget what the\n  // selection was right after sending this focus event and (if you let it)\n  // moves the cursor back to the beginning of the editor, so we force the\n  // selection here instead of simply accepting it in order to preserve the\n  // old cursor position. See https://crbug.com/540004.\n  // But it looks like this is fixed in Chrome 60.0.3081.0.\n  // Other browsers also don't have this bug, so we prefer to acceptSelection\n  // when possible, to ensure that unfocusing and refocusing a Draft editor\n  // doesn't preserve the selection, matching how textareas work.\n\n  if (UserAgent.isBrowser('Chrome < 60.0.3081.0')) {\n    editor.update(EditorState.forceSelection(editorState, selection));\n  } else {\n    editor.update(EditorState.acceptSelection(editorState, selection));\n  }\n}\n\nmodule.exports = editOnFocus;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar DraftOffsetKey = require(\"./DraftOffsetKey\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar _require = require(\"./draftKeyUtils\"),\n    notEmptyKey = _require.notEmptyKey;\n\nvar findAncestorOffsetKey = require(\"./findAncestorOffsetKey\");\n\nvar keyCommandPlainBackspace = require(\"./keyCommandPlainBackspace\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar isGecko = UserAgent.isEngine('Gecko');\nvar DOUBLE_NEWLINE = '\\n\\n';\n\nfunction onInputType(inputType, editorState) {\n  switch (inputType) {\n    case 'deleteContentBackward':\n      return keyCommandPlainBackspace(editorState);\n  }\n\n  return editorState;\n}\n/**\n * This function serves two purposes\n *\n * 1. To update the editorState and call onChange method with the new\n * editorState. This editorState is calculated in editOnBeforeInput but the\n * onChange method is not called with the new state until this method does it.\n * It is done to handle a specific case where certain character inputs might\n * be replaced with something else. E.g. snippets ('rc' might be replaced\n * with boilerplate code for react component). More information on the\n * exact problem can be found here -\n * https://github.com/facebook/draft-js/commit/07892ba479bd4dfc6afd1e0ed179aaf51cd138b1\n *\n * 2. intended to handle spellcheck and autocorrect changes,\n * which occur in the DOM natively without any opportunity to observe or\n * interpret the changes before they occur.\n *\n * The `input` event fires in contentEditable elements reliably for non-IE\n * browsers, immediately after changes occur to the editor DOM. Since our other\n * handlers override or otherwise handle cover other varieties of text input,\n * the DOM state should match the model in all controlled input cases. Thus,\n * when an `input` change leads to a DOM/model mismatch, the change should be\n * due to a spellcheck change, and we can incorporate it into our model.\n */\n\n\nfunction editOnInput(editor, e) {\n  if (editor._pendingStateFromBeforeInput !== undefined) {\n    editor.update(editor._pendingStateFromBeforeInput);\n    editor._pendingStateFromBeforeInput = undefined;\n  } // at this point editor is not null for sure (after input)\n\n\n  var castedEditorElement = editor.editor;\n  var domSelection = castedEditorElement.ownerDocument.defaultView.getSelection();\n  var anchorNode = domSelection.anchorNode,\n      isCollapsed = domSelection.isCollapsed;\n  var isNotTextOrElementNode = (anchorNode === null || anchorNode === void 0 ? void 0 : anchorNode.nodeType) !== Node.TEXT_NODE && (anchorNode === null || anchorNode === void 0 ? void 0 : anchorNode.nodeType) !== Node.ELEMENT_NODE;\n\n  if (anchorNode == null || isNotTextOrElementNode) {\n    // TODO: (t16149272) figure out context for this change\n    return;\n  }\n\n  if (anchorNode.nodeType === Node.TEXT_NODE && (anchorNode.previousSibling !== null || anchorNode.nextSibling !== null)) {\n    // When typing at the beginning of a visual line, Chrome splits the text\n    // nodes into two. Why? No one knows. This commit is suspicious:\n    // https://chromium.googlesource.com/chromium/src/+/a3b600981286b135632371477f902214c55a1724\n    // To work around, we'll merge the sibling text nodes back into this one.\n    var span = anchorNode.parentNode;\n\n    if (span == null) {\n      // Handle null-parent case.\n      return;\n    }\n\n    anchorNode.nodeValue = span.textContent;\n\n    for (var child = span.firstChild; child != null; child = child.nextSibling) {\n      if (child !== anchorNode) {\n        span.removeChild(child);\n      }\n    }\n  }\n\n  var domText = anchorNode.textContent;\n  var editorState = editor._latestEditorState;\n  var offsetKey = nullthrows(findAncestorOffsetKey(anchorNode));\n\n  var _DraftOffsetKey$decod = DraftOffsetKey.decode(offsetKey),\n      blockKey = _DraftOffsetKey$decod.blockKey,\n      decoratorKey = _DraftOffsetKey$decod.decoratorKey,\n      leafKey = _DraftOffsetKey$decod.leafKey;\n\n  var _editorState$getBlock = editorState.getBlockTree(blockKey).getIn([decoratorKey, 'leaves', leafKey]),\n      start = _editorState$getBlock.start,\n      end = _editorState$getBlock.end;\n\n  var content = editorState.getCurrentContent();\n  var block = content.getBlockForKey(blockKey);\n  var modelText = block.getText().slice(start, end); // Special-case soft newlines here. If the DOM text ends in a soft newline,\n  // we will have manually inserted an extra soft newline in DraftEditorLeaf.\n  // We want to remove this extra newline for the purpose of our comparison\n  // of DOM and model text.\n\n  if (domText.endsWith(DOUBLE_NEWLINE)) {\n    domText = domText.slice(0, -1);\n  } // No change -- the DOM is up to date. Nothing to do here.\n\n\n  if (domText === modelText) {\n    // This can be buggy for some Android keyboards because they don't fire\n    // standard onkeydown/pressed events and only fired editOnInput\n    // so domText is already changed by the browser and ends up being equal\n    // to modelText unexpectedly.\n    // Newest versions of Android support the dom-inputevent-inputtype\n    // and we can use the `inputType` to properly apply the state changes.\n\n    /* $FlowFixMe[prop-missing] inputType is only defined on a draft of a\n     * standard. https://w3c.github.io/input-events/#dom-inputevent-inputtype\n     */\n    var inputType = e.nativeEvent.inputType;\n\n    if (inputType) {\n      var newEditorState = onInputType(inputType, editorState);\n\n      if (newEditorState !== editorState) {\n        editor.restoreEditorDOM();\n        editor.update(newEditorState);\n        return;\n      }\n    }\n\n    return;\n  }\n\n  var selection = editorState.getSelection(); // We'll replace the entire leaf with the text content of the target.\n\n  var targetRange = selection.merge({\n    anchorOffset: start,\n    focusOffset: end,\n    isBackward: false\n  });\n  var entityKey = block.getEntityAt(start);\n  var entity = notEmptyKey(entityKey) ? content.getEntity(entityKey) : null;\n  var entityType = entity != null ? entity.getMutability() : null;\n  var preserveEntity = entityType === 'MUTABLE'; // Immutable or segmented entities cannot properly be handled by the\n  // default browser undo, so we have to use a different change type to\n  // force using our internal undo method instead of falling through to the\n  // native browser undo.\n\n  var changeType = preserveEntity ? 'spellcheck-change' : 'apply-entity';\n  var newContent = DraftModifier.replaceText(content, targetRange, domText, block.getInlineStyleAt(start), preserveEntity ? block.getEntityAt(start) : null);\n  var anchorOffset, focusOffset, startOffset, endOffset;\n\n  if (isGecko) {\n    // Firefox selection does not change while the context menu is open, so\n    // we preserve the anchor and focus values of the DOM selection.\n    anchorOffset = domSelection.anchorOffset;\n    focusOffset = domSelection.focusOffset;\n    startOffset = start + Math.min(anchorOffset, focusOffset);\n    endOffset = startOffset + Math.abs(anchorOffset - focusOffset);\n    anchorOffset = startOffset;\n    focusOffset = endOffset;\n  } else {\n    // Browsers other than Firefox may adjust DOM selection while the context\n    // menu is open, and Safari autocorrect is prone to providing an inaccurate\n    // DOM selection. Don't trust it. Instead, use our existing SelectionState\n    // and adjust it based on the number of characters changed during the\n    // mutation.\n    var charDelta = domText.length - modelText.length;\n    startOffset = selection.getStartOffset();\n    endOffset = selection.getEndOffset();\n    anchorOffset = isCollapsed ? endOffset + charDelta : startOffset;\n    focusOffset = endOffset + charDelta;\n  } // Segmented entities are completely or partially removed when their\n  // text content changes. For this case we do not want any text to be selected\n  // after the change, so we are not merging the selection.\n\n\n  var contentWithAdjustedDOMSelection = newContent.merge({\n    selectionBefore: content.getSelectionAfter(),\n    selectionAfter: selection.merge({\n      anchorOffset: anchorOffset,\n      focusOffset: focusOffset\n    })\n  });\n  editor.update(EditorState.push(editorState, contentWithAdjustedDOMSelection, changeType));\n}\n\nmodule.exports = editOnInput;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar KeyBindingUtil = require(\"./KeyBindingUtil\");\n\nvar Keys = require(\"fbjs/lib/Keys\");\n\nvar SecondaryClipboard = require(\"./SecondaryClipboard\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar isEventHandled = require(\"./isEventHandled\");\n\nvar keyCommandBackspaceToStartOfLine = require(\"./keyCommandBackspaceToStartOfLine\");\n\nvar keyCommandBackspaceWord = require(\"./keyCommandBackspaceWord\");\n\nvar keyCommandDeleteWord = require(\"./keyCommandDeleteWord\");\n\nvar keyCommandInsertNewline = require(\"./keyCommandInsertNewline\");\n\nvar keyCommandMoveSelectionToEndOfBlock = require(\"./keyCommandMoveSelectionToEndOfBlock\");\n\nvar keyCommandMoveSelectionToStartOfBlock = require(\"./keyCommandMoveSelectionToStartOfBlock\");\n\nvar keyCommandPlainBackspace = require(\"./keyCommandPlainBackspace\");\n\nvar keyCommandPlainDelete = require(\"./keyCommandPlainDelete\");\n\nvar keyCommandTransposeCharacters = require(\"./keyCommandTransposeCharacters\");\n\nvar keyCommandUndo = require(\"./keyCommandUndo\");\n\nvar isOptionKeyCommand = KeyBindingUtil.isOptionKeyCommand;\nvar isChrome = UserAgent.isBrowser('Chrome');\n/**\n * Map a `DraftEditorCommand` command value to a corresponding function.\n */\n\nfunction onKeyCommand(command, editorState, e) {\n  switch (command) {\n    case 'redo':\n      return EditorState.redo(editorState);\n\n    case 'delete':\n      return keyCommandPlainDelete(editorState);\n\n    case 'delete-word':\n      return keyCommandDeleteWord(editorState);\n\n    case 'backspace':\n      return keyCommandPlainBackspace(editorState);\n\n    case 'backspace-word':\n      return keyCommandBackspaceWord(editorState);\n\n    case 'backspace-to-start-of-line':\n      return keyCommandBackspaceToStartOfLine(editorState, e);\n\n    case 'split-block':\n      return keyCommandInsertNewline(editorState);\n\n    case 'transpose-characters':\n      return keyCommandTransposeCharacters(editorState);\n\n    case 'move-selection-to-start-of-block':\n      return keyCommandMoveSelectionToStartOfBlock(editorState);\n\n    case 'move-selection-to-end-of-block':\n      return keyCommandMoveSelectionToEndOfBlock(editorState);\n\n    case 'secondary-cut':\n      return SecondaryClipboard.cut(editorState);\n\n    case 'secondary-paste':\n      return SecondaryClipboard.paste(editorState);\n\n    default:\n      return editorState;\n  }\n}\n/**\n * Intercept keydown behavior to handle keys and commands manually, if desired.\n *\n * Keydown combinations may be mapped to `DraftCommand` values, which may\n * correspond to command functions that modify the editor or its contents.\n *\n * See `getDefaultKeyBinding` for defaults. Alternatively, the top-level\n * component may provide a custom mapping via the `keyBindingFn` prop.\n */\n\n\nfunction editOnKeyDown(editor, e) {\n  var keyCode = e.which;\n  var editorState = editor._latestEditorState;\n\n  function callDeprecatedHandler(handlerName) {\n    var deprecatedHandler = editor.props[handlerName];\n\n    if (deprecatedHandler) {\n      deprecatedHandler(e);\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  switch (keyCode) {\n    case Keys.RETURN:\n      e.preventDefault(); // The top-level component may manually handle newline insertion. If\n      // no special handling is performed, fall through to command handling.\n\n      if (editor.props.handleReturn && isEventHandled(editor.props.handleReturn(e, editorState))) {\n        return;\n      }\n\n      break;\n\n    case Keys.ESC:\n      e.preventDefault();\n\n      if (callDeprecatedHandler('onEscape')) {\n        return;\n      }\n\n      break;\n\n    case Keys.TAB:\n      if (callDeprecatedHandler('onTab')) {\n        return;\n      }\n\n      break;\n\n    case Keys.UP:\n      if (callDeprecatedHandler('onUpArrow')) {\n        return;\n      }\n\n      break;\n\n    case Keys.RIGHT:\n      if (callDeprecatedHandler('onRightArrow')) {\n        return;\n      }\n\n      break;\n\n    case Keys.DOWN:\n      if (callDeprecatedHandler('onDownArrow')) {\n        return;\n      }\n\n      break;\n\n    case Keys.LEFT:\n      if (callDeprecatedHandler('onLeftArrow')) {\n        return;\n      }\n\n      break;\n\n    case Keys.SPACE:\n      // Prevent Chrome on OSX behavior where option + space scrolls.\n      if (isChrome && isOptionKeyCommand(e)) {\n        e.preventDefault();\n      }\n\n  }\n\n  var command = editor.props.keyBindingFn(e); // If no command is specified, allow keydown event to continue.\n\n  if (command == null || command === '') {\n    if (keyCode === Keys.SPACE && isChrome && isOptionKeyCommand(e)) {\n      // The default keydown event has already been prevented in order to stop\n      // Chrome from scrolling. Insert a nbsp into the editor as OSX would for\n      // other browsers.\n      var contentState = DraftModifier.replaceText(editorState.getCurrentContent(), editorState.getSelection(), \"\\xA0\");\n      editor.update(EditorState.push(editorState, contentState, 'insert-characters'));\n    }\n\n    return;\n  }\n\n  if (command === 'undo') {\n    // Since undo requires some special updating behavior to keep the editor\n    // in sync, handle it separately.\n    keyCommandUndo(e, editorState, editor.update);\n    return;\n  } // At this point, we know that we're handling a command of some kind, so\n  // we don't want to insert a character following the keydown.\n\n\n  e.preventDefault(); // Allow components higher up the tree to handle the command first.\n\n  if (editor.props.handleKeyCommand && isEventHandled(editor.props.handleKeyCommand(command, editorState, e.timeStamp))) {\n    return;\n  }\n\n  var newState = onKeyCommand(command, editorState, e);\n\n  if (newState !== editorState) {\n    editor.update(newState);\n  }\n}\n\nmodule.exports = editOnKeyDown;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar Keys = require(\"fbjs/lib/Keys\");\n\nfunction isSoftNewlineEvent(e) {\n  return e.which === Keys.RETURN && (e.getModifierState('Shift') || e.getModifierState('Alt') || e.getModifierState('Control'));\n}\n\nmodule.exports = isSoftNewlineEvent;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar getContentStateFragment = require(\"./getContentStateFragment\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar clipboard = null;\n/**\n * Some systems offer a \"secondary\" clipboard to allow quick internal cut\n * and paste behavior. For instance, Ctrl+K (cut) and Ctrl+Y (paste).\n */\n\nvar SecondaryClipboard = {\n  cut: function cut(editorState) {\n    var content = editorState.getCurrentContent();\n    var selection = editorState.getSelection();\n    var targetRange = null;\n\n    if (selection.isCollapsed()) {\n      var anchorKey = selection.getAnchorKey();\n      var blockEnd = content.getBlockForKey(anchorKey).getLength();\n\n      if (blockEnd === selection.getAnchorOffset()) {\n        var keyAfter = content.getKeyAfter(anchorKey);\n\n        if (keyAfter == null) {\n          return editorState;\n        }\n\n        targetRange = selection.set('focusKey', keyAfter).set('focusOffset', 0);\n      } else {\n        targetRange = selection.set('focusOffset', blockEnd);\n      }\n    } else {\n      targetRange = selection;\n    }\n\n    targetRange = nullthrows(targetRange); // TODO: This should actually append to the current state when doing\n    // successive ^K commands without any other cursor movement\n\n    clipboard = getContentStateFragment(content, targetRange);\n    var afterRemoval = DraftModifier.removeRange(content, targetRange, 'forward');\n\n    if (afterRemoval === content) {\n      return editorState;\n    }\n\n    return EditorState.push(editorState, afterRemoval, 'remove-range');\n  },\n  paste: function paste(editorState) {\n    if (!clipboard) {\n      return editorState;\n    }\n\n    var newContent = DraftModifier.replaceWithFragment(editorState.getCurrentContent(), editorState.getSelection(), clipboard);\n    return EditorState.push(editorState, newContent, 'insert-fragment');\n  }\n};\nmodule.exports = SecondaryClipboard;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n\nvar expandRangeToStartOfLine = require(\"./expandRangeToStartOfLine\");\n\nvar getDraftEditorSelectionWithNodes = require(\"./getDraftEditorSelectionWithNodes\");\n\nvar moveSelectionBackward = require(\"./moveSelectionBackward\");\n\nvar removeTextWithStrategy = require(\"./removeTextWithStrategy\");\n\nfunction keyCommandBackspaceToStartOfLine(editorState, e) {\n  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {\n    var selection = strategyState.getSelection();\n\n    if (selection.isCollapsed() && selection.getAnchorOffset() === 0) {\n      return moveSelectionBackward(strategyState, 1);\n    }\n\n    var ownerDocument = e.currentTarget.ownerDocument;\n    var domSelection = ownerDocument.defaultView.getSelection(); // getRangeAt can technically throw if there's no selection, but we know\n    // there is one here because text editor has focus (the cursor is a\n    // selection of length 0). Therefore, we don't need to wrap this in a\n    // try-catch block.\n\n    var range = domSelection.getRangeAt(0);\n    range = expandRangeToStartOfLine(range);\n    return getDraftEditorSelectionWithNodes(strategyState, null, range.endContainer, range.endOffset, range.startContainer, range.startOffset).selectionState;\n  }, 'backward');\n\n  if (afterRemoval === editorState.getCurrentContent()) {\n    return editorState;\n  }\n\n  return EditorState.push(editorState, afterRemoval, 'remove-range');\n}\n\nmodule.exports = keyCommandBackspaceToStartOfLine;","\"use strict\";\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\nvar UnicodeUtils = require(\"fbjs/lib/UnicodeUtils\");\n\nvar getCorrectDocumentFromNode = require(\"./getCorrectDocumentFromNode\");\n\nvar getRangeClientRects = require(\"./getRangeClientRects\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n/**\n * Return the computed line height, in pixels, for the provided element.\n */\n\n\nfunction getLineHeightPx(element) {\n  var computed = getComputedStyle(element);\n  var correctDocument = getCorrectDocumentFromNode(element);\n  var div = correctDocument.createElement('div');\n  div.style.fontFamily = computed.fontFamily;\n  div.style.fontSize = computed.fontSize;\n  div.style.fontStyle = computed.fontStyle;\n  div.style.fontWeight = computed.fontWeight;\n  div.style.lineHeight = computed.lineHeight;\n  div.style.position = 'absolute';\n  div.textContent = 'M';\n  var documentBody = correctDocument.body;\n  !documentBody ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Missing document.body') : invariant(false) : void 0; // forced layout here\n\n  documentBody.appendChild(div);\n  var rect = div.getBoundingClientRect();\n  documentBody.removeChild(div);\n  return rect.height;\n}\n/**\n * Return whether every ClientRect in the provided list lies on the same line.\n *\n * We assume that the rects on the same line all contain the baseline, so the\n * lowest top line needs to be above the highest bottom line (i.e., if you were\n * to project the rects onto the y-axis, their intersection would be nonempty).\n *\n * In addition, we require that no two boxes are lineHeight (or more) apart at\n * either top or bottom, which helps protect against false positives for fonts\n * with extremely large glyph heights (e.g., with a font size of 17px, Zapfino\n * produces rects of height 58px!).\n */\n\n\nfunction areRectsOnOneLine(rects, lineHeight) {\n  var minTop = Infinity;\n  var minBottom = Infinity;\n  var maxTop = -Infinity;\n  var maxBottom = -Infinity;\n\n  for (var ii = 0; ii < rects.length; ii++) {\n    var rect = rects[ii];\n\n    if (rect.width === 0 || rect.width === 1) {\n      // When a range starts or ends a soft wrap, many browsers (Chrome, IE,\n      // Safari) include an empty rect on the previous or next line. When the\n      // text lies in a container whose position is not integral (e.g., from\n      // margin: auto), Safari makes these empty rects have width 1 (instead of\n      // 0). Having one-pixel-wide characters seems unlikely (and most browsers\n      // report widths in subpixel precision anyway) so it's relatively safe to\n      // skip over them.\n      continue;\n    }\n\n    minTop = Math.min(minTop, rect.top);\n    minBottom = Math.min(minBottom, rect.bottom);\n    maxTop = Math.max(maxTop, rect.top);\n    maxBottom = Math.max(maxBottom, rect.bottom);\n  }\n\n  return maxTop <= minBottom && maxTop - minTop < lineHeight && maxBottom - minBottom < lineHeight;\n}\n/**\n * Return the length of a node, as used by Range offsets.\n */\n\n\nfunction getNodeLength(node) {\n  // http://www.w3.org/TR/dom/#concept-node-length\n  switch (node.nodeType) {\n    case Node.DOCUMENT_TYPE_NODE:\n      return 0;\n\n    case Node.TEXT_NODE:\n    case Node.PROCESSING_INSTRUCTION_NODE:\n    case Node.COMMENT_NODE:\n      return node.length;\n\n    default:\n      return node.childNodes.length;\n  }\n}\n/**\n * Given a collapsed range, move the start position backwards as far as\n * possible while the range still spans only a single line.\n */\n\n\nfunction expandRangeToStartOfLine(range) {\n  !range.collapsed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'expandRangeToStartOfLine: Provided range is not collapsed.') : invariant(false) : void 0;\n  range = range.cloneRange();\n  var containingElement = range.startContainer;\n\n  if (containingElement.nodeType !== 1) {\n    containingElement = containingElement.parentNode;\n  }\n\n  var lineHeight = getLineHeightPx(containingElement); // Imagine our text looks like:\n  //   <div><span>once upon a time, there was a <em>boy\n  //   who lived</em> </span><q><strong>under^ the\n  //   stairs</strong> in a small closet.</q></div>\n  // where the caret represents the cursor. First, we crawl up the tree until\n  // the range spans multiple lines (setting the start point to before\n  // \"<strong>\", then before \"<div>\"), then at each level we do a search to\n  // find the latest point which is still on a previous line. We'll find that\n  // the break point is inside the span, then inside the <em>, then in its text\n  // node child, the actual break point before \"who\".\n\n  var bestContainer = range.endContainer;\n  var bestOffset = range.endOffset;\n  range.setStart(range.startContainer, 0);\n\n  while (areRectsOnOneLine(getRangeClientRects(range), lineHeight)) {\n    bestContainer = range.startContainer;\n    bestOffset = range.startOffset;\n    !bestContainer.parentNode ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Found unexpected detached subtree when traversing.') : invariant(false) : void 0;\n    range.setStartBefore(bestContainer);\n\n    if (bestContainer.nodeType === 1 && getComputedStyle(bestContainer).display !== 'inline') {\n      // The start of the line is never in a different block-level container.\n      break;\n    }\n  } // In the above example, range now spans from \"<div>\" to \"under\",\n  // bestContainer is <div>, and bestOffset is 1 (index of <q> inside <div>)].\n  // Picking out which child to recurse into here is a special case since we\n  // don't want to check past <q> -- once we find that the final range starts\n  // in <span>, we can look at all of its children (and all of their children)\n  // to find the break point.\n  // At all times, (bestContainer, bestOffset) is the latest single-line start\n  // point that we know of.\n\n\n  var currentContainer = bestContainer;\n  var maxIndexToConsider = bestOffset - 1;\n\n  do {\n    var nodeValue = currentContainer.nodeValue;\n    var ii = maxIndexToConsider;\n\n    for (; ii >= 0; ii--) {\n      if (nodeValue != null && ii > 0 && UnicodeUtils.isSurrogatePair(nodeValue, ii - 1)) {\n        // We're in the middle of a surrogate pair -- skip over so we never\n        // return a range with an endpoint in the middle of a code point.\n        continue;\n      }\n\n      range.setStart(currentContainer, ii);\n\n      if (areRectsOnOneLine(getRangeClientRects(range), lineHeight)) {\n        bestContainer = currentContainer;\n        bestOffset = ii;\n      } else {\n        break;\n      }\n    }\n\n    if (ii === -1 || currentContainer.childNodes.length === 0) {\n      // If ii === -1, then (bestContainer, bestOffset), which is equal to\n      // (currentContainer, 0), was a single-line start point but a start\n      // point before currentContainer wasn't, so the line break seems to\n      // have occurred immediately after currentContainer's start tag\n      //\n      // If currentContainer.childNodes.length === 0, we're already at a\n      // terminal node (e.g., text node) and should return our current best.\n      break;\n    }\n\n    currentContainer = currentContainer.childNodes[ii];\n    maxIndexToConsider = getNodeLength(currentContainer);\n  } while (true);\n\n  range.setStart(bestContainer, bestOffset);\n  return range;\n}\n\nmodule.exports = expandRangeToStartOfLine;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftRemovableWord = require(\"./DraftRemovableWord\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar moveSelectionBackward = require(\"./moveSelectionBackward\");\n\nvar removeTextWithStrategy = require(\"./removeTextWithStrategy\");\n/**\n * Delete the word that is left of the cursor, as well as any spaces or\n * punctuation after the word.\n */\n\n\nfunction keyCommandBackspaceWord(editorState) {\n  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {\n    var selection = strategyState.getSelection();\n    var offset = selection.getStartOffset(); // If there are no words before the cursor, remove the preceding newline.\n\n    if (offset === 0) {\n      return moveSelectionBackward(strategyState, 1);\n    }\n\n    var key = selection.getStartKey();\n    var content = strategyState.getCurrentContent();\n    var text = content.getBlockForKey(key).getText().slice(0, offset);\n    var toRemove = DraftRemovableWord.getBackward(text);\n    return moveSelectionBackward(strategyState, toRemove.length || 1);\n  }, 'backward');\n\n  if (afterRemoval === editorState.getCurrentContent()) {\n    return editorState;\n  }\n\n  return EditorState.push(editorState, afterRemoval, 'remove-range');\n}\n\nmodule.exports = keyCommandBackspaceWord;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n * @stub\n * \n */\n'use strict'; // \\u00a1-\\u00b1\\u00b4-\\u00b8\\u00ba\\u00bb\\u00bf\n//             is latin supplement punctuation except fractions and superscript\n//             numbers\n// \\u2010-\\u2027\\u2030-\\u205e\n//             is punctuation from the general punctuation block:\n//             weird quotes, commas, bullets, dashes, etc.\n// \\u30fb\\u3001\\u3002\\u3008-\\u3011\\u3014-\\u301f\n//             is CJK punctuation\n// \\uff1a-\\uff1f\\uff01-\\uff0f\\uff3b-\\uff40\\uff5b-\\uff65\n//             is some full-width/half-width punctuation\n// \\u2E2E\\u061f\\u066a-\\u066c\\u061b\\u060c\\u060d\\uFD3e\\uFD3F\n//             is some Arabic punctuation marks\n// \\u1801\\u0964\\u104a\\u104b\n//             is misc. other language punctuation marks\n\nvar PUNCTUATION = '[.,+*?$|#{}()\\'\\\\^\\\\-\\\\[\\\\]\\\\\\\\\\\\/!@%\"~=<>_:;' + \"\\u30FB\\u3001\\u3002\\u3008-\\u3011\\u3014-\\u301F\\uFF1A-\\uFF1F\\uFF01-\\uFF0F\" + \"\\uFF3B-\\uFF40\\uFF5B-\\uFF65\\u2E2E\\u061F\\u066A-\\u066C\\u061B\\u060C\\u060D\" + \"\\uFD3E\\uFD3F\\u1801\\u0964\\u104A\\u104B\\u2010-\\u2027\\u2030-\\u205E\" + \"\\xA1-\\xB1\\xB4-\\xB8\\xBA\\xBB\\xBF]\";\nmodule.exports = {\n  getPunctuation: function getPunctuation() {\n    return PUNCTUATION;\n  }\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftRemovableWord = require(\"./DraftRemovableWord\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar moveSelectionForward = require(\"./moveSelectionForward\");\n\nvar removeTextWithStrategy = require(\"./removeTextWithStrategy\");\n/**\n * Delete the word that is right of the cursor, as well as any spaces or\n * punctuation before the word.\n */\n\n\nfunction keyCommandDeleteWord(editorState) {\n  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {\n    var selection = strategyState.getSelection();\n    var offset = selection.getStartOffset();\n    var key = selection.getStartKey();\n    var content = strategyState.getCurrentContent();\n    var text = content.getBlockForKey(key).getText().slice(offset);\n    var toRemove = DraftRemovableWord.getForward(text); // If there are no words in front of the cursor, remove the newline.\n\n    return moveSelectionForward(strategyState, toRemove.length || 1);\n  }, 'forward');\n\n  if (afterRemoval === editorState.getCurrentContent()) {\n    return editorState;\n  }\n\n  return EditorState.push(editorState, afterRemoval, 'remove-range');\n}\n\nmodule.exports = keyCommandDeleteWord;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nfunction keyCommandInsertNewline(editorState) {\n  var contentState = DraftModifier.splitBlock(editorState.getCurrentContent(), editorState.getSelection());\n  return EditorState.push(editorState, contentState, 'split-block');\n}\n\nmodule.exports = keyCommandInsertNewline;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n/**\n * See comment for `moveSelectionToStartOfBlock`.\n */\n\n\nfunction keyCommandMoveSelectionToEndOfBlock(editorState) {\n  var selection = editorState.getSelection();\n  var endKey = selection.getEndKey();\n  var content = editorState.getCurrentContent();\n  var textLength = content.getBlockForKey(endKey).getLength();\n  return EditorState.set(editorState, {\n    selection: selection.merge({\n      anchorKey: endKey,\n      anchorOffset: textLength,\n      focusKey: endKey,\n      focusOffset: textLength,\n      isBackward: false\n    }),\n    forceSelection: true\n  });\n}\n\nmodule.exports = keyCommandMoveSelectionToEndOfBlock;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n/**\n * Collapse selection at the start of the first selected block. This is used\n * for Firefox versions that attempt to navigate forward/backward instead of\n * moving the cursor. Other browsers are able to move the cursor natively.\n */\n\n\nfunction keyCommandMoveSelectionToStartOfBlock(editorState) {\n  var selection = editorState.getSelection();\n  var startKey = selection.getStartKey();\n  return EditorState.set(editorState, {\n    selection: selection.merge({\n      anchorKey: startKey,\n      anchorOffset: 0,\n      focusKey: startKey,\n      focusOffset: 0,\n      isBackward: false\n    }),\n    forceSelection: true\n  });\n}\n\nmodule.exports = keyCommandMoveSelectionToStartOfBlock;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n\nvar UnicodeUtils = require(\"fbjs/lib/UnicodeUtils\");\n\nvar moveSelectionForward = require(\"./moveSelectionForward\");\n\nvar removeTextWithStrategy = require(\"./removeTextWithStrategy\");\n/**\n * Remove the selected range. If the cursor is collapsed, remove the following\n * character. This operation is Unicode-aware, so removing a single character\n * will remove a surrogate pair properly as well.\n */\n\n\nfunction keyCommandPlainDelete(editorState) {\n  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {\n    var selection = strategyState.getSelection();\n    var content = strategyState.getCurrentContent();\n    var key = selection.getAnchorKey();\n    var offset = selection.getAnchorOffset();\n    var charAhead = content.getBlockForKey(key).getText()[offset];\n    return moveSelectionForward(strategyState, charAhead ? UnicodeUtils.getUTF16Length(charAhead, 0) : 1);\n  }, 'forward');\n\n  if (afterRemoval === editorState.getCurrentContent()) {\n    return editorState;\n  }\n\n  var selection = editorState.getSelection();\n  return EditorState.push(editorState, afterRemoval.set('selectionBefore', selection), selection.isCollapsed() ? 'delete-character' : 'remove-range');\n}\n\nmodule.exports = keyCommandPlainDelete;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar getContentStateFragment = require(\"./getContentStateFragment\");\n/**\n * Transpose the characters on either side of a collapsed cursor, or\n * if the cursor is at the end of the block, transpose the last two\n * characters.\n */\n\n\nfunction keyCommandTransposeCharacters(editorState) {\n  var selection = editorState.getSelection();\n\n  if (!selection.isCollapsed()) {\n    return editorState;\n  }\n\n  var offset = selection.getAnchorOffset();\n\n  if (offset === 0) {\n    return editorState;\n  }\n\n  var blockKey = selection.getAnchorKey();\n  var content = editorState.getCurrentContent();\n  var block = content.getBlockForKey(blockKey);\n  var length = block.getLength(); // Nothing to transpose if there aren't two characters.\n\n  if (length <= 1) {\n    return editorState;\n  }\n\n  var removalRange;\n  var finalSelection;\n\n  if (offset === length) {\n    // The cursor is at the end of the block. Swap the last two characters.\n    removalRange = selection.set('anchorOffset', offset - 1);\n    finalSelection = selection;\n  } else {\n    removalRange = selection.set('focusOffset', offset + 1);\n    finalSelection = removalRange.set('anchorOffset', offset + 1);\n  } // Extract the character to move as a fragment. This preserves its\n  // styling and entity, if any.\n\n\n  var movedFragment = getContentStateFragment(content, removalRange);\n  var afterRemoval = DraftModifier.removeRange(content, removalRange, 'backward'); // After the removal, the insertion target is one character back.\n\n  var selectionAfter = afterRemoval.getSelectionAfter();\n  var targetOffset = selectionAfter.getAnchorOffset() - 1;\n  var targetRange = selectionAfter.merge({\n    anchorOffset: targetOffset,\n    focusOffset: targetOffset\n  });\n  var afterInsert = DraftModifier.replaceWithFragment(afterRemoval, targetRange, movedFragment);\n  var newEditorState = EditorState.push(editorState, afterInsert, 'insert-fragment');\n  return EditorState.acceptSelection(newEditorState, finalSelection);\n}\n\nmodule.exports = keyCommandTransposeCharacters;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar EditorState = require(\"./EditorState\");\n\nfunction keyCommandUndo(e, editorState, updateFn) {\n  var undoneState = EditorState.undo(editorState); // If the last change to occur was a spellcheck change, allow the undo\n  // event to fall through to the browser. This allows the browser to record\n  // the unwanted change, which should soon lead it to learn not to suggest\n  // the correction again.\n\n  if (editorState.getLastChangeType() === 'spellcheck-change') {\n    var nativelyRenderedContent = undoneState.getCurrentContent();\n    updateFn(EditorState.set(undoneState, {\n      nativelyRenderedContent: nativelyRenderedContent\n    }));\n    return;\n  } // Otheriwse, manage the undo behavior manually.\n\n\n  e.preventDefault();\n\n  if (!editorState.getNativelyRenderedContent()) {\n    updateFn(undoneState);\n    return;\n  } // Trigger a re-render with the current content state to ensure that the\n  // component tree has up-to-date props for comparison.\n\n\n  updateFn(EditorState.set(editorState, {\n    nativelyRenderedContent: null\n  })); // Wait to ensure that the re-render has occurred before performing\n  // the undo action.\n\n  setTimeout(function () {\n    updateFn(undoneState);\n  }, 0);\n}\n\nmodule.exports = keyCommandUndo;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar BlockMapBuilder = require(\"./BlockMapBuilder\");\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar DataTransfer = require(\"fbjs/lib/DataTransfer\");\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar DraftPasteProcessor = require(\"./DraftPasteProcessor\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar RichTextEditorUtil = require(\"./RichTextEditorUtil\");\n\nvar getEntityKeyForSelection = require(\"./getEntityKeyForSelection\");\n\nvar getTextContentFromFiles = require(\"./getTextContentFromFiles\");\n\nvar isEventHandled = require(\"./isEventHandled\");\n\nvar splitTextIntoTextBlocks = require(\"./splitTextIntoTextBlocks\");\n/**\n * Paste content.\n */\n\n\nfunction editOnPaste(editor, e) {\n  e.preventDefault();\n  var data = new DataTransfer(e.clipboardData); // Get files, unless this is likely to be a string the user wants inline.\n\n  if (!data.isRichText()) {\n    var files = data.getFiles();\n    var defaultFileText = data.getText();\n\n    if (files.length > 0) {\n      // Allow customized paste handling for images, etc. Otherwise, fall\n      // through to insert text contents into the editor.\n      if (editor.props.handlePastedFiles && isEventHandled(editor.props.handlePastedFiles(files))) {\n        return;\n      }\n      /* $FlowFixMe[incompatible-call] This comment suppresses an error found\n       * DataTransfer was typed. getFiles() returns an array of <Files extends\n       * Blob>, not Blob */\n\n\n      getTextContentFromFiles(files, function (\n      /*string*/\n      fileText) {\n        fileText = fileText || defaultFileText;\n\n        if (!fileText) {\n          return;\n        }\n\n        var editorState = editor._latestEditorState;\n        var blocks = splitTextIntoTextBlocks(fileText);\n        var character = CharacterMetadata.create({\n          style: editorState.getCurrentInlineStyle(),\n          entity: getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection())\n        });\n        var currentBlockType = RichTextEditorUtil.getCurrentBlockType(editorState);\n        var text = DraftPasteProcessor.processText(blocks, character, currentBlockType);\n        var fragment = BlockMapBuilder.createFromArray(text);\n        var withInsertedText = DraftModifier.replaceWithFragment(editorState.getCurrentContent(), editorState.getSelection(), fragment);\n        editor.update(EditorState.push(editorState, withInsertedText, 'insert-fragment'));\n      });\n      return;\n    }\n  }\n\n  var textBlocks = [];\n  var text = data.getText();\n  var html = data.getHTML();\n  var editorState = editor._latestEditorState;\n\n  if (editor.props.formatPastedText) {\n    var _editor$props$formatP = editor.props.formatPastedText(text, html),\n        formattedText = _editor$props$formatP.text,\n        formattedHtml = _editor$props$formatP.html;\n\n    text = formattedText;\n    html = formattedHtml;\n  }\n\n  if (editor.props.handlePastedText && isEventHandled(editor.props.handlePastedText(text, html, editorState))) {\n    return;\n  }\n\n  if (text) {\n    textBlocks = splitTextIntoTextBlocks(text);\n  }\n\n  if (!editor.props.stripPastedStyles) {\n    // If the text from the paste event is rich content that matches what we\n    // already have on the internal clipboard, assume that we should just use\n    // the clipboard fragment for the paste. This will allow us to preserve\n    // styling and entities, if any are present. Note that newlines are\n    // stripped during comparison -- this is because copy/paste within the\n    // editor in Firefox and IE will not include empty lines. The resulting\n    // paste will preserve the newlines correctly.\n    var internalClipboard = editor.getClipboard();\n\n    if (!editor.props.formatPastedText && data.isRichText() && internalClipboard) {\n      var _html;\n\n      if ( // If the editorKey is present in the pasted HTML, it should be safe to\n      // assume this is an internal paste.\n      ((_html = html) === null || _html === void 0 ? void 0 : _html.indexOf(editor.getEditorKey())) !== -1 || // The copy may have been made within a single block, in which case the\n      // editor key won't be part of the paste. In this case, just check\n      // whether the pasted text matches the internal clipboard.\n      textBlocks.length === 1 && internalClipboard.size === 1 && internalClipboard.first().getText() === text) {\n        editor.update(insertFragment(editor._latestEditorState, internalClipboard));\n        return;\n      }\n    } else if (internalClipboard && data.types.includes('com.apple.webarchive') && !data.types.includes('text/html') && areTextBlocksAndClipboardEqual(textBlocks, internalClipboard)) {\n      // Safari does not properly store text/html in some cases.\n      // Use the internalClipboard if present and equal to what is on\n      // the clipboard. See https://bugs.webkit.org/show_bug.cgi?id=19893.\n      editor.update(insertFragment(editor._latestEditorState, internalClipboard));\n      return;\n    } // If there is html paste data, try to parse that.\n\n\n    if (html) {\n      var htmlFragment = DraftPasteProcessor.processHTML(html, editor.props.blockRenderMap);\n\n      if (htmlFragment) {\n        var contentBlocks = htmlFragment.contentBlocks,\n            entityMap = htmlFragment.entityMap;\n\n        if (contentBlocks) {\n          var htmlMap = BlockMapBuilder.createFromArray(contentBlocks);\n          editor.update(insertFragment(editor._latestEditorState, htmlMap, entityMap));\n          return;\n        }\n      }\n    } // Otherwise, create a new fragment from our pasted text. Also\n    // empty the internal clipboard, since it's no longer valid.\n\n\n    editor.setClipboard(null);\n  }\n\n  if (textBlocks.length) {\n    var character = CharacterMetadata.create({\n      style: editorState.getCurrentInlineStyle(),\n      entity: getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection())\n    });\n    var currentBlockType = RichTextEditorUtil.getCurrentBlockType(editorState);\n    var textFragment = DraftPasteProcessor.processText(textBlocks, character, currentBlockType);\n    var textMap = BlockMapBuilder.createFromArray(textFragment);\n    editor.update(insertFragment(editor._latestEditorState, textMap));\n  }\n}\n\nfunction insertFragment(editorState, fragment, entityMap) {\n  var newContent = DraftModifier.replaceWithFragment(editorState.getCurrentContent(), editorState.getSelection(), fragment); // TODO: merge the entity map once we stop using DraftEntity\n  // like this:\n  // const mergedEntityMap = newContent.getEntityMap().merge(entityMap);\n\n  return EditorState.push(editorState, newContent.set('entityMap', entityMap), 'insert-fragment');\n}\n\nfunction areTextBlocksAndClipboardEqual(textBlocks, blockMap) {\n  return textBlocks.length === blockMap.size && blockMap.valueSeq().every(function (block, ii) {\n    return block.getText() === textBlocks[ii];\n  });\n}\n\nmodule.exports = editOnPaste;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ContentBlock = require(\"./ContentBlock\");\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar convertFromHTMLToContentBlocks = require(\"./convertFromHTMLToContentBlocks\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getSafeBodyFromHTML = require(\"./getSafeBodyFromHTML\");\n\nvar gkx = require(\"./gkx\");\n\nvar Immutable = require(\"immutable\");\n\nvar sanitizeDraftText = require(\"./sanitizeDraftText\");\n\nvar List = Immutable.List,\n    Repeat = Immutable.Repeat;\nvar experimentalTreeDataSupport = gkx('draft_tree_data_support');\nvar ContentBlockRecord = experimentalTreeDataSupport ? ContentBlockNode : ContentBlock;\nvar DraftPasteProcessor = {\n  processHTML: function processHTML(html, blockRenderMap) {\n    return convertFromHTMLToContentBlocks(html, getSafeBodyFromHTML, blockRenderMap);\n  },\n  processText: function processText(textBlocks, character, type) {\n    return textBlocks.reduce(function (acc, textLine, index) {\n      textLine = sanitizeDraftText(textLine);\n      var key = generateRandomKey();\n      var blockNodeConfig = {\n        key: key,\n        type: type,\n        text: textLine,\n        characterList: List(Repeat(character, textLine.length))\n      }; // next block updates previous block\n\n      if (experimentalTreeDataSupport && index !== 0) {\n        var prevSiblingIndex = index - 1; // update previous block\n\n        var previousBlock = acc[prevSiblingIndex] = acc[prevSiblingIndex].merge({\n          nextSibling: key\n        });\n        blockNodeConfig = _objectSpread({}, blockNodeConfig, {\n          prevSibling: previousBlock.getKey()\n        });\n      }\n\n      acc.push(new ContentBlockRecord(blockNodeConfig));\n      return acc;\n    }, []);\n  }\n};\nmodule.exports = DraftPasteProcessor;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n'use strict';\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar URI =\n/*#__PURE__*/\nfunction () {\n  function URI(uri) {\n    _defineProperty(this, \"_uri\", void 0);\n\n    this._uri = uri;\n  }\n\n  var _proto = URI.prototype;\n\n  _proto.toString = function toString() {\n    return this._uri;\n  };\n\n  return URI;\n}();\n\nmodule.exports = URI;","\"use strict\";\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\nvar isElement = require(\"./isElement\");\n\nfunction isHTMLAnchorElement(node) {\n  if (!node || !node.ownerDocument) {\n    return false;\n  }\n\n  return isElement(node) && node.nodeName === 'A';\n}\n\nmodule.exports = isHTMLAnchorElement;","\"use strict\";\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\nvar isElement = require(\"./isElement\");\n\nfunction isHTMLImageElement(node) {\n  if (!node || !node.ownerDocument) {\n    return false;\n  }\n\n  return isElement(node) && node.nodeName === 'IMG';\n}\n\nmodule.exports = isHTMLImageElement;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction adjustBlockDepthForContentState(contentState, selectionState, adjustment, maxDepth) {\n  var startKey = selectionState.getStartKey();\n  var endKey = selectionState.getEndKey();\n  var blockMap = contentState.getBlockMap();\n  var blocks = blockMap.toSeq().skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).concat([[endKey, blockMap.get(endKey)]]).map(function (block) {\n    var depth = block.getDepth() + adjustment;\n    depth = Math.max(0, Math.min(depth, maxDepth));\n    return block.set('depth', depth);\n  });\n  blockMap = blockMap.merge(blocks);\n  return contentState.merge({\n    blockMap: blockMap,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\n\nmodule.exports = adjustBlockDepthForContentState;","(function() { module.exports = this[\"eventespresso\"][\"adapters\"]; }());","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar NEWLINE_REGEX = /\\r\\n?|\\n/g;\n\nfunction splitTextIntoTextBlocks(text) {\n  return text.split(NEWLINE_REGEX);\n}\n\nmodule.exports = splitTextIntoTextBlocks;","\"use strict\";\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\nvar ReactDOMComet = require(\"react-dom\");\n\nvar flushControlled = ReactDOMComet.unstable_flushControlled;\nmodule.exports = flushControlled;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar React = require(\"react\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\n/**\n * This component is responsible for rendering placeholder text for the\n * `DraftEditor` component.\n *\n * Override placeholder style via CSS.\n */\nvar DraftEditorPlaceholder = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DraftEditorPlaceholder, _React$Component);\n\n  function DraftEditorPlaceholder() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = DraftEditorPlaceholder.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    return this.props.text !== nextProps.text || this.props.editorState.getSelection().getHasFocus() !== nextProps.editorState.getSelection().getHasFocus();\n  };\n\n  _proto.render = function render() {\n    var hasFocus = this.props.editorState.getSelection().getHasFocus();\n    var className = cx({\n      'public/DraftEditorPlaceholder/root': true,\n      'public/DraftEditorPlaceholder/hasFocus': hasFocus\n    });\n    var contentStyle = {\n      whiteSpace: 'pre-wrap'\n    };\n    return React.createElement(\"div\", {\n      className: className\n    }, React.createElement(\"div\", {\n      className: cx('public/DraftEditorPlaceholder/inner'),\n      id: this.props.accessibilityID,\n      style: contentStyle\n    }, this.props.text));\n  };\n\n  return DraftEditorPlaceholder;\n}(React.Component);\n\nmodule.exports = DraftEditorPlaceholder;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ContentBlock = require(\"./ContentBlock\");\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar DraftStringKey = require(\"./DraftStringKey\");\n\nvar encodeEntityRanges = require(\"./encodeEntityRanges\");\n\nvar encodeInlineStyleRanges = require(\"./encodeInlineStyleRanges\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar createRawBlock = function createRawBlock(block, entityStorageMap) {\n  return {\n    key: block.getKey(),\n    text: block.getText(),\n    type: block.getType(),\n    depth: block.getDepth(),\n    inlineStyleRanges: encodeInlineStyleRanges(block),\n    entityRanges: encodeEntityRanges(block, entityStorageMap),\n    data: block.getData().toObject()\n  };\n};\n\nvar insertRawBlock = function insertRawBlock(block, entityMap, rawBlocks, blockCacheRef) {\n  if (block instanceof ContentBlock) {\n    rawBlocks.push(createRawBlock(block, entityMap));\n    return;\n  }\n\n  !(block instanceof ContentBlockNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'block is not a BlockNode') : invariant(false) : void 0;\n  var parentKey = block.getParentKey();\n\n  var rawBlock = blockCacheRef[block.getKey()] = _objectSpread({}, createRawBlock(block, entityMap), {\n    children: []\n  });\n\n  if (parentKey) {\n    blockCacheRef[parentKey].children.push(rawBlock);\n    return;\n  }\n\n  rawBlocks.push(rawBlock);\n};\n\nvar encodeRawBlocks = function encodeRawBlocks(contentState, rawState) {\n  var entityMap = rawState.entityMap;\n  var rawBlocks = [];\n  var blockCacheRef = {};\n  var entityCacheRef = {};\n  var entityStorageKey = 0;\n  contentState.getBlockMap().forEach(function (block) {\n    block.findEntityRanges(function (character) {\n      return character.getEntity() !== null;\n    }, function (start) {\n      var entityKey = block.getEntityAt(start); // Stringify to maintain order of otherwise numeric keys.\n\n      var stringifiedEntityKey = DraftStringKey.stringify(entityKey); // This makes this function resilient to two entities\n      // erroneously having the same key\n\n      if (entityCacheRef[stringifiedEntityKey]) {\n        return;\n      }\n\n      entityCacheRef[stringifiedEntityKey] = entityKey; // we need the `any` casting here since this is a temporary state\n      // where we will later on flip the entity map and populate it with\n      // real entity, at this stage we just need to map back the entity\n      // key used by the BlockNode\n\n      entityMap[stringifiedEntityKey] = \"\".concat(entityStorageKey);\n      entityStorageKey++;\n    });\n    insertRawBlock(block, entityMap, rawBlocks, blockCacheRef);\n  });\n  return {\n    blocks: rawBlocks,\n    entityMap: entityMap\n  };\n}; // Flip storage map so that our storage keys map to global\n// DraftEntity keys.\n\n\nvar encodeRawEntityMap = function encodeRawEntityMap(contentState, rawState) {\n  var blocks = rawState.blocks,\n      entityMap = rawState.entityMap;\n  var rawEntityMap = {};\n  Object.keys(entityMap).forEach(function (key, index) {\n    var entity = contentState.getEntity(DraftStringKey.unstringify(key));\n    rawEntityMap[index] = {\n      type: entity.getType(),\n      mutability: entity.getMutability(),\n      data: entity.getData()\n    };\n  });\n  return {\n    blocks: blocks,\n    entityMap: rawEntityMap\n  };\n};\n\nvar convertFromDraftStateToRaw = function convertFromDraftStateToRaw(contentState) {\n  var rawDraftContentState = {\n    entityMap: {},\n    blocks: []\n  }; // add blocks\n\n  rawDraftContentState = encodeRawBlocks(contentState, rawDraftContentState); // add entities\n\n  rawDraftContentState = encodeRawEntityMap(contentState, rawDraftContentState);\n  return rawDraftContentState;\n};\n\nmodule.exports = convertFromDraftStateToRaw;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftStringKey = require(\"./DraftStringKey\");\n\nvar UnicodeUtils = require(\"fbjs/lib/UnicodeUtils\");\n\nvar strlen = UnicodeUtils.strlen;\n/**\n * Convert to UTF-8 character counts for storage.\n */\n\nfunction encodeEntityRanges(block, storageMap) {\n  var encoded = [];\n  block.findEntityRanges(function (character) {\n    return !!character.getEntity();\n  }, function (\n  /*number*/\n  start,\n  /*number*/\n  end) {\n    var text = block.getText();\n    var key = block.getEntityAt(start);\n    encoded.push({\n      offset: strlen(text.slice(0, start)),\n      length: strlen(text.slice(start, end)),\n      // Encode the key as a number for range storage.\n      key: Number(storageMap[DraftStringKey.stringify(key)])\n    });\n  });\n  return encoded;\n}\n\nmodule.exports = encodeEntityRanges;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UnicodeUtils = require(\"fbjs/lib/UnicodeUtils\");\n\nvar findRangesImmutable = require(\"./findRangesImmutable\");\n\nvar areEqual = function areEqual(a, b) {\n  return a === b;\n};\n\nvar isTruthy = function isTruthy(a) {\n  return !!a;\n};\n\nvar EMPTY_ARRAY = [];\n/**\n * Helper function for getting encoded styles for each inline style. Convert\n * to UTF-8 character counts for storage.\n */\n\nfunction getEncodedInlinesForType(block, styleList, styleToEncode) {\n  var ranges = []; // Obtain an array with ranges for only the specified style.\n\n  var filteredInlines = styleList.map(function (style) {\n    return style.has(styleToEncode);\n  }).toList();\n  findRangesImmutable(filteredInlines, areEqual, // We only want to keep ranges with nonzero style values.\n  isTruthy, function (start, end) {\n    var text = block.getText();\n    ranges.push({\n      offset: UnicodeUtils.strlen(text.slice(0, start)),\n      length: UnicodeUtils.strlen(text.slice(start, end)),\n      style: styleToEncode\n    });\n  });\n  return ranges;\n}\n/*\n * Retrieve the encoded arrays of inline styles, with each individual style\n * treated separately.\n */\n\n\nfunction encodeInlineStyleRanges(block) {\n  var styleList = block.getCharacterList().map(function (c) {\n    return c.getStyle();\n  }).toList();\n  var ranges = styleList.flatten().toSet().map(function (style) {\n    return getEncodedInlinesForType(block, styleList, style);\n  });\n  return Array.prototype.concat.apply(EMPTY_ARRAY, ranges.toJS());\n}\n\nmodule.exports = encodeInlineStyleRanges;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ContentBlock = require(\"./ContentBlock\");\n\nvar ContentBlockNode = require(\"./ContentBlockNode\");\n\nvar ContentState = require(\"./ContentState\");\n\nvar DraftEntity = require(\"./DraftEntity\");\n\nvar DraftTreeAdapter = require(\"./DraftTreeAdapter\");\n\nvar DraftTreeInvariants = require(\"./DraftTreeInvariants\");\n\nvar SelectionState = require(\"./SelectionState\");\n\nvar createCharacterList = require(\"./createCharacterList\");\n\nvar decodeEntityRanges = require(\"./decodeEntityRanges\");\n\nvar decodeInlineStyleRanges = require(\"./decodeInlineStyleRanges\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar gkx = require(\"./gkx\");\n\nvar Immutable = require(\"immutable\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar experimentalTreeDataSupport = gkx('draft_tree_data_support');\nvar List = Immutable.List,\n    Map = Immutable.Map,\n    OrderedMap = Immutable.OrderedMap;\n\nvar decodeBlockNodeConfig = function decodeBlockNodeConfig(block, entityMap) {\n  var key = block.key,\n      type = block.type,\n      data = block.data,\n      text = block.text,\n      depth = block.depth;\n  var blockNodeConfig = {\n    text: text,\n    depth: depth || 0,\n    type: type || 'unstyled',\n    key: key || generateRandomKey(),\n    data: Map(data),\n    characterList: decodeCharacterList(block, entityMap)\n  };\n  return blockNodeConfig;\n};\n\nvar decodeCharacterList = function decodeCharacterList(block, entityMap) {\n  var text = block.text,\n      rawEntityRanges = block.entityRanges,\n      rawInlineStyleRanges = block.inlineStyleRanges;\n  var entityRanges = rawEntityRanges || [];\n  var inlineStyleRanges = rawInlineStyleRanges || []; // Translate entity range keys to the DraftEntity map.\n\n  return createCharacterList(decodeInlineStyleRanges(text, inlineStyleRanges), decodeEntityRanges(text, entityRanges.filter(function (range) {\n    return entityMap.hasOwnProperty(range.key);\n  }).map(function (range) {\n    return _objectSpread({}, range, {\n      key: entityMap[range.key]\n    });\n  })));\n};\n\nvar addKeyIfMissing = function addKeyIfMissing(block) {\n  return _objectSpread({}, block, {\n    key: block.key || generateRandomKey()\n  });\n};\n/**\n * Node stack is responsible to ensure we traverse the tree only once\n * in depth order, while also providing parent refs to inner nodes to\n * construct their links.\n */\n\n\nvar updateNodeStack = function updateNodeStack(stack, nodes, parentRef) {\n  var nodesWithParentRef = nodes.map(function (block) {\n    return _objectSpread({}, block, {\n      parentRef: parentRef\n    });\n  }); // since we pop nodes from the stack we need to insert them in reverse\n\n  return stack.concat(nodesWithParentRef.reverse());\n};\n/**\n * This will build a tree draft content state by creating the node\n * reference links into a single tree walk. Each node has a link\n * reference to \"parent\", \"children\", \"nextSibling\" and \"prevSibling\"\n * blockMap will be created using depth ordering.\n */\n\n\nvar decodeContentBlockNodes = function decodeContentBlockNodes(blocks, entityMap) {\n  return blocks // ensure children have valid keys to enable sibling links\n  .map(addKeyIfMissing).reduce(function (blockMap, block, index) {\n    !Array.isArray(block.children) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'invalid RawDraftContentBlock can not be converted to ContentBlockNode') : invariant(false) : void 0; // ensure children have valid keys to enable sibling links\n\n    var children = block.children.map(addKeyIfMissing); // root level nodes\n\n    var contentBlockNode = new ContentBlockNode(_objectSpread({}, decodeBlockNodeConfig(block, entityMap), {\n      prevSibling: index === 0 ? null : blocks[index - 1].key,\n      nextSibling: index === blocks.length - 1 ? null : blocks[index + 1].key,\n      children: List(children.map(function (child) {\n        return child.key;\n      }))\n    })); // push root node to blockMap\n\n    blockMap = blockMap.set(contentBlockNode.getKey(), contentBlockNode); // this stack is used to ensure we visit all nodes respecting depth ordering\n\n    var stack = updateNodeStack([], children, contentBlockNode); // start computing children nodes\n\n    while (stack.length > 0) {\n      // we pop from the stack and start processing this node\n      var node = stack.pop(); // parentRef already points to a converted ContentBlockNode\n\n      var parentRef = node.parentRef;\n      var siblings = parentRef.getChildKeys();\n\n      var _index = siblings.indexOf(node.key);\n\n      var isValidBlock = Array.isArray(node.children);\n\n      if (!isValidBlock) {\n        !isValidBlock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'invalid RawDraftContentBlock can not be converted to ContentBlockNode') : invariant(false) : void 0;\n        break;\n      } // ensure children have valid keys to enable sibling links\n\n\n      var _children = node.children.map(addKeyIfMissing);\n\n      var _contentBlockNode = new ContentBlockNode(_objectSpread({}, decodeBlockNodeConfig(node, entityMap), {\n        parent: parentRef.getKey(),\n        children: List(_children.map(function (child) {\n          return child.key;\n        })),\n        prevSibling: _index === 0 ? null : siblings.get(_index - 1),\n        nextSibling: _index === siblings.size - 1 ? null : siblings.get(_index + 1)\n      })); // push node to blockMap\n\n\n      blockMap = blockMap.set(_contentBlockNode.getKey(), _contentBlockNode); // this stack is used to ensure we visit all nodes respecting depth ordering\n\n      stack = updateNodeStack(stack, _children, _contentBlockNode);\n    }\n\n    return blockMap;\n  }, OrderedMap());\n};\n\nvar decodeContentBlocks = function decodeContentBlocks(blocks, entityMap) {\n  return OrderedMap(blocks.map(function (block) {\n    var contentBlock = new ContentBlock(decodeBlockNodeConfig(block, entityMap));\n    return [contentBlock.getKey(), contentBlock];\n  }));\n};\n\nvar decodeRawBlocks = function decodeRawBlocks(rawState, entityMap) {\n  var isTreeRawBlock = rawState.blocks.find(function (block) {\n    return Array.isArray(block.children) && block.children.length > 0;\n  });\n  var rawBlocks = experimentalTreeDataSupport && !isTreeRawBlock ? DraftTreeAdapter.fromRawStateToRawTreeState(rawState).blocks : rawState.blocks;\n\n  if (!experimentalTreeDataSupport) {\n    return decodeContentBlocks(isTreeRawBlock ? DraftTreeAdapter.fromRawTreeStateToRawState(rawState).blocks : rawBlocks, entityMap);\n  }\n\n  var blockMap = decodeContentBlockNodes(rawBlocks, entityMap); // in dev mode, check that the tree invariants are met\n\n  if (process.env.NODE_ENV !== \"production\") {\n    !DraftTreeInvariants.isValidTree(blockMap) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should be a valid tree') : invariant(false) : void 0;\n  }\n\n  return blockMap;\n};\n\nvar decodeRawEntityMap = function decodeRawEntityMap(rawState) {\n  var rawEntityMap = rawState.entityMap;\n  var entityMap = {}; // TODO: Update this once we completely remove DraftEntity\n\n  Object.keys(rawEntityMap).forEach(function (rawEntityKey) {\n    var _rawEntityMap$rawEnti = rawEntityMap[rawEntityKey],\n        type = _rawEntityMap$rawEnti.type,\n        mutability = _rawEntityMap$rawEnti.mutability,\n        data = _rawEntityMap$rawEnti.data; // get the key reference to created entity\n\n    entityMap[rawEntityKey] = DraftEntity.__create(type, mutability, data || {});\n  });\n  return entityMap;\n};\n\nvar convertFromRawToDraftState = function convertFromRawToDraftState(rawState) {\n  !Array.isArray(rawState.blocks) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'invalid RawDraftContentState') : invariant(false) : void 0; // decode entities\n\n  var entityMap = decodeRawEntityMap(rawState); // decode blockMap\n\n  var blockMap = decodeRawBlocks(rawState, entityMap); // create initial selection\n\n  var selectionState = blockMap.isEmpty() ? new SelectionState() : SelectionState.createEmpty(blockMap.first().getKey());\n  return new ContentState({\n    blockMap: blockMap,\n    entityMap: entityMap,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n};\n\nmodule.exports = convertFromRawToDraftState;","\"use strict\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar traverseInDepthOrder = function traverseInDepthOrder(blocks, fn) {\n  var stack = [].concat(blocks).reverse();\n\n  while (stack.length) {\n    var _block = stack.pop();\n\n    fn(_block);\n    var children = _block.children;\n    !Array.isArray(children) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid tree raw block') : invariant(false) : void 0;\n    stack = stack.concat([].concat(children.reverse()));\n  }\n};\n\nvar isListBlock = function isListBlock(block) {\n  if (!(block && block.type)) {\n    return false;\n  }\n\n  var type = block.type;\n  return type === 'unordered-list-item' || type === 'ordered-list-item';\n};\n\nvar addDepthToChildren = function addDepthToChildren(block) {\n  if (Array.isArray(block.children)) {\n    block.children = block.children.map(function (child) {\n      return child.type === block.type ? _objectSpread({}, child, {\n        depth: (block.depth || 0) + 1\n      }) : child;\n    });\n  }\n};\n/**\n * This adapter is intended to be be used as an adapter to draft tree data\n *\n * draft state <=====> draft tree state\n */\n\n\nvar DraftTreeAdapter = {\n  /**\n   * Converts from a tree raw state back to draft raw state\n   */\n  fromRawTreeStateToRawState: function fromRawTreeStateToRawState(draftTreeState) {\n    var blocks = draftTreeState.blocks;\n    var transformedBlocks = [];\n    !Array.isArray(blocks) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid raw state') : invariant(false) : void 0;\n\n    if (!Array.isArray(blocks) || !blocks.length) {\n      return draftTreeState;\n    }\n\n    traverseInDepthOrder(blocks, function (block) {\n      var newBlock = _objectSpread({}, block);\n\n      if (isListBlock(block)) {\n        newBlock.depth = newBlock.depth || 0;\n        addDepthToChildren(block); // if it's a non-leaf node, we don't do anything else\n\n        if (block.children != null && block.children.length > 0) {\n          return;\n        }\n      }\n\n      delete newBlock.children;\n      transformedBlocks.push(newBlock);\n    });\n    draftTreeState.blocks = transformedBlocks;\n    return _objectSpread({}, draftTreeState, {\n      blocks: transformedBlocks\n    });\n  },\n\n  /**\n   * Converts from draft raw state to tree draft state\n   */\n  fromRawStateToRawTreeState: function fromRawStateToRawTreeState(draftState) {\n    var transformedBlocks = [];\n    var parentStack = [];\n    draftState.blocks.forEach(function (block) {\n      var isList = isListBlock(block);\n      var depth = block.depth || 0;\n\n      var treeBlock = _objectSpread({}, block, {\n        children: []\n      });\n\n      if (!isList) {\n        transformedBlocks.push(treeBlock);\n        return;\n      }\n\n      var lastParent = parentStack[0]; // block is non-nested & there are no nested blocks, directly push block\n\n      if (lastParent == null && depth === 0) {\n        transformedBlocks.push(treeBlock); // block is first nested block or previous nested block is at a lower level\n      } else if (lastParent == null || lastParent.depth < depth - 1) {\n        // create new parent block\n        var newParent = {\n          key: generateRandomKey(),\n          text: '',\n          depth: depth - 1,\n          type: block.type,\n          children: [],\n          entityRanges: [],\n          inlineStyleRanges: []\n        };\n        parentStack.unshift(newParent);\n\n        if (depth === 1) {\n          // add as a root-level block\n          transformedBlocks.push(newParent);\n        } else if (lastParent != null) {\n          // depth > 1 => also add as previous parent's child\n          lastParent.children.push(newParent);\n        }\n\n        newParent.children.push(treeBlock);\n      } else if (lastParent.depth === depth - 1) {\n        // add as child of last parent\n        lastParent.children.push(treeBlock);\n      } else {\n        // pop out parents at levels above this one from the parent stack\n        while (lastParent != null && lastParent.depth >= depth) {\n          parentStack.shift();\n          lastParent = parentStack[0];\n        }\n\n        if (depth > 0) {\n          lastParent.children.push(treeBlock);\n        } else {\n          transformedBlocks.push(treeBlock);\n        }\n      }\n    });\n    return _objectSpread({}, draftState, {\n      blocks: transformedBlocks\n    });\n  }\n};\nmodule.exports = DraftTreeAdapter;","\"use strict\";\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\nvar warning = require(\"fbjs/lib/warning\");\n\nvar DraftTreeInvariants = {\n  /**\n   * Check if the block is valid\n   */\n  isValidBlock: function isValidBlock(block, blockMap) {\n    var key = block.getKey(); // is its parent's child\n\n    var parentKey = block.getParentKey();\n\n    if (parentKey != null) {\n      var parent = blockMap.get(parentKey);\n\n      if (!parent.getChildKeys().includes(key)) {\n        process.env.NODE_ENV !== \"production\" ? warning(true, 'Tree is missing parent -> child pointer on %s', key) : void 0;\n        return false;\n      }\n    } // is its children's parent\n\n\n    var children = block.getChildKeys().map(function (k) {\n      return blockMap.get(k);\n    });\n\n    if (!children.every(function (c) {\n      return c.getParentKey() === key;\n    })) {\n      process.env.NODE_ENV !== \"production\" ? warning(true, 'Tree is missing child -> parent pointer on %s', key) : void 0;\n      return false;\n    } // is its previous sibling's next sibling\n\n\n    var prevSiblingKey = block.getPrevSiblingKey();\n\n    if (prevSiblingKey != null) {\n      var prevSibling = blockMap.get(prevSiblingKey);\n\n      if (prevSibling.getNextSiblingKey() !== key) {\n        process.env.NODE_ENV !== \"production\" ? warning(true, \"Tree is missing nextSibling pointer on %s's prevSibling\", key) : void 0;\n        return false;\n      }\n    } // is its next sibling's previous sibling\n\n\n    var nextSiblingKey = block.getNextSiblingKey();\n\n    if (nextSiblingKey != null) {\n      var nextSibling = blockMap.get(nextSiblingKey);\n\n      if (nextSibling.getPrevSiblingKey() !== key) {\n        process.env.NODE_ENV !== \"production\" ? warning(true, \"Tree is missing prevSibling pointer on %s's nextSibling\", key) : void 0;\n        return false;\n      }\n    } // no 2-node cycles\n\n\n    if (nextSiblingKey !== null && prevSiblingKey !== null) {\n      if (prevSiblingKey === nextSiblingKey) {\n        process.env.NODE_ENV !== \"production\" ? warning(true, 'Tree has a two-node cycle at %s', key) : void 0;\n        return false;\n      }\n    } // if it's a leaf node, it has text but no children\n\n\n    if (block.text != '') {\n      if (block.getChildKeys().size > 0) {\n        process.env.NODE_ENV !== \"production\" ? warning(true, 'Leaf node %s has children', key) : void 0;\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  /**\n   * Checks that this is a connected tree on all the blocks\n   * starting from the first block, traversing nextSibling and child pointers\n   * should be a tree (preorder traversal - parent, then children)\n   * num of connected node === number of blocks\n   */\n  isConnectedTree: function isConnectedTree(blockMap) {\n    // exactly one node has no previous sibling + no parent\n    var eligibleFirstNodes = blockMap.toArray().filter(function (block) {\n      return block.getParentKey() == null && block.getPrevSiblingKey() == null;\n    });\n\n    if (eligibleFirstNodes.length !== 1) {\n      process.env.NODE_ENV !== \"production\" ? warning(true, 'Tree is not connected. More or less than one first node') : void 0;\n      return false;\n    }\n\n    var firstNode = eligibleFirstNodes.shift();\n    var nodesSeen = 0;\n    var currentKey = firstNode.getKey();\n    var visitedStack = [];\n\n    while (currentKey != null) {\n      var currentNode = blockMap.get(currentKey);\n      var childKeys = currentNode.getChildKeys();\n      var nextSiblingKey = currentNode.getNextSiblingKey(); // if the node has children, add parent's next sibling to stack and go to children\n\n      if (childKeys.size > 0) {\n        if (nextSiblingKey != null) {\n          visitedStack.unshift(nextSiblingKey);\n        }\n\n        var children = childKeys.map(function (k) {\n          return blockMap.get(k);\n        });\n\n        var _firstNode = children.find(function (block) {\n          return block.getPrevSiblingKey() == null;\n        });\n\n        if (_firstNode == null) {\n          process.env.NODE_ENV !== \"production\" ? warning(true, '%s has no first child', currentKey) : void 0;\n          return false;\n        }\n\n        currentKey = _firstNode.getKey(); // TODO(T32490138): Deal with multi-node cycles here\n      } else {\n        if (currentNode.getNextSiblingKey() != null) {\n          currentKey = currentNode.getNextSiblingKey();\n        } else {\n          currentKey = visitedStack.shift();\n        }\n      }\n\n      nodesSeen++;\n    }\n\n    if (nodesSeen !== blockMap.size) {\n      process.env.NODE_ENV !== \"production\" ? warning(true, 'Tree is not connected. %s nodes were seen instead of %s', nodesSeen, blockMap.size) : void 0;\n      return false;\n    }\n\n    return true;\n  },\n\n  /**\n   * Checks that the block map is a connected tree with valid blocks\n   */\n  isValidTree: function isValidTree(blockMap) {\n    var _this = this;\n\n    var blocks = blockMap.toArray();\n\n    if (!blocks.every(function (block) {\n      return _this.isValidBlock(block, blockMap);\n    })) {\n      return false;\n    }\n\n    return this.isConnectedTree(blockMap);\n  }\n};\nmodule.exports = DraftTreeInvariants;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar Immutable = require(\"immutable\");\n\nvar List = Immutable.List;\n\nfunction createCharacterList(inlineStyles, entities) {\n  var characterArray = inlineStyles.map(function (style, ii) {\n    var entity = entities[ii];\n    return CharacterMetadata.create({\n      style: style,\n      entity: entity\n    });\n  });\n  return List(characterArray);\n}\n\nmodule.exports = createCharacterList;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UnicodeUtils = require(\"fbjs/lib/UnicodeUtils\");\n\nvar substr = UnicodeUtils.substr;\n/**\n * Convert to native JavaScript string lengths to determine ranges.\n */\n\nfunction decodeEntityRanges(text, ranges) {\n  var entities = Array(text.length).fill(null);\n\n  if (ranges) {\n    ranges.forEach(function (range) {\n      // Using Unicode-enabled substrings converted to JavaScript lengths,\n      // fill the output array with entity keys.\n      var start = substr(text, 0, range.offset).length;\n      var end = start + substr(text, range.offset, range.length).length;\n\n      for (var ii = start; ii < end; ii++) {\n        entities[ii] = range.key;\n      }\n    });\n  }\n\n  return entities;\n}\n\nmodule.exports = decodeEntityRanges;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar UnicodeUtils = require(\"fbjs/lib/UnicodeUtils\");\n\nvar _require = require(\"immutable\"),\n    OrderedSet = _require.OrderedSet;\n\nvar substr = UnicodeUtils.substr;\nvar EMPTY_SET = OrderedSet();\n/**\n * Convert to native JavaScript string lengths to determine ranges.\n */\n\nfunction decodeInlineStyleRanges(text, ranges) {\n  var styles = Array(text.length).fill(EMPTY_SET);\n\n  if (ranges) {\n    ranges.forEach(function (range) {\n      var cursor = substr(text, 0, range.offset).length;\n      var end = cursor + substr(text, range.offset, range.length).length;\n\n      while (cursor < end) {\n        styles[cursor] = styles[cursor].add(range.style);\n        cursor++;\n      }\n    });\n  }\n\n  return styles;\n}\n\nmodule.exports = decodeInlineStyleRanges;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar getRangeBoundingClientRect = require(\"./getRangeBoundingClientRect\");\n/**\n * Return the bounding ClientRect for the visible DOM selection, if any.\n * In cases where there are no selected ranges or the bounding rect is\n * temporarily invalid, return null.\n *\n * When using from an iframe, you should pass the iframe window object\n */\n\n\nfunction getVisibleSelectionRect(global) {\n  var selection = global.getSelection();\n\n  if (!selection.rangeCount) {\n    return null;\n  }\n\n  var range = selection.getRangeAt(0);\n  var boundingRect = getRangeBoundingClientRect(range);\n  var top = boundingRect.top,\n      right = boundingRect.right,\n      bottom = boundingRect.bottom,\n      left = boundingRect.left; // When a re-render leads to a node being removed, the DOM selection will\n  // temporarily be placed on an ancestor node, which leads to an invalid\n  // bounding rect. Discard this state.\n\n  if (top === 0 && right === 0 && bottom === 0 && left === 0) {\n    return null;\n  }\n\n  return boundingRect;\n}\n\nmodule.exports = getVisibleSelectionRect;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar getRangeClientRects = require(\"./getRangeClientRects\");\n\n/**\n * Like range.getBoundingClientRect() but normalizes for browser bugs.\n */\nfunction getRangeBoundingClientRect(range) {\n  // \"Return a DOMRect object describing the smallest rectangle that includes\n  // the first rectangle in list and all of the remaining rectangles of which\n  // the height or width is not zero.\"\n  // http://www.w3.org/TR/cssom-view/#dom-range-getboundingclientrect\n  var rects = getRangeClientRects(range);\n  var top = 0;\n  var right = 0;\n  var bottom = 0;\n  var left = 0;\n\n  if (rects.length) {\n    // If the first rectangle has 0 width, we use the second, this is needed\n    // because Chrome renders a 0 width rectangle when the selection contains\n    // a line break.\n    if (rects.length > 1 && rects[0].width === 0) {\n      var _rects$ = rects[1];\n      top = _rects$.top;\n      right = _rects$.right;\n      bottom = _rects$.bottom;\n      left = _rects$.left;\n    } else {\n      var _rects$2 = rects[0];\n      top = _rects$2.top;\n      right = _rects$2.right;\n      bottom = _rects$2.bottom;\n      left = _rects$2.left;\n    }\n\n    for (var ii = 1; ii < rects.length; ii++) {\n      var rect = rects[ii];\n\n      if (rect.height !== 0 && rect.width !== 0) {\n        top = Math.min(top, rect.top);\n        right = Math.max(right, rect.right);\n        bottom = Math.max(bottom, rect.bottom);\n        left = Math.min(left, rect.left);\n      }\n    }\n  }\n\n  return {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: right - left,\n    height: bottom - top\n  };\n}\n\nmodule.exports = getRangeBoundingClientRect;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _server = _interopRequireDefault(require(\"react-dom/server\"));\n\nvar _draftJs = require(\"draft-js\");\n\nvar _encodeBlock = _interopRequireDefault(require(\"./encodeBlock\"));\n\nvar _blockEntities = _interopRequireDefault(require(\"./blockEntities\"));\n\nvar _blockInlineStyles = _interopRequireDefault(require(\"./blockInlineStyles\"));\n\nvar _accumulateFunction = _interopRequireDefault(require(\"./util/accumulateFunction\"));\n\nvar _blockTypeObjectFunction = _interopRequireDefault(require(\"./util/blockTypeObjectFunction\"));\n\nvar _getBlockTags = _interopRequireDefault(require(\"./util/getBlockTags\"));\n\nvar _getNestedBlockTags = _interopRequireDefault(require(\"./util/getNestedBlockTags\"));\n\nvar _defaultBlockHTML = _interopRequireDefault(require(\"./default/defaultBlockHTML\"));\n\n// import Immutable from 'immutable'; // eslint-disable-line no-unused-vars\nvar defaultEntityToHTML = function defaultEntityToHTML(entity, originalText) {\n  return originalText;\n};\n\nvar convertToHTML = function convertToHTML(_ref) {\n  var _ref$styleToHTML = _ref.styleToHTML,\n      styleToHTML = _ref$styleToHTML === void 0 ? {} : _ref$styleToHTML,\n      _ref$blockToHTML = _ref.blockToHTML,\n      blockToHTML = _ref$blockToHTML === void 0 ? {} : _ref$blockToHTML,\n      _ref$entityToHTML = _ref.entityToHTML,\n      entityToHTML = _ref$entityToHTML === void 0 ? defaultEntityToHTML : _ref$entityToHTML;\n  return function (contentState) {\n    (0, _invariant[\"default\"])(contentState !== null && contentState !== undefined, 'Expected contentState to be non-null');\n    var getBlockHTML;\n\n    if (blockToHTML.__isMiddleware === true) {\n      getBlockHTML = blockToHTML((0, _blockTypeObjectFunction[\"default\"])(_defaultBlockHTML[\"default\"]));\n    } else {\n      getBlockHTML = (0, _accumulateFunction[\"default\"])((0, _blockTypeObjectFunction[\"default\"])(blockToHTML), (0, _blockTypeObjectFunction[\"default\"])(_defaultBlockHTML[\"default\"]));\n    }\n\n    var rawState = (0, _draftJs.convertToRaw)(contentState);\n    var listStack = [];\n    var result = rawState.blocks.map(function (block) {\n      var type = block.type,\n          depth = block.depth;\n      var closeNestTags = '';\n      var openNestTags = '';\n      var blockHTMLResult = getBlockHTML(block);\n\n      if (!blockHTMLResult) {\n        throw new Error(\"convertToHTML: missing HTML definition for block with type \".concat(block.type));\n      }\n\n      if (!blockHTMLResult.nest) {\n        // this block can't be nested, so reset all nesting if necessary\n        closeNestTags = listStack.reduceRight(function (string, nestedBlock) {\n          return string + (0, _getNestedBlockTags[\"default\"])(getBlockHTML(nestedBlock), depth).nestEnd;\n        }, '');\n        listStack = [];\n      } else {\n        while (depth + 1 !== listStack.length || type !== listStack[depth].type) {\n          if (depth + 1 === listStack.length) {\n            // depth is right but doesn't match type\n            var blockToClose = listStack[depth];\n            closeNestTags += (0, _getNestedBlockTags[\"default\"])(getBlockHTML(blockToClose), depth).nestEnd;\n            openNestTags += (0, _getNestedBlockTags[\"default\"])(getBlockHTML(block), depth).nestStart;\n            listStack[depth] = block;\n          } else if (depth + 1 < listStack.length) {\n            var _blockToClose = listStack[listStack.length - 1];\n            closeNestTags += (0, _getNestedBlockTags[\"default\"])(getBlockHTML(_blockToClose), depth).nestEnd;\n            listStack = listStack.slice(0, -1);\n          } else {\n            openNestTags += (0, _getNestedBlockTags[\"default\"])(getBlockHTML(block), depth).nestStart;\n            listStack.push(block);\n          }\n        }\n      }\n\n      var innerHTML = (0, _blockInlineStyles[\"default\"])((0, _blockEntities[\"default\"])((0, _encodeBlock[\"default\"])(block), rawState.entityMap, entityToHTML), styleToHTML);\n      var blockHTML = (0, _getBlockTags[\"default\"])(getBlockHTML(block));\n      var html;\n\n      if (typeof blockHTML === 'string') {\n        html = blockHTML;\n      } else {\n        html = blockHTML.start + innerHTML + blockHTML.end;\n      }\n\n      if (innerHTML.length === 0 && Object.prototype.hasOwnProperty.call(blockHTML, 'empty')) {\n        if (_react[\"default\"].isValidElement(blockHTML.empty)) {\n          html = _server[\"default\"].renderToStaticMarkup(blockHTML.empty);\n        } else {\n          html = blockHTML.empty;\n        }\n      }\n\n      return closeNestTags + openNestTags + html;\n    }).join('');\n    result = listStack.reduce(function (res, nestBlock) {\n      return res + (0, _getNestedBlockTags[\"default\"])(getBlockHTML(nestBlock), nestBlock.depth).nestEnd;\n    }, result);\n    return result;\n  };\n};\n\nvar _default = function _default() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  if (args.length === 1 && Object.prototype.hasOwnProperty.call(args[0], '_map') && args[0].getBlockMap != null) {\n    // skip higher-order function and use defaults\n    return convertToHTML({}).apply(void 0, args);\n  }\n\n  return convertToHTML.apply(void 0, args);\n};\n\nexports[\"default\"] = _default;","/** @license React v17.0.1\n * react-dom-server.browser.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),m=require(\"react\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar q=60106,r=60107,u=60108,z=60114,B=60109,aa=60110,ba=60112,D=60113,ca=60120,da=60115,ea=60116,fa=60121,ha=60117,ia=60119,ja=60129,ka=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var E=Symbol.for;q=E(\"react.portal\");r=E(\"react.fragment\");u=E(\"react.strict_mode\");z=E(\"react.profiler\");B=E(\"react.provider\");aa=E(\"react.context\");ba=E(\"react.forward_ref\");D=E(\"react.suspense\");ca=E(\"react.suspense_list\");da=E(\"react.memo\");ea=E(\"react.lazy\");fa=E(\"react.block\");ha=E(\"react.fundamental\");ia=E(\"react.scope\");ja=E(\"react.debug_trace_mode\");ka=E(\"react.legacy_hidden\")}\nfunction F(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case r:return\"Fragment\";case q:return\"Portal\";case z:return\"Profiler\";case u:return\"StrictMode\";case D:return\"Suspense\";case ca:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case aa:return(a.displayName||\"Context\")+\".Consumer\";case B:return(a._context.displayName||\"Context\")+\".Provider\";case ba:var b=a.render;b=b.displayName||b.name||\"\";return a.displayName||\n(\"\"!==b?\"ForwardRef(\"+b+\")\":\"ForwardRef\");case da:return F(a.type);case fa:return F(a._render);case ea:b=a._payload;a=a._init;try{return F(a(b))}catch(c){}}return null}var la=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ma={};function I(a,b){for(var c=a._threadCount|0;c<=b;c++)a[c]=a._currentValue2,a._threadCount=c+1}function na(a,b,c,d){if(d&&(d=a.contextType,\"object\"===typeof d&&null!==d))return I(d,c),d[c];if(a=a.contextTypes){c={};for(var f in a)c[f]=b[f];b=c}else b=ma;return b}\nfor(var J=new Uint16Array(16),K=0;15>K;K++)J[K]=K+1;J[15]=0;var oa=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,pa=Object.prototype.hasOwnProperty,qa={},ra={};\nfunction sa(a){if(pa.call(ra,a))return!0;if(pa.call(qa,a))return!1;if(oa.test(a))return ra[a]=!0;qa[a]=!0;return!1}function ta(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction ua(a,b,c,d){if(null===b||\"undefined\"===typeof b||ta(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function M(a,b,c,d,f,h,t){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=f;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=h;this.removeEmptyString=t}var N={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){N[a]=new M(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];N[b]=new M(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){N[a]=new M(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){N[a]=new M(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){N[a]=new M(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){N[a]=new M(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){N[a]=new M(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){N[a]=new M(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){N[a]=new M(a,5,!1,a.toLowerCase(),null,!1,!1)});var va=/[\\-:]([a-z])/g;function wa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(va,\nwa);N[b]=new M(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(va,wa);N[b]=new M(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(va,wa);N[b]=new M(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){N[a]=new M(a,1,!1,a.toLowerCase(),null,!1,!1)});\nN.xlinkHref=new M(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){N[a]=new M(a,1,!1,a.toLowerCase(),null,!0,!0)});var xa=/[\"'&<>]/;\nfunction O(a){if(\"boolean\"===typeof a||\"number\"===typeof a)return\"\"+a;a=\"\"+a;var b=xa.exec(a);if(b){var c=\"\",d,f=0;for(d=b.index;d<a.length;d++){switch(a.charCodeAt(d)){case 34:b=\"&quot;\";break;case 38:b=\"&amp;\";break;case 39:b=\"&#x27;\";break;case 60:b=\"&lt;\";break;case 62:b=\"&gt;\";break;default:continue}f!==d&&(c+=a.substring(f,d));f=d+1;c+=b}a=f!==d?c+a.substring(f,d):c}return a}\nfunction ya(a,b){var c=N.hasOwnProperty(a)?N[a]:null;var d;if(d=\"style\"!==a)d=null!==c?0===c.type:!(2<a.length)||\"o\"!==a[0]&&\"O\"!==a[0]||\"n\"!==a[1]&&\"N\"!==a[1]?!1:!0;if(d||ua(a,b,c,!1))return\"\";if(null!==c){a=c.attributeName;d=c.type;if(3===d||4===d&&!0===b)return a+'=\"\"';c.sanitizeURL&&(b=\"\"+b);return a+'=\"'+(O(b)+'\"')}return sa(a)?a+'=\"'+(O(b)+'\"'):\"\"}function za(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}\nvar Aa=\"function\"===typeof Object.is?Object.is:za,P=null,Q=null,R=null,S=!1,T=!1,U=null,V=0;function W(){if(null===P)throw Error(p(321));return P}function Ba(){if(0<V)throw Error(p(312));return{memoizedState:null,queue:null,next:null}}function Ca(){null===R?null===Q?(S=!1,Q=R=Ba()):(S=!0,R=Q):null===R.next?(S=!1,R=R.next=Ba()):(S=!0,R=R.next);return R}function Da(a,b,c,d){for(;T;)T=!1,V+=1,R=null,c=a(b,d);Ea();return c}function Ea(){P=null;T=!1;Q=null;V=0;R=U=null}\nfunction Fa(a,b){return\"function\"===typeof b?b(a):b}function Ga(a,b,c){P=W();R=Ca();if(S){var d=R.queue;b=d.dispatch;if(null!==U&&(c=U.get(d),void 0!==c)){U.delete(d);d=R.memoizedState;do d=a(d,c.action),c=c.next;while(null!==c);R.memoizedState=d;return[d,b]}return[R.memoizedState,b]}a=a===Fa?\"function\"===typeof b?b():b:void 0!==c?c(b):b;R.memoizedState=a;a=R.queue={last:null,dispatch:null};a=a.dispatch=Ha.bind(null,P,a);return[R.memoizedState,a]}\nfunction Ia(a,b){P=W();R=Ca();b=void 0===b?null:b;if(null!==R){var c=R.memoizedState;if(null!==c&&null!==b){var d=c[1];a:if(null===d)d=!1;else{for(var f=0;f<d.length&&f<b.length;f++)if(!Aa(b[f],d[f])){d=!1;break a}d=!0}if(d)return c[0]}}a=a();R.memoizedState=[a,b];return a}function Ha(a,b,c){if(!(25>V))throw Error(p(301));if(a===P)if(T=!0,a={action:c,next:null},null===U&&(U=new Map),c=U.get(b),void 0===c)U.set(b,a);else{for(b=c;null!==b.next;)b=b.next;b.next=a}}function Ja(){}\nvar X=null,Ka={readContext:function(a){var b=X.threadID;I(a,b);return a[b]},useContext:function(a){W();var b=X.threadID;I(a,b);return a[b]},useMemo:Ia,useReducer:Ga,useRef:function(a){P=W();R=Ca();var b=R.memoizedState;return null===b?(a={current:a},R.memoizedState=a):b},useState:function(a){return Ga(Fa,a)},useLayoutEffect:function(){},useCallback:function(a,b){return Ia(function(){return a},b)},useImperativeHandle:Ja,useEffect:Ja,useDebugValue:Ja,useDeferredValue:function(a){W();return a},useTransition:function(){W();\nreturn[function(a){a()},!1]},useOpaqueIdentifier:function(){return(X.identifierPrefix||\"\")+\"R:\"+(X.uniqueID++).toString(36)},useMutableSource:function(a,b){W();return b(a._source)}},La={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};function Ma(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nvar Na={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Oa=l({menuitem:!0},Na),Y={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,\ngridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pa=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(Y).forEach(function(a){Pa.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);Y[b]=Y[a]})});\nvar Qa=/([A-Z])/g,Ra=/^ms-/,Z=m.Children.toArray,Sa=la.ReactCurrentDispatcher,Ta={listing:!0,pre:!0,textarea:!0},Ua=/^[a-zA-Z][a-zA-Z:_\\.\\-\\d]*$/,Va={},Wa={};function Xa(a){if(void 0===a||null===a)return a;var b=\"\";m.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}var Ya=Object.prototype.hasOwnProperty,Za={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function $a(a,b){if(void 0===a)throw Error(p(152,F(b)||\"Component\"));}\nfunction ab(a,b,c){function d(d,h){var e=h.prototype&&h.prototype.isReactComponent,f=na(h,b,c,e),t=[],g=!1,n={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===t)return null},enqueueReplaceState:function(a,c){g=!0;t=[c]},enqueueSetState:function(a,c){if(null===t)return null;t.push(c)}};if(e){if(e=new h(d.props,f,n),\"function\"===typeof h.getDerivedStateFromProps){var k=h.getDerivedStateFromProps.call(null,d.props,e.state);null!=k&&(e.state=l({},e.state,k))}}else if(P={},e=h(d.props,\nf,n),e=Da(h,d.props,e,f),null==e||null==e.render){a=e;$a(a,h);return}e.props=d.props;e.context=f;e.updater=n;n=e.state;void 0===n&&(e.state=n=null);if(\"function\"===typeof e.UNSAFE_componentWillMount||\"function\"===typeof e.componentWillMount)if(\"function\"===typeof e.componentWillMount&&\"function\"!==typeof h.getDerivedStateFromProps&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof h.getDerivedStateFromProps&&e.UNSAFE_componentWillMount(),t.length){n=t;var v=\ng;t=null;g=!1;if(v&&1===n.length)e.state=n[0];else{k=v?n[0]:e.state;var H=!0;for(v=v?1:0;v<n.length;v++){var x=n[v];x=\"function\"===typeof x?x.call(e,k,d.props,f):x;null!=x&&(H?(H=!1,k=l({},k,x)):l(k,x))}e.state=k}}else t=null;a=e.render();$a(a,h);if(\"function\"===typeof e.getChildContext&&(d=h.childContextTypes,\"object\"===typeof d)){var y=e.getChildContext();for(var A in y)if(!(A in d))throw Error(p(108,F(h)||\"Unknown\",A));}y&&(b=l({},b,y))}for(;m.isValidElement(a);){var f=a,h=f.type;if(\"function\"!==\ntypeof h)break;d(f,h)}return{child:a,context:b}}\nvar bb=function(){function a(a,b,f){m.isValidElement(a)?a.type!==r?a=[a]:(a=a.props.children,a=m.isValidElement(a)?[a]:Z(a)):a=Z(a);a={type:null,domNamespace:La.html,children:a,childIndex:0,context:ma,footer:\"\"};var c=J[0];if(0===c){var d=J;c=d.length;var g=2*c;if(!(65536>=g))throw Error(p(304));var e=new Uint16Array(g);e.set(d);J=e;J[0]=c+1;for(d=c;d<g-1;d++)J[d]=d+1;J[g-1]=0}else J[0]=J[c];this.threadID=c;this.stack=[a];this.exhausted=!1;this.currentSelectValue=null;this.previousWasTextNode=!1;\nthis.makeStaticMarkup=b;this.suspenseDepth=0;this.contextIndex=-1;this.contextStack=[];this.contextValueStack=[];this.uniqueID=0;this.identifierPrefix=f&&f.identifierPrefix||\"\"}var b=a.prototype;b.destroy=function(){if(!this.exhausted){this.exhausted=!0;this.clearProviders();var a=this.threadID;J[a]=J[0];J[0]=a}};b.pushProvider=function(a){var b=++this.contextIndex,c=a.type._context,h=this.threadID;I(c,h);var t=c[h];this.contextStack[b]=c;this.contextValueStack[b]=t;c[h]=a.props.value};b.popProvider=\nfunction(){var a=this.contextIndex,b=this.contextStack[a],f=this.contextValueStack[a];this.contextStack[a]=null;this.contextValueStack[a]=null;this.contextIndex--;b[this.threadID]=f};b.clearProviders=function(){for(var a=this.contextIndex;0<=a;a--)this.contextStack[a][this.threadID]=this.contextValueStack[a]};b.read=function(a){if(this.exhausted)return null;var b=X;X=this;var c=Sa.current;Sa.current=Ka;try{for(var h=[\"\"],t=!1;h[0].length<a;){if(0===this.stack.length){this.exhausted=!0;var g=this.threadID;\nJ[g]=J[0];J[0]=g;break}var e=this.stack[this.stack.length-1];if(t||e.childIndex>=e.children.length){var L=e.footer;\"\"!==L&&(this.previousWasTextNode=!1);this.stack.pop();if(\"select\"===e.type)this.currentSelectValue=null;else if(null!=e.type&&null!=e.type.type&&e.type.type.$$typeof===B)this.popProvider(e.type);else if(e.type===D){this.suspenseDepth--;var G=h.pop();if(t){t=!1;var C=e.fallbackFrame;if(!C)throw Error(p(303));this.stack.push(C);h[this.suspenseDepth]+=\"\\x3c!--$!--\\x3e\";continue}else h[this.suspenseDepth]+=\nG}h[this.suspenseDepth]+=L}else{var n=e.children[e.childIndex++],k=\"\";try{k+=this.render(n,e.context,e.domNamespace)}catch(v){if(null!=v&&\"function\"===typeof v.then)throw Error(p(294));throw v;}finally{}h.length<=this.suspenseDepth&&h.push(\"\");h[this.suspenseDepth]+=k}}return h[0]}finally{Sa.current=c,X=b,Ea()}};b.render=function(a,b,f){if(\"string\"===typeof a||\"number\"===typeof a){f=\"\"+a;if(\"\"===f)return\"\";if(this.makeStaticMarkup)return O(f);if(this.previousWasTextNode)return\"\\x3c!-- --\\x3e\"+O(f);\nthis.previousWasTextNode=!0;return O(f)}b=ab(a,b,this.threadID);a=b.child;b=b.context;if(null===a||!1===a)return\"\";if(!m.isValidElement(a)){if(null!=a&&null!=a.$$typeof){f=a.$$typeof;if(f===q)throw Error(p(257));throw Error(p(258,f.toString()));}a=Z(a);this.stack.push({type:null,domNamespace:f,children:a,childIndex:0,context:b,footer:\"\"});return\"\"}var c=a.type;if(\"string\"===typeof c)return this.renderDOM(a,b,f);switch(c){case ka:case ja:case u:case z:case ca:case r:return a=Z(a.props.children),this.stack.push({type:null,\ndomNamespace:f,children:a,childIndex:0,context:b,footer:\"\"}),\"\";case D:throw Error(p(294));case ia:throw Error(p(343));}if(\"object\"===typeof c&&null!==c)switch(c.$$typeof){case ba:P={};var d=c.render(a.props,a.ref);d=Da(c.render,a.props,d,a.ref);d=Z(d);this.stack.push({type:null,domNamespace:f,children:d,childIndex:0,context:b,footer:\"\"});return\"\";case da:return a=[m.createElement(c.type,l({ref:a.ref},a.props))],this.stack.push({type:null,domNamespace:f,children:a,childIndex:0,context:b,footer:\"\"}),\n\"\";case B:return c=Z(a.props.children),f={type:a,domNamespace:f,children:c,childIndex:0,context:b,footer:\"\"},this.pushProvider(a),this.stack.push(f),\"\";case aa:c=a.type;d=a.props;var g=this.threadID;I(c,g);c=Z(d.children(c[g]));this.stack.push({type:a,domNamespace:f,children:c,childIndex:0,context:b,footer:\"\"});return\"\";case ha:throw Error(p(338));case ea:return c=a.type,d=c._init,c=d(c._payload),a=[m.createElement(c,l({ref:a.ref},a.props))],this.stack.push({type:null,domNamespace:f,children:a,childIndex:0,\ncontext:b,footer:\"\"}),\"\"}throw Error(p(130,null==c?c:typeof c,\"\"));};b.renderDOM=function(a,b,f){var c=a.type.toLowerCase();f===La.html&&Ma(c);if(!Va.hasOwnProperty(c)){if(!Ua.test(c))throw Error(p(65,c));Va[c]=!0}var d=a.props;if(\"input\"===c)d=l({type:void 0},d,{defaultChecked:void 0,defaultValue:void 0,value:null!=d.value?d.value:d.defaultValue,checked:null!=d.checked?d.checked:d.defaultChecked});else if(\"textarea\"===c){var g=d.value;if(null==g){g=d.defaultValue;var e=d.children;if(null!=e){if(null!=\ng)throw Error(p(92));if(Array.isArray(e)){if(!(1>=e.length))throw Error(p(93));e=e[0]}g=\"\"+e}null==g&&(g=\"\")}d=l({},d,{value:void 0,children:\"\"+g})}else if(\"select\"===c)this.currentSelectValue=null!=d.value?d.value:d.defaultValue,d=l({},d,{value:void 0});else if(\"option\"===c){e=this.currentSelectValue;var L=Xa(d.children);if(null!=e){var G=null!=d.value?d.value+\"\":L;g=!1;if(Array.isArray(e))for(var C=0;C<e.length;C++){if(\"\"+e[C]===G){g=!0;break}}else g=\"\"+e===G;d=l({selected:void 0,children:void 0},\nd,{selected:g,children:L})}}if(g=d){if(Oa[c]&&(null!=g.children||null!=g.dangerouslySetInnerHTML))throw Error(p(137,c));if(null!=g.dangerouslySetInnerHTML){if(null!=g.children)throw Error(p(60));if(!(\"object\"===typeof g.dangerouslySetInnerHTML&&\"__html\"in g.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=g.style&&\"object\"!==typeof g.style)throw Error(p(62));}g=d;e=this.makeStaticMarkup;L=1===this.stack.length;G=\"<\"+a.type;b:if(-1===c.indexOf(\"-\"))C=\"string\"===typeof g.is;else switch(c){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":C=\n!1;break b;default:C=!0}for(w in g)if(Ya.call(g,w)){var n=g[w];if(null!=n){if(\"style\"===w){var k=void 0,v=\"\",H=\"\";for(k in n)if(n.hasOwnProperty(k)){var x=0===k.indexOf(\"--\"),y=n[k];if(null!=y){if(x)var A=k;else if(A=k,Wa.hasOwnProperty(A))A=Wa[A];else{var cb=A.replace(Qa,\"-$1\").toLowerCase().replace(Ra,\"-ms-\");A=Wa[A]=cb}v+=H+A+\":\";H=k;x=null==y||\"boolean\"===typeof y||\"\"===y?\"\":x||\"number\"!==typeof y||0===y||Y.hasOwnProperty(H)&&Y[H]?(\"\"+y).trim():y+\"px\";v+=x;H=\";\"}}n=v||null}k=null;C?Za.hasOwnProperty(w)||\n(k=w,k=sa(k)&&null!=n?k+'=\"'+(O(n)+'\"'):\"\"):k=ya(w,n);k&&(G+=\" \"+k)}}e||L&&(G+=' data-reactroot=\"\"');var w=G;g=\"\";Na.hasOwnProperty(c)?w+=\"/>\":(w+=\">\",g=\"</\"+a.type+\">\");a:{e=d.dangerouslySetInnerHTML;if(null!=e){if(null!=e.__html){e=e.__html;break a}}else if(e=d.children,\"string\"===typeof e||\"number\"===typeof e){e=O(e);break a}e=null}null!=e?(d=[],Ta.hasOwnProperty(c)&&\"\\n\"===e.charAt(0)&&(w+=\"\\n\"),w+=e):d=Z(d.children);a=a.type;f=null==f||\"http://www.w3.org/1999/xhtml\"===f?Ma(a):\"http://www.w3.org/2000/svg\"===\nf&&\"foreignObject\"===a?\"http://www.w3.org/1999/xhtml\":f;this.stack.push({domNamespace:f,type:c,children:d,childIndex:0,context:b,footer:g});this.previousWasTextNode=!1;return w};return a}();exports.renderToNodeStream=function(){throw Error(p(207));};exports.renderToStaticMarkup=function(a,b){a=new bb(a,!0,b);try{return a.read(Infinity)}finally{a.destroy()}};exports.renderToStaticNodeStream=function(){throw Error(p(208));};exports.renderToString=function(a,b){a=new bb(a,!1,b);try{return a.read(Infinity)}finally{a.destroy()}};\nexports.version=\"17.0.1\";\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _updateMutation = _interopRequireDefault(require(\"./util/updateMutation\"));\n\nvar _rangeSort = _interopRequireDefault(require(\"./util/rangeSort\"));\n\nvar ENTITY_MAP = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n  '\\n': '<br/>'\n};\n\nvar _default = function _default(block) {\n  var blockText = (0, _toConsumableArray2[\"default\"])(block.text);\n  var entities = block.entityRanges.sort(_rangeSort[\"default\"]);\n  var styles = block.inlineStyleRanges.sort(_rangeSort[\"default\"]);\n  var resultText = '';\n\n  var _loop = function _loop(index) {\n    var _char = blockText[index];\n\n    if (ENTITY_MAP[_char] !== undefined) {\n      var encoded = ENTITY_MAP[_char];\n      var resultIndex = (0, _toConsumableArray2[\"default\"])(resultText).length;\n      resultText += encoded;\n\n      var updateForChar = function updateForChar(mutation) {\n        return (0, _updateMutation[\"default\"])(mutation, resultIndex, _char.length, encoded.length, 0, 0);\n      };\n\n      entities = entities.map(updateForChar);\n      styles = styles.map(updateForChar);\n    } else {\n      resultText += _char;\n    }\n  };\n\n  for (var index = 0; index < blockText.length; index++) {\n    _loop(index);\n  }\n\n  return Object.assign({}, block, {\n    text: resultText,\n    inlineStyleRanges: styles,\n    entityRanges: entities\n  });\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _updateMutation = _interopRequireDefault(require(\"./util/updateMutation\"));\n\nvar _rangeSort = _interopRequireDefault(require(\"./util/rangeSort\"));\n\nvar _getElementHTML = _interopRequireDefault(require(\"./util/getElementHTML\"));\n\nvar _getElementTagLength = _interopRequireDefault(require(\"./util/getElementTagLength\"));\n\nvar converter = function converter() {\n  var entity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var originalText = arguments.length > 1 ? arguments[1] : undefined;\n  return originalText;\n};\n\nvar _default = function _default(block, entityMap) {\n  var entityConverter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : converter;\n  var resultText = (0, _toConsumableArray2[\"default\"])(block.text);\n  var getEntityHTML = entityConverter;\n\n  if (entityConverter.__isMiddleware) {\n    getEntityHTML = entityConverter(converter);\n  }\n\n  if (Object.prototype.hasOwnProperty.call(block, 'entityRanges') && block.entityRanges.length > 0) {\n    var entities = block.entityRanges.sort(_rangeSort[\"default\"]);\n    var styles = block.inlineStyleRanges;\n\n    var _loop = function _loop(index) {\n      var entityRange = entities[index];\n      var entity = entityMap[entityRange.key];\n      var originalText = resultText.slice(entityRange.offset, entityRange.offset + entityRange.length).join('');\n      var entityHTML = getEntityHTML(entity, originalText);\n      var elementHTML = (0, _getElementHTML[\"default\"])(entityHTML, originalText);\n      var converted = void 0;\n\n      if (!!elementHTML || elementHTML === '') {\n        converted = (0, _toConsumableArray2[\"default\"])(elementHTML);\n      } else {\n        converted = originalText;\n      }\n\n      var prefixLength = (0, _getElementTagLength[\"default\"])(entityHTML, 'start');\n      var suffixLength = (0, _getElementTagLength[\"default\"])(entityHTML, 'end');\n\n      var updateLaterMutation = function updateLaterMutation(mutation, mutationIndex) {\n        if (mutationIndex > index || Object.prototype.hasOwnProperty.call(mutation, 'style')) {\n          return (0, _updateMutation[\"default\"])(mutation, entityRange.offset, entityRange.length, converted.length, prefixLength, suffixLength);\n        }\n\n        return mutation;\n      };\n\n      var updateLaterMutations = function updateLaterMutations(mutationList) {\n        return mutationList.reduce(function (acc, mutation, mutationIndex) {\n          var updatedMutation = updateLaterMutation(mutation, mutationIndex);\n\n          if (Array.isArray(updatedMutation)) {\n            return acc.concat(updatedMutation);\n          }\n\n          return acc.concat([updatedMutation]);\n        }, []);\n      };\n\n      entities = updateLaterMutations(entities);\n      styles = updateLaterMutations(styles);\n      resultText = [].concat((0, _toConsumableArray2[\"default\"])(resultText.slice(0, entityRange.offset)), (0, _toConsumableArray2[\"default\"])(converted), (0, _toConsumableArray2[\"default\"])(resultText.slice(entityRange.offset + entityRange.length)));\n    };\n\n    for (var index = 0; index < entities.length; index++) {\n      _loop(index);\n    }\n\n    return Object.assign({}, block, {\n      text: resultText.join(''),\n      inlineStyleRanges: styles,\n      entityRanges: entities\n    });\n  }\n\n  return block;\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _splitReactElement = _interopRequireDefault(require(\"./splitReactElement\"));\n\nvar getElementTagLength = function getElementTagLength(element) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'start';\n\n  if (_react[\"default\"].isValidElement(element)) {\n    var splitElement = (0, _splitReactElement[\"default\"])(element);\n\n    if (typeof splitElement === 'string') {\n      return 0;\n    }\n\n    var length = splitElement[type].length;\n\n    var child = _react[\"default\"].Children.toArray(element.props.children)[0];\n\n    return length + (child && _react[\"default\"].isValidElement(child) ? getElementTagLength(child, type) : 0);\n  }\n\n  if ((0, _typeof2[\"default\"])(element) === 'object') {\n    return element[type] ? element[type].length : 0;\n  }\n\n  return 0;\n};\n\nvar _default = getElementTagLength;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _styleObjectFunction = _interopRequireDefault(require(\"./util/styleObjectFunction\"));\n\nvar _accumulateFunction = _interopRequireDefault(require(\"./util/accumulateFunction\"));\n\nvar _getElementHTML = _interopRequireDefault(require(\"./util/getElementHTML\"));\n\nvar _rangeSort = _interopRequireDefault(require(\"./util/rangeSort\"));\n\nvar _defaultInlineHTML = _interopRequireDefault(require(\"./default/defaultInlineHTML\"));\n\nvar subtractStyles = function subtractStyles(original, toRemove) {\n  return original.filter(function (el) {\n    return !toRemove.some(function (elToRemove) {\n      return elToRemove.style === el.style;\n    });\n  });\n};\n\nvar popEndingStyles = function popEndingStyles(styleStack, endingStyles) {\n  return endingStyles.reduceRight(function (stack, style) {\n    var styleToRemove = stack[stack.length - 1];\n    (0, _invariant[\"default\"])(styleToRemove.style === style.style, \"Style \".concat(styleToRemove.style, \" to be removed doesn't match expected \").concat(style.style));\n    return stack.slice(0, -1);\n  }, styleStack);\n};\n\nvar characterStyles = function characterStyles(offset, ranges) {\n  return ranges.filter(function (range) {\n    return offset >= range.offset && offset < range.offset + range.length;\n  });\n};\n\nvar rangeIsSubset = function rangeIsSubset(firstRange, secondRange) {\n  // returns true if the second range is a subset of the first\n  var secondStartWithinFirst = firstRange.offset <= secondRange.offset;\n  var secondEndWithinFirst = firstRange.offset + firstRange.length >= secondRange.offset + secondRange.length;\n  return secondStartWithinFirst && secondEndWithinFirst;\n};\n\nvar latestStyleLast = function latestStyleLast(s1, s2) {\n  // make sure longer-lasting styles are added first\n  var s2endIndex = s2.offset + s2.length;\n  var s1endIndex = s1.offset + s1.length;\n  return s2endIndex - s1endIndex;\n};\n\nvar getStylesToReset = function getStylesToReset(remainingStyles, newStyles) {\n  var i = 0;\n\n  while (i < remainingStyles.length) {\n    if (newStyles.every(rangeIsSubset.bind(null, remainingStyles[i]))) {\n      i++;\n    } else {\n      return remainingStyles.slice(i);\n    }\n  }\n\n  return [];\n};\n\nvar appendStartMarkup = function appendStartMarkup(inlineHTML, string, styleRange) {\n  return string + (0, _getElementHTML[\"default\"])(inlineHTML(styleRange.style)).start;\n};\n\nvar prependEndMarkup = function prependEndMarkup(inlineHTML, string, styleRange) {\n  return (0, _getElementHTML[\"default\"])(inlineHTML(styleRange.style)).end + string;\n};\n\nvar defaultCustomInlineHTML = function defaultCustomInlineHTML(next) {\n  return function (style) {\n    return next(style);\n  };\n};\n\ndefaultCustomInlineHTML.__isMiddleware = true;\n\nvar _default = function _default(rawBlock) {\n  var customInlineHTML = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultCustomInlineHTML;\n  (0, _invariant[\"default\"])(rawBlock !== null && rawBlock !== undefined, 'Expected raw block to be non-null');\n  var inlineHTML;\n\n  if (customInlineHTML.__isMiddleware === true) {\n    inlineHTML = customInlineHTML(_defaultInlineHTML[\"default\"]);\n  } else {\n    inlineHTML = (0, _accumulateFunction[\"default\"])((0, _styleObjectFunction[\"default\"])(customInlineHTML), (0, _styleObjectFunction[\"default\"])(_defaultInlineHTML[\"default\"]));\n  }\n\n  var result = '';\n  var styleStack = [];\n  var sortedRanges = rawBlock.inlineStyleRanges.sort(_rangeSort[\"default\"]);\n  var originalTextArray = (0, _toConsumableArray2[\"default\"])(rawBlock.text);\n\n  for (var i = 0; i < originalTextArray.length; i++) {\n    var styles = characterStyles(i, sortedRanges);\n    var endingStyles = subtractStyles(styleStack, styles);\n    var newStyles = subtractStyles(styles, styleStack);\n    var remainingStyles = subtractStyles(styleStack, endingStyles); // reset styles: look for any already existing styles that will need to\n    // end before styles that are being added on this character. to solve this\n    // close out those current tags and all nested children,\n    // then open new ones nested within the new styles.\n\n    var resetStyles = getStylesToReset(remainingStyles, newStyles);\n    var openingStyles = resetStyles.concat(newStyles).sort(latestStyleLast);\n    var openingStyleTags = openingStyles.reduce(appendStartMarkup.bind(null, inlineHTML), '');\n    var endingStyleTags = endingStyles.concat(resetStyles).reduce(prependEndMarkup.bind(null, inlineHTML), '');\n    result += endingStyleTags + openingStyleTags + originalTextArray[i];\n    styleStack = popEndingStyles(styleStack, resetStyles.concat(endingStyles));\n    styleStack = styleStack.concat(openingStyles);\n    (0, _invariant[\"default\"])(styleStack.length === styles.length, \"Character \".concat(i, \": \").concat(styleStack.length - styles.length, \" styles left on stack that should no longer be there\"));\n  }\n\n  result = styleStack.reduceRight(function (res, openStyle) {\n    return res + (0, _getElementHTML[\"default\"])(inlineHTML(openStyle.style)).end;\n  }, result);\n  return result;\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _default = function _default(object) {\n  return function (style) {\n    if (typeof object === 'function') {\n      return object(style);\n    }\n\n    return object[style];\n  };\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = defaultInlineHTML;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction defaultInlineHTML(style) {\n  switch (style) {\n    case 'BOLD':\n      return _react[\"default\"].createElement(\"strong\", null);\n\n    case 'ITALIC':\n      return _react[\"default\"].createElement(\"em\", null);\n\n    case 'UNDERLINE':\n      return _react[\"default\"].createElement(\"u\", null);\n\n    case 'CODE':\n      return _react[\"default\"].createElement(\"code\", null);\n\n    default:\n      return {\n        start: '',\n        end: ''\n      };\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _default = function _default(typeObject) {\n  return function (block) {\n    if (typeof typeObject === 'function') {\n      // handle case where typeObject is already a function\n      return typeObject(block);\n    }\n\n    return typeObject[block.type];\n  };\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = getBlockTags;\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _server = _interopRequireDefault(require(\"react-dom/server\"));\n\nvar _splitReactElement = _interopRequireDefault(require(\"./splitReactElement\"));\n\nfunction hasChildren(element) {\n  return _react[\"default\"].isValidElement(element) && _react[\"default\"].Children.count(element.props.children) > 0;\n}\n\nfunction getBlockTags(blockHTML) {\n  (0, _invariant[\"default\"])(blockHTML !== null && blockHTML !== undefined, 'Expected block HTML value to be non-null');\n\n  if (typeof blockHTML === 'string') {\n    return blockHTML;\n  }\n\n  if (_react[\"default\"].isValidElement(blockHTML)) {\n    if (hasChildren(blockHTML)) {\n      return _server[\"default\"].renderToStaticMarkup(blockHTML);\n    }\n\n    return (0, _splitReactElement[\"default\"])(blockHTML);\n  }\n\n  if (Object.prototype.hasOwnProperty.call(blockHTML, 'element') && _react[\"default\"].isValidElement(blockHTML.element)) {\n    return Object.assign({}, blockHTML, (0, _splitReactElement[\"default\"])(blockHTML.element));\n  }\n\n  (0, _invariant[\"default\"])(Object.prototype.hasOwnProperty.call(blockHTML, 'start') && Object.prototype.hasOwnProperty.call(blockHTML, 'end'), 'convertToHTML: received block information without either a ReactElement or an object with start/end tags');\n  return blockHTML;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = getNestedBlockTags;\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _splitReactElement3 = _interopRequireDefault(require(\"./splitReactElement\"));\n\nfunction getNestedBlockTags(blockHTML, depth) {\n  (0, _invariant[\"default\"])(blockHTML !== null && blockHTML !== undefined, 'Expected block HTML value to be non-null');\n\n  if (typeof blockHTML.nest === 'function') {\n    var _splitReactElement = (0, _splitReactElement3[\"default\"])(blockHTML.nest(depth)),\n        start = _splitReactElement.start,\n        end = _splitReactElement.end;\n\n    return Object.assign({}, blockHTML, {\n      nestStart: start,\n      nestEnd: end\n    });\n  }\n\n  if (_react[\"default\"].isValidElement(blockHTML.nest)) {\n    var _splitReactElement2 = (0, _splitReactElement3[\"default\"])(blockHTML.nest),\n        _start = _splitReactElement2.start,\n        _end = _splitReactElement2.end;\n\n    return Object.assign({}, blockHTML, {\n      nestStart: _start,\n      nestEnd: _end\n    });\n  }\n\n  (0, _invariant[\"default\"])(Object.prototype.hasOwnProperty.call(blockHTML, 'nestStart') && Object.prototype.hasOwnProperty.call(blockHTML, 'nestEnd'), 'convertToHTML: received block information without either a ReactElement or an object with start/end tags');\n  return blockHTML;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\n// based on Draft.js' custom list depth styling\nvar ORDERED_LIST_TYPES = ['1', 'a', 'i'];\nvar _default = {\n  unstyled: _react[\"default\"].createElement(\"p\", null),\n  paragraph: _react[\"default\"].createElement(\"p\", null),\n  'header-one': _react[\"default\"].createElement(\"h1\", null),\n  'header-two': _react[\"default\"].createElement(\"h2\", null),\n  'header-three': _react[\"default\"].createElement(\"h3\", null),\n  'header-four': _react[\"default\"].createElement(\"h4\", null),\n  'header-five': _react[\"default\"].createElement(\"h5\", null),\n  'header-six': _react[\"default\"].createElement(\"h6\", null),\n  blockquote: _react[\"default\"].createElement(\"blockquote\", null),\n  'unordered-list-item': {\n    element: _react[\"default\"].createElement(\"li\", null),\n    nest: _react[\"default\"].createElement(\"ul\", null)\n  },\n  'ordered-list-item': {\n    element: _react[\"default\"].createElement(\"li\", null),\n    nest: function nest(depth) {\n      var type = ORDERED_LIST_TYPES[depth % 3];\n      return _react[\"default\"].createElement(\"ol\", {\n        type: type\n      });\n    }\n  },\n  media: _react[\"default\"].createElement(\"figure\", null),\n  atomic: _react[\"default\"].createElement(\"figure\", null)\n};\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _immutable = require(\"immutable\");\n\nvar _draftJs = require(\"draft-js\");\n\nvar _parseHTML = _interopRequireDefault(require(\"./util/parseHTML\"));\n\nvar _rangeSort = _interopRequireDefault(require(\"./util/rangeSort\"));\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the /src directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\nvar NBSP = '&nbsp;';\nvar SPACE = ' '; // Arbitrary max indent\n\nvar MAX_DEPTH = 4; // used for replacing characters in HTML\n\n/* eslint-disable no-control-regex */\n\nvar REGEX_CR = new RegExp('\\r', 'g');\nvar REGEX_LF = new RegExp('\\n', 'g');\nvar REGEX_NBSP = new RegExp(NBSP, 'g');\nvar REGEX_BLOCK_DELIMITER = new RegExp('\\r', 'g');\n/* eslint-enable no-control-regex */\n// Block tag flow is different because LIs do not have\n// a deterministic style ;_;\n\nvar blockTags = ['p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'li', 'blockquote', 'pre'];\nvar inlineTags = {\n  b: 'BOLD',\n  code: 'CODE',\n  del: 'STRIKETHROUGH',\n  em: 'ITALIC',\n  i: 'ITALIC',\n  s: 'STRIKETHROUGH',\n  strike: 'STRIKETHROUGH',\n  strong: 'BOLD',\n  u: 'UNDERLINE'\n};\n\nvar handleMiddleware = function handleMiddleware(maybeMiddleware, base) {\n  if (maybeMiddleware && maybeMiddleware.__isMiddleware === true) {\n    return maybeMiddleware(base);\n  }\n\n  return maybeMiddleware;\n};\n\nvar defaultHTMLToBlock = function defaultHTMLToBlock(nodeName, node, lastList) {\n  return undefined;\n};\n\nvar defaultHTMLToStyle = function defaultHTMLToStyle(nodeName, node, currentStyle) {\n  return currentStyle;\n};\n\nvar defaultHTMLToEntity = function defaultHTMLToEntity(nodeName, node) {\n  return undefined;\n};\n\nvar defaultTextToEntity = function defaultTextToEntity(text) {\n  return [];\n};\n\nvar nullthrows = function nullthrows(x) {\n  if (x != null) {\n    return x;\n  }\n\n  throw new Error('Got unexpected null or undefined');\n};\n\nvar sanitizeDraftText = function sanitizeDraftText(input) {\n  return input.replace(REGEX_BLOCK_DELIMITER, '');\n};\n\nfunction getEmptyChunk() {\n  return {\n    text: '',\n    inlines: [],\n    entities: [],\n    blocks: []\n  };\n}\n\nfunction getWhitespaceChunk(inEntity) {\n  var entities = new Array(1);\n\n  if (inEntity) {\n    entities[0] = inEntity;\n  }\n\n  return {\n    text: SPACE,\n    inlines: [(0, _immutable.OrderedSet)()],\n    entities: entities,\n    blocks: []\n  };\n}\n\nfunction getSoftNewlineChunk(block, depth) {\n  var flat = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : (0, _immutable.Map)();\n\n  if (flat === true) {\n    return {\n      text: '\\r',\n      inlines: [(0, _immutable.OrderedSet)()],\n      entities: new Array(1),\n      blocks: [{\n        type: block,\n        data: data,\n        depth: Math.max(0, Math.min(MAX_DEPTH, depth))\n      }],\n      isNewline: true\n    };\n  }\n\n  return {\n    text: '\\n',\n    inlines: [(0, _immutable.OrderedSet)()],\n    entities: new Array(1),\n    blocks: []\n  };\n}\n\nfunction getBlockDividerChunk(block, depth) {\n  var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : (0, _immutable.Map)();\n  return {\n    text: '\\r',\n    inlines: [(0, _immutable.OrderedSet)()],\n    entities: new Array(1),\n    blocks: [{\n      type: block,\n      data: data,\n      depth: Math.max(0, Math.min(MAX_DEPTH, depth))\n    }]\n  };\n}\n\nfunction getBlockTypeForTag(tag, lastList) {\n  switch (tag) {\n    case 'h1':\n      return 'header-one';\n\n    case 'h2':\n      return 'header-two';\n\n    case 'h3':\n      return 'header-three';\n\n    case 'h4':\n      return 'header-four';\n\n    case 'h5':\n      return 'header-five';\n\n    case 'h6':\n      return 'header-six';\n\n    case 'li':\n      if (lastList === 'ol') {\n        return 'ordered-list-item';\n      }\n\n      return 'unordered-list-item';\n\n    case 'blockquote':\n      return 'blockquote';\n\n    case 'pre':\n      return 'code-block';\n\n    case 'div':\n    case 'p':\n      return 'unstyled';\n\n    default:\n      return null;\n  }\n}\n\nfunction baseCheckBlockType(nodeName, node, lastList) {\n  return getBlockTypeForTag(nodeName, lastList);\n}\n\nfunction processInlineTag(tag, node, currentStyle) {\n  var styleToCheck = inlineTags[tag];\n\n  if (styleToCheck) {\n    currentStyle = currentStyle.add(styleToCheck).toOrderedSet();\n  } else if (node instanceof HTMLElement) {\n    var htmlElement = node;\n    currentStyle = currentStyle.withMutations(function (style) {\n      if (htmlElement.style.fontWeight === 'bold') {\n        style.add('BOLD');\n      }\n\n      if (htmlElement.style.fontStyle === 'italic') {\n        style.add('ITALIC');\n      }\n\n      if (htmlElement.style.textDecoration === 'underline') {\n        style.add('UNDERLINE');\n      }\n\n      if (htmlElement.style.textDecoration === 'line-through') {\n        style.add('STRIKETHROUGH');\n      }\n    }).toOrderedSet();\n  }\n\n  return currentStyle;\n}\n\nfunction baseProcessInlineTag(tag, node) {\n  var inlineStyles = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : (0, _immutable.OrderedSet)();\n  return processInlineTag(tag, node, inlineStyles);\n}\n\nfunction joinChunks(A, B) {\n  var flat = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  // Sometimes two blocks will touch in the DOM and we need to strip the\n  // extra delimiter to preserve niceness.\n  var firstInB = B.text.slice(0, 1);\n  var lastInA = A.text.slice(-1);\n  var adjacentDividers = lastInA === '\\r' && firstInB === '\\r';\n  var isJoiningBlocks = A.text !== '\\r' && B.text !== '\\r'; // when joining two full blocks like this we want to pop one divider\n\n  var addingNewlineToEmptyBlock = A.text === '\\r' && !A.isNewline && B.isNewline; // when joining a newline to an empty block we want to remove the newline\n\n  if (adjacentDividers && (isJoiningBlocks || addingNewlineToEmptyBlock)) {\n    A.text = A.text.slice(0, -1);\n    A.inlines.pop();\n    A.entities.pop();\n    A.blocks.pop();\n  } // Kill whitespace after blocks if flat mode is on\n\n\n  if (A.text.slice(-1) === '\\r' && flat === true) {\n    if (B.text === SPACE || B.text === '\\n') {\n      return A;\n    } else if (firstInB === SPACE || firstInB === '\\n') {\n      B.text = B.text.slice(1);\n      B.inlines.shift();\n      B.entities.shift();\n    }\n  }\n\n  var isNewline = A.text.length === 0 && B.isNewline;\n  return {\n    text: A.text + B.text,\n    inlines: A.inlines.concat(B.inlines),\n    entities: A.entities.concat(B.entities),\n    blocks: A.blocks.concat(B.blocks),\n    isNewline: isNewline\n  };\n}\n/*\n * Check to see if we have anything like <p> <blockquote> <h1>... to create\n * block tags from. If we do, we can use those and ignore <div> tags. If we\n * don't, we can treat <div> tags as meaningful (unstyled) blocks.\n */\n\n\nfunction containsSemanticBlockMarkup(html) {\n  return blockTags.some(function (tag) {\n    return html.indexOf(\"<\".concat(tag)) !== -1;\n  });\n}\n\nfunction genFragment(node, inlineStyle, lastList, inBlock, fragmentBlockTags, depth, processCustomInlineStyles, checkEntityNode, checkEntityText, checkBlockType, createEntity, getEntity, mergeEntityData, replaceEntityData, options, inEntity) {\n  var nodeName = node.nodeName.toLowerCase();\n  var newBlock = false;\n  var nextBlockType = 'unstyled'; // Base Case\n\n  if (nodeName === '#text') {\n    var text = node.textContent;\n\n    if (text.trim() === '' && inBlock === null) {\n      return getEmptyChunk();\n    }\n\n    if (text.trim() === '' && inBlock !== 'code-block') {\n      return getWhitespaceChunk(inEntity);\n    }\n\n    if (inBlock !== 'code-block') {\n      // Can't use empty string because MSWord\n      text = text.replace(REGEX_LF, SPACE);\n    }\n\n    var entities = Array(text.length).fill(inEntity);\n    var offsetChange = 0;\n    var textEntities = checkEntityText(text, createEntity, getEntity, mergeEntityData, replaceEntityData).sort(_rangeSort[\"default\"]);\n    textEntities.forEach(function (_ref) {\n      var entity = _ref.entity,\n          offset = _ref.offset,\n          length = _ref.length,\n          result = _ref.result;\n      var adjustedOffset = offset + offsetChange;\n\n      if (result === null || result === undefined) {\n        result = text.substr(adjustedOffset, length);\n      }\n\n      var textArray = text.split('');\n      textArray.splice.bind(textArray, adjustedOffset, length).apply(textArray, result.split(''));\n      text = textArray.join('');\n      entities.splice.bind(entities, adjustedOffset, length).apply(entities, Array(result.length).fill(entity));\n      offsetChange += result.length - length;\n    });\n    return {\n      text: text,\n      inlines: Array(text.length).fill(inlineStyle),\n      entities: entities,\n      blocks: []\n    };\n  } // BR tags\n\n\n  if (nodeName === 'br') {\n    var _blockType = inBlock;\n\n    if (_blockType === null) {\n      //  BR tag is at top level, treat it as an unstyled block\n      return getSoftNewlineChunk('unstyled', depth, true);\n    }\n\n    return getSoftNewlineChunk(_blockType || 'unstyled', depth, options.flat);\n  }\n\n  var chunk = getEmptyChunk();\n  var newChunk = null; // Inline tags\n\n  inlineStyle = processInlineTag(nodeName, node, inlineStyle);\n  inlineStyle = processCustomInlineStyles(nodeName, node, inlineStyle); // Handle lists\n\n  if (nodeName === 'ul' || nodeName === 'ol') {\n    if (lastList) {\n      depth += 1;\n    }\n\n    lastList = nodeName;\n    inBlock = null;\n  } // Block Tags\n\n\n  var blockInfo = checkBlockType(nodeName, node, lastList, inBlock);\n  var blockType;\n  var blockDataMap;\n\n  if (blockInfo === false) {\n    return getEmptyChunk();\n  }\n\n  blockInfo = blockInfo || {};\n\n  if (typeof blockInfo === 'string') {\n    blockType = blockInfo;\n    blockDataMap = (0, _immutable.Map)();\n  } else {\n    blockType = typeof blockInfo === 'string' ? blockInfo : blockInfo.type;\n    blockDataMap = blockInfo.data ? (0, _immutable.Map)(blockInfo.data) : (0, _immutable.Map)();\n  }\n\n  if (!inBlock && (fragmentBlockTags.indexOf(nodeName) !== -1 || blockType)) {\n    chunk = getBlockDividerChunk(blockType || getBlockTypeForTag(nodeName, lastList), depth, blockDataMap);\n    inBlock = blockType || getBlockTypeForTag(nodeName, lastList);\n    newBlock = true;\n  } else if (lastList && (inBlock === 'ordered-list-item' || inBlock === 'unordered-list-item') && nodeName === 'li') {\n    var listItemBlockType = getBlockTypeForTag(nodeName, lastList);\n    chunk = getBlockDividerChunk(listItemBlockType, depth);\n    inBlock = listItemBlockType;\n    newBlock = true;\n    nextBlockType = lastList === 'ul' ? 'unordered-list-item' : 'ordered-list-item';\n  } else if (inBlock && inBlock !== 'atomic' && blockType === 'atomic') {\n    inBlock = blockType;\n    newBlock = true;\n    chunk = getSoftNewlineChunk(blockType, depth, true, // atomic blocks within non-atomic blocks must always be split out\n    blockDataMap);\n  } // Recurse through children\n\n\n  var child = node.firstChild; // hack to allow conversion of atomic blocks from HTML (e.g. <figure><img\n  // src=\"...\" /></figure>). since metadata must be stored on an entity text\n  // must exist for the entity to apply to. the way chunks are joined strips\n  // whitespace at the end so it cannot be a space character.\n\n  if (child == null && inEntity && (blockType === 'atomic' || inBlock === 'atomic')) {\n    child = document.createTextNode('a');\n  }\n\n  if (child != null) {\n    nodeName = child.nodeName.toLowerCase();\n  }\n\n  var entityId = null;\n\n  while (child) {\n    entityId = checkEntityNode(nodeName, child, createEntity, getEntity, mergeEntityData, replaceEntityData);\n    newChunk = genFragment(child, inlineStyle, lastList, inBlock, fragmentBlockTags, depth, processCustomInlineStyles, checkEntityNode, checkEntityText, checkBlockType, createEntity, getEntity, mergeEntityData, replaceEntityData, options, entityId || inEntity);\n    chunk = joinChunks(chunk, newChunk, options.flat);\n    var sibling = child.nextSibling; // Put in a newline to break up blocks inside blocks\n\n    if (sibling && fragmentBlockTags.indexOf(nodeName) >= 0 && inBlock) {\n      var newBlockInfo = checkBlockType(nodeName, child, lastList, inBlock);\n      var newBlockType = void 0;\n      var newBlockData = void 0;\n\n      if (newBlockInfo !== false) {\n        newBlockInfo = newBlockInfo || {};\n\n        if (typeof newBlockInfo === 'string') {\n          newBlockType = newBlockInfo;\n          newBlockData = (0, _immutable.Map)();\n        } else {\n          newBlockType = newBlockInfo.type || getBlockTypeForTag(nodeName, lastList);\n          newBlockData = newBlockInfo.data ? (0, _immutable.Map)(newBlockInfo.data) : (0, _immutable.Map)();\n        }\n\n        chunk = joinChunks(chunk, getSoftNewlineChunk(newBlockType, depth, options.flat, newBlockData), options.flat);\n      }\n    }\n\n    if (sibling) {\n      nodeName = sibling.nodeName.toLowerCase();\n    }\n\n    child = sibling;\n  }\n\n  if (newBlock) {\n    chunk = joinChunks(chunk, getBlockDividerChunk(nextBlockType, depth, (0, _immutable.Map)()), options.flat);\n  }\n\n  return chunk;\n}\n\nfunction getChunkForHTML(html, processCustomInlineStyles, checkEntityNode, checkEntityText, checkBlockType, createEntity, getEntity, mergeEntityData, replaceEntityData, options, DOMBuilder) {\n  html = html.trim().replace(REGEX_CR, '').replace(REGEX_NBSP, SPACE);\n  var safeBody = DOMBuilder(html);\n\n  if (!safeBody) {\n    return null;\n  } // Sometimes we aren't dealing with content that contains nice semantic\n  // tags. In this case, use divs to separate everything out into paragraphs\n  // and hope for the best.\n\n\n  var workingBlocks = containsSemanticBlockMarkup(html) ? blockTags.concat(['div']) : ['div']; // Start with -1 block depth to offset the fact that we are passing in a fake\n  // UL block to sta rt with.\n\n  var chunk = genFragment(safeBody, (0, _immutable.OrderedSet)(), 'ul', null, workingBlocks, -1, processCustomInlineStyles, checkEntityNode, checkEntityText, checkBlockType, createEntity, getEntity, mergeEntityData, replaceEntityData, options); // join with previous block to prevent weirdness on paste\n\n  if (chunk.text.indexOf('\\r') === 0) {\n    chunk = {\n      text: chunk.text.slice(1),\n      inlines: chunk.inlines.slice(1),\n      entities: chunk.entities.slice(1),\n      blocks: chunk.blocks\n    };\n  } // Kill block delimiter at the end\n\n\n  if (chunk.text.slice(-1) === '\\r') {\n    chunk.text = chunk.text.slice(0, -1);\n    chunk.inlines = chunk.inlines.slice(0, -1);\n    chunk.entities = chunk.entities.slice(0, -1);\n    chunk.blocks.pop();\n  } // If we saw no block tags, put an unstyled one in\n\n\n  if (chunk.blocks.length === 0) {\n    chunk.blocks.push({\n      type: 'unstyled',\n      data: (0, _immutable.Map)(),\n      depth: 0\n    });\n  } // Sometimes we start with text that isn't in a block, which is then\n  // followed by blocks. Need to fix up the blocks to add in\n  // an unstyled block for this content\n\n\n  if (chunk.text.split('\\r').length === chunk.blocks.length + 1) {\n    chunk.blocks.unshift({\n      type: 'unstyled',\n      data: (0, _immutable.Map)(),\n      depth: 0\n    });\n  }\n\n  return chunk;\n}\n\nfunction convertFromHTMLtoContentBlocks(html, processCustomInlineStyles, checkEntityNode, checkEntityText, checkBlockType, createEntity, getEntity, mergeEntityData, replaceEntityData, options, DOMBuilder, generateKey) {\n  // Be ABSOLUTELY SURE that the dom builder you pass hare won't execute\n  // arbitrary code in whatever environment you're running this in. For an\n  // example of how we try to do this in-browser, see getSafeBodyFromHTML.\n  var chunk = getChunkForHTML(html, processCustomInlineStyles, checkEntityNode, checkEntityText, checkBlockType, createEntity, getEntity, mergeEntityData, replaceEntityData, options, DOMBuilder, generateKey);\n\n  if (chunk == null) {\n    return [];\n  }\n\n  var start = 0;\n  return chunk.text.split('\\r').map(function (textBlock, blockIndex) {\n    // Make absolutely certain that our text is acceptable.\n    textBlock = sanitizeDraftText(textBlock);\n    var end = start + textBlock.length;\n    var inlines = nullthrows(chunk).inlines.slice(start, end);\n    var entities = nullthrows(chunk).entities.slice(start, end);\n    var characterList = (0, _immutable.List)(inlines.map(function (style, entityIndex) {\n      var data = {\n        style: style,\n        entity: null\n      };\n\n      if (entities[entityIndex]) {\n        data.entity = entities[entityIndex];\n      }\n\n      return _draftJs.CharacterMetadata.create(data);\n    }));\n    start = end + 1;\n    return new _draftJs.ContentBlock({\n      key: generateKey(),\n      type: nullthrows(chunk).blocks[blockIndex].type,\n      data: nullthrows(chunk).blocks[blockIndex].data,\n      depth: nullthrows(chunk).blocks[blockIndex].depth,\n      text: textBlock,\n      characterList: characterList\n    });\n  });\n}\n\nvar convertFromHTML = function convertFromHTML(_ref2) {\n  var _ref2$htmlToStyle = _ref2.htmlToStyle,\n      htmlToStyle = _ref2$htmlToStyle === void 0 ? defaultHTMLToStyle : _ref2$htmlToStyle,\n      _ref2$htmlToEntity = _ref2.htmlToEntity,\n      htmlToEntity = _ref2$htmlToEntity === void 0 ? defaultHTMLToEntity : _ref2$htmlToEntity,\n      _ref2$textToEntity = _ref2.textToEntity,\n      textToEntity = _ref2$textToEntity === void 0 ? defaultTextToEntity : _ref2$textToEntity,\n      _ref2$htmlToBlock = _ref2.htmlToBlock,\n      htmlToBlock = _ref2$htmlToBlock === void 0 ? defaultHTMLToBlock : _ref2$htmlToBlock;\n  return function (html) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      flat: false\n    };\n    var DOMBuilder = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _parseHTML[\"default\"];\n    var generateKey = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _draftJs.genKey;\n\n    var contentState = _draftJs.ContentState.createFromText('');\n\n    var createEntityWithContentState = function createEntityWithContentState() {\n      if (contentState.createEntity) {\n        var _contentState;\n\n        contentState = (_contentState = contentState).createEntity.apply(_contentState, arguments);\n        return contentState.getLastCreatedEntityKey();\n      }\n\n      return _draftJs.Entity.create.apply(_draftJs.Entity, arguments);\n    };\n\n    var getEntityWithContentState = function getEntityWithContentState() {\n      if (contentState.getEntity) {\n        var _contentState2;\n\n        return (_contentState2 = contentState).getEntity.apply(_contentState2, arguments);\n      }\n\n      return _draftJs.Entity.get.apply(_draftJs.Entity, arguments);\n    };\n\n    var mergeEntityDataWithContentState = function mergeEntityDataWithContentState() {\n      if (contentState.mergeEntityData) {\n        var _contentState3;\n\n        contentState = (_contentState3 = contentState).mergeEntityData.apply(_contentState3, arguments);\n        return;\n      }\n\n      _draftJs.Entity.mergeData.apply(_draftJs.Entity, arguments);\n    };\n\n    var replaceEntityDataWithContentState = function replaceEntityDataWithContentState() {\n      if (contentState.replaceEntityData) {\n        var _contentState4;\n\n        contentState = (_contentState4 = contentState).replaceEntityData.apply(_contentState4, arguments);\n        return;\n      }\n\n      _draftJs.Entity.replaceData.apply(_draftJs.Entity, arguments);\n    };\n\n    var contentBlocks = convertFromHTMLtoContentBlocks(html, handleMiddleware(htmlToStyle, baseProcessInlineTag), handleMiddleware(htmlToEntity, defaultHTMLToEntity), handleMiddleware(textToEntity, defaultTextToEntity), handleMiddleware(htmlToBlock, baseCheckBlockType), createEntityWithContentState, getEntityWithContentState, mergeEntityDataWithContentState, replaceEntityDataWithContentState, options, DOMBuilder, generateKey);\n\n    var blockMap = _draftJs.BlockMapBuilder.createFromArray(contentBlocks);\n\n    var firstBlockKey = contentBlocks[0].getKey();\n    return contentState.merge({\n      blockMap: blockMap,\n      selectionBefore: _draftJs.SelectionState.createEmpty(firstBlockKey),\n      selectionAfter: _draftJs.SelectionState.createEmpty(firstBlockKey)\n    });\n  };\n};\n\nvar _default = function _default() {\n  if (arguments.length >= 1 && typeof (arguments.length <= 0 ? undefined : arguments[0]) === 'string') {\n    return convertFromHTML({}).apply(void 0, arguments);\n  }\n\n  return convertFromHTML.apply(void 0, arguments);\n};\n\nexports[\"default\"] = _default;","import * as React from 'react';\nimport withEnhance from '../withEnhance';\nimport { IconProps } from '../types';\n\nconst SvgEditorQuote = (props: IconProps): JSX.Element => {\n\treturn (\n\t\t<svg\n\t\t\taria-hidden='true'\n\t\t\tclassName='editor-quote_svg__ee-svg'\n\t\t\tfill='currentColor'\n\t\t\theight='1.25em'\n\t\t\twidth='1.25em'\n\t\t\tviewBox='0 0 20 20'\n\t\t\t{...props}\n\t\t>\n\t\t\t<path d='M9.49 13.22c0-.74-.2-1.38-.61-1.9-.62-.78-1.83-.88-2.53-.72-.29-1.65 1.11-3.75 2.92-4.65L7.88 4c-2.73 1.3-5.42 4.28-4.96 8.05C3.21 14.43 4.59 16 6.54 16c.85 0 1.56-.25 2.12-.75s.83-1.18.83-2.03zm8.05 0c0-.74-.2-1.38-.61-1.9-.63-.78-1.83-.88-2.53-.72-.29-1.65 1.11-3.75 2.92-4.65L15.93 4c-2.73 1.3-5.41 4.28-4.95 8.05.29 2.38 1.66 3.95 3.61 3.95.85 0 1.56-.25 2.12-.75s.83-1.18.83-2.03z' />\n\t\t</svg>\n\t);\n};\n\nexport default withEnhance(SvgEditorQuote);\n","import * as React from 'react';\nimport withEnhance from '../withEnhance';\nimport { IconProps } from '../types';\n\nconst SvgEditorOl = (props: IconProps): JSX.Element => {\n\treturn (\n\t\t<svg\n\t\t\taria-hidden='true'\n\t\t\tclassName='editor-ol_svg__ee-svg'\n\t\t\tfill='currentColor'\n\t\t\theight='1.25em'\n\t\t\twidth='1.25em'\n\t\t\tviewBox='0 0 20 20'\n\t\t\t{...props}\n\t\t>\n\t\t\t<path d='M6 7V3h-.69L4.02 4.03l.4.51.46-.37c.06-.05.16-.14.3-.28l-.02.42V7H6zm2-2h9v1H8V5zm-1.23 6.95v-.7H5.05v-.04l.51-.48c.33-.31.57-.54.7-.71.14-.17.24-.33.3-.49.07-.16.1-.33.1-.51 0-.21-.05-.4-.16-.56-.1-.16-.25-.28-.44-.37s-.41-.14-.65-.14c-.19 0-.36.02-.51.06-.15.03-.29.09-.42.15-.12.07-.29.19-.48.35l.45.54c.16-.13.31-.23.45-.3.15-.07.3-.1.45-.1.14 0 .26.03.35.11s.13.2.13.36c0 .1-.02.2-.06.3s-.1.21-.19.33c-.09.11-.29.32-.58.62l-.99 1v.58h2.76zM8 10h9v1H8v-1zm-1.29 3.95c0-.3-.12-.54-.37-.71-.24-.17-.58-.26-1-.26-.52 0-.96.13-1.33.4l.4.6c.17-.11.32-.19.46-.23.14-.05.27-.07.41-.07.38 0 .58.15.58.46 0 .2-.07.35-.22.43s-.38.12-.7.12h-.31v.66h.31c.34 0 .59.04.75.12.15.08.23.22.23.41 0 .22-.07.37-.2.47-.14.1-.35.15-.63.15-.19 0-.38-.03-.57-.08s-.36-.12-.52-.2v.74c.34.15.74.22 1.18.22.53 0 .94-.11 1.22-.33.29-.22.43-.52.43-.92 0-.27-.09-.48-.26-.64s-.42-.26-.74-.3v-.02c.27-.06.49-.19.65-.37.15-.18.23-.39.23-.65zM8 15h9v1H8v-1z' />\n\t\t</svg>\n\t);\n};\n\nexport default withEnhance(SvgEditorOl);\n","import * as React from 'react';\nimport withEnhance from '../withEnhance';\nimport { IconProps } from '../types';\n\nconst SvgEditorUl = (props: IconProps): JSX.Element => {\n\treturn (\n\t\t<svg\n\t\t\taria-hidden='true'\n\t\t\tclassName='editor-ul_svg__ee-svg'\n\t\t\tfill='currentColor'\n\t\t\theight='1.25em'\n\t\t\twidth='1.25em'\n\t\t\tviewBox='0 0 20 20'\n\t\t\t{...props}\n\t\t>\n\t\t\t<path d='M5.5 7C4.67 7 4 6.33 4 5.5 4 4.68 4.67 4 5.5 4 6.32 4 7 4.68 7 5.5 7 6.33 6.32 7 5.5 7zM8 5h9v1H8V5zm-2.5 7c-.83 0-1.5-.67-1.5-1.5C4 9.68 4.67 9 5.5 9c.82 0 1.5.68 1.5 1.5 0 .83-.68 1.5-1.5 1.5zM8 10h9v1H8v-1zm-2.5 7c-.83 0-1.5-.67-1.5-1.5 0-.82.67-1.5 1.5-1.5.82 0 1.5.68 1.5 1.5 0 .83-.68 1.5-1.5 1.5zM8 15h9v1H8v-1z' />\n\t\t</svg>\n\t);\n};\n\nexport default withEnhance(SvgEditorUl);\n","import React, { useCallback } from 'react';\nimport classNames from 'classnames';\n\nimport type { StyleButtonProps } from './types';\n\nconst StyleButton: React.FC<StyleButtonProps> = ({ active, icon, label, onToggle, style, ...props }) => {\n\tconst className = classNames(\n\t\t'rich-text-editor__style-button',\n\t\t`rich-text-editor-controls__${style.toLowerCase()}`,\n\t\tactive && 'rich-text-editor__style-button--active'\n\t);\n\n\tconst onMouseDown = useCallback(\n\t\t(e) => {\n\t\t\te.preventDefault();\n\t\t\tonToggle(style);\n\t\t},\n\t\t[style, onToggle]\n\t);\n\n\treturn (\n\t\t<div\n\t\t\taria-label={props['aria-label'] || label}\n\t\t\tclassName={className}\n\t\t\tonMouseDown={onMouseDown}\n\t\t\trole='button'\n\t\t\ttabIndex={0}\n\t\t>\n\t\t\t{icon ? icon : label}\n\t\t</div>\n\t);\n};\n\nexport default StyleButton;\n","import { DraftBlockType } from 'draft-js';\nimport { __ } from '@eventespresso/i18n';\n\ninterface Block {\n\t'aria-label'?: string;\n\tlabel: string;\n\tstyle?: DraftBlockType;\n\tvalue?: DraftBlockType;\n}\n\nexport const BLOCK_TYPES: Block[] = [\n\t{ 'aria-label': __('blockquote'), label: 'Blockquote', style: 'blockquote' },\n\t{ 'aria-label': __('unordered list'), label: 'UL', style: 'unordered-list-item' },\n\t{ 'aria-label': __('ordered list'), label: 'OL', style: 'ordered-list-item' },\n];\n\nexport const HEADING_BLOCK_TYPES: Block[] = [\n\t{ label: 'H1', value: 'header-one' },\n\t{ label: 'H2', value: 'header-two' },\n\t{ label: 'H3', value: 'header-three' },\n\t{ label: 'H4', value: 'header-four' },\n\t{ label: 'H5', value: 'header-five' },\n\t{ label: 'H6', value: 'header-six' },\n];\n\nexport const INLINE_STYLES: Block[] = [\n\t{ 'aria-label': __('bold'), label: 'B', style: 'BOLD' },\n\t{ 'aria-label': __('italic'), label: 'I', style: 'ITALIC' },\n\t{ 'aria-label': __('underline'), label: 'U', style: 'UNDERLINE' },\n];\n","import React from 'react';\n\nimport { EditorOl, EditorQuote, EditorUl, IconProps } from '@eventespresso/icons';\n\nimport StyleButton from '../StyleButton';\nimport { BLOCK_TYPES } from '../constants';\nimport type { BlockStyleControlsProps } from '../types';\n\nconst iconMapping = {\n\tBlockquote: EditorQuote,\n\tOL: EditorOl,\n\tUL: EditorUl,\n};\n\nconst BlockStyleControls: React.FC<BlockStyleControlsProps> = (props) => {\n\tconst { editorState } = props;\n\tconst selection = editorState.getSelection();\n\tconst blockType = editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).getType();\n\n\treturn (\n\t\t<div className='rich-text-editor-controls'>\n\t\t\t{BLOCK_TYPES.map(({ label, style }) => {\n\t\t\t\tconst Icon: React.ComponentType<IconProps> = iconMapping?.[label];\n\n\t\t\t\treturn (\n\t\t\t\t\t<StyleButton\n\t\t\t\t\t\tactive={style === blockType}\n\t\t\t\t\t\tkey={label}\n\t\t\t\t\t\ticon={Icon && <Icon noMargin size='small' />}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tonToggle={props.onToggle}\n\t\t\t\t\t\tstyle={style}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};\n\nexport default BlockStyleControls;\n","import React, { useMemo } from 'react';\nimport { __ } from '@eventespresso/i18n';\n\nimport { Select } from '../../../../components/src/Select';\nimport { HEADING_BLOCK_TYPES } from '../constants';\nimport type { BlockStyleControlsProps } from '../types';\n\nconst rootProps = {\n\tclassName: 'rich-text-editor-controls__heading',\n};\n\nconst HeadingControls: React.FC<BlockStyleControlsProps> = ({ editorState, onToggle }) => {\n\tconst selection = useMemo(() => editorState.getSelection(), [editorState]);\n\tconst blockType = useMemo(() => editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).getType(), [\n\t\teditorState,\n\t\tselection,\n\t]);\n\n\treturn (\n\t\t<Select\n\t\t\taria-label={__('heading selector')}\n\t\t\tclassName='ee-input-base ee-select'\n\t\t\tonChangeValue={onToggle}\n\t\t\toptions={HEADING_BLOCK_TYPES}\n\t\t\trootProps={rootProps}\n\t\t\tvalue={blockType}\n\t\t/>\n\t);\n};\n\nexport default HeadingControls;\n","import React from 'react';\n\nimport StyleButton from '../StyleButton';\nimport { INLINE_STYLES } from '../constants';\nimport type { InlineStyleControlsProps } from '../types';\n\nconst InlineStyleControls: React.FC<InlineStyleControlsProps> = ({ editorState, onToggle }) => {\n\tconst currentStyle = editorState.getCurrentInlineStyle();\n\n\treturn (\n\t\t<div className='rich-text-editor-controls'>\n\t\t\t{INLINE_STYLES.map((type) => (\n\t\t\t\t<StyleButton\n\t\t\t\t\tactive={currentStyle.has(type.style)}\n\t\t\t\t\taria-label={type['aria-label']}\n\t\t\t\t\tkey={type.label}\n\t\t\t\t\tlabel={type.label}\n\t\t\t\t\tonToggle={onToggle}\n\t\t\t\t\tstyle={type.style}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default InlineStyleControls;\n","import React from 'react';\n\nimport BlockStyleControls from './BlockStyleControls';\nimport HeadingControls from './HeadingControls';\nimport InlineStyleControls from './InlineStyleControls';\n\nimport type { ToolbarControlsProps } from './types';\n\nimport './style.scss';\n\nconst ToolbarControls: React.FC<ToolbarControlsProps> = ({ editorState, onToggleBlockType, onToggleInlineStyle }) => {\n\treturn (\n\t\t<div className='rich-text-editor-controls__wrapper'>\n\t\t\t<HeadingControls editorState={editorState} onToggle={onToggleBlockType} />\n\t\t\t<BlockStyleControls editorState={editorState} onToggle={onToggleBlockType} />\n\t\t\t<InlineStyleControls editorState={editorState} onToggle={onToggleInlineStyle} />\n\t\t</div>\n\t);\n};\n\nexport default ToolbarControls;\n","import { ContentBlock, DraftBlockType } from 'draft-js';\n\nexport const getBlockStyle = (block: ContentBlock): string | null => {\n\tconst blockType: DraftBlockType = block.getType();\n\n\tswitch (blockType) {\n\t\tcase 'blockquote':\n\t\t\treturn 'rich-text-editor-blockquote';\n\t\tdefault:\n\t\t\treturn null;\n\t}\n};\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport React from 'react';\nimport { Editor, EditorState, RichUtils, DraftBlockType, getDefaultKeyBinding, KeyBindingUtil } from 'draft-js';\nimport { convertFromHTML, convertToHTML } from 'draft-convert';\nimport 'draft-js/dist/Draft.css';\n\nimport { isTabKey } from '../../../utils/src/keycodes';\nimport ToolbarControls from './ToolbarControls';\n\nimport { getBlockStyle } from '../utils';\nimport { RichTextEditorProps, RichTextEditorState } from './types';\n\nimport './style.scss';\n\nconst { hasCommandModifier } = KeyBindingUtil;\n\ntype SyntheticKeyboardEvent = React.KeyboardEvent<any>;\n\n// Custom overrides for \"code\" style.\nconst styleMap = {\n\tCODE: {\n\t\tbackgroundColor: 'rgba(0, 0, 0, 0.05)',\n\t\tfontFamily: '\"Inconsolata\", \"Menlo\", \"Consolas\", monospace',\n\t\tfontSize: 16,\n\t\tpadding: 2,\n\t},\n};\n\nexport class RichTextEditor extends React.Component<RichTextEditorProps, RichTextEditorState> {\n\tfocus: () => void;\n\tonChange: (editorState: EditorState) => void;\n\ttoggleInlineStyle: (style: any) => any;\n\ttoggleBlockType: (type: any) => any;\n\thandleKeyCommand: (command: any) => any;\n\n\tconstructor(props: RichTextEditorProps) {\n\t\tsuper(props);\n\n\t\tconst markup = props?.placeholder ? props.placeholder : '';\n\n\t\tconst value = props?.input?.value?.length ? props?.input?.value : props?.value;\n\n\t\tconst editorState = EditorState.createWithContent(convertFromHTML(value || markup));\n\n\t\tthis.state = {\n\t\t\teditorState,\n\t\t};\n\n\t\tthis.focus = () => {\n\t\t\t// eslint-disable-next-line react/no-string-refs\n\t\t\tconst { editor } = this.refs;\n\n\t\t\t// @ts-ignore\n\t\t\teditor.focus();\n\t\t};\n\n\t\tthis.onChange = (editorState) => {\n\t\t\tconst html = convertToHTML(editorState.getCurrentContent());\n\n\t\t\tconst onChange = this.props?.input?.onChange || this.props?.onChange;\n\n\t\t\tonChange?.(html);\n\n\t\t\tthis.setState({ editorState });\n\t\t};\n\n\t\tthis.handleKeyCommand = (command) => this._handleKeyCommand(command);\n\t\tthis.toggleBlockType = (type) => this._toggleBlockType(type);\n\t\tthis.toggleInlineStyle = (style) => this._toggleInlineStyle(style);\n\t}\n\n\t_handleKeyCommand(command: string): any {\n\t\tconst { editorState } = this.state;\n\t\tconst newState = RichUtils.handleKeyCommand(editorState, command);\n\n\t\tif (newState) {\n\t\t\tthis.onChange(newState);\n\t\t\treturn 'handled';\n\t\t}\n\n\t\tif (command === 'tab') {\n\t\t\tconst maxDepth = 4;\n\t\t\tthis.onChange(RichUtils.onTab(null, this.state.editorState, maxDepth));\n\t\t\treturn 'handled';\n\t\t}\n\n\t\treturn 'not-handled';\n\t}\n\n\tkeyBindingFn(e: SyntheticKeyboardEvent): string | null {\n\t\tif (isTabKey(e) && hasCommandModifier(e)) {\n\t\t\treturn 'tab';\n\t\t}\n\n\t\treturn getDefaultKeyBinding(e);\n\t}\n\n\t_toggleBlockType(blockType: DraftBlockType): void {\n\t\tthis.onChange(RichUtils.toggleBlockType(this.state.editorState, blockType));\n\t}\n\n\t_toggleInlineStyle(inlineStyle: string): void {\n\t\tthis.onChange(RichUtils.toggleInlineStyle(this.state.editorState, inlineStyle));\n\t}\n\n\trender(): JSX.Element {\n\t\tconst { editorState } = this.state;\n\n\t\t// If the user changes block type before entering any text, we can\n\t\t// either style the placeholder or hide it. Let's just hide it now.\n\t\tlet className = 'rich-text-editor';\n\t\tconst contentState = editorState.getCurrentContent();\n\n\t\tif (!contentState?.hasText()) {\n\t\t\tif (contentState?.getBlockMap?.().first?.().getType?.() !== 'unstyled') {\n\t\t\t\tclassName += ' rich-text-editor--hidePlaceholder';\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='rich-text-editor-root'>\n\t\t\t\t<ToolbarControls\n\t\t\t\t\teditorState={editorState}\n\t\t\t\t\tonToggleBlockType={this.toggleBlockType}\n\t\t\t\t\tonToggleInlineStyle={this.toggleInlineStyle}\n\t\t\t\t/>\n\t\t\t\t{\n\t\t\t\t\t// eslint-disable-next-line jsx-a11y/click-events-have-key-events\n\t\t\t\t\t<div className={className} onClick={this.focus}>\n\t\t\t\t\t\t<Editor\n\t\t\t\t\t\t\tariaLabel={this.props['aria-label']}\n\t\t\t\t\t\t\tblockStyleFn={getBlockStyle}\n\t\t\t\t\t\t\tcustomStyleMap={styleMap}\n\t\t\t\t\t\t\teditorState={editorState}\n\t\t\t\t\t\t\thandleKeyCommand={this.handleKeyCommand}\n\t\t\t\t\t\t\tkeyBindingFn={this.keyBindingFn}\n\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\tplaceholder='Write something...'\n\t\t\t\t\t\t\t// eslint-disable-next-line react/no-string-refs\n\t\t\t\t\t\t\tref='editor'\n\t\t\t\t\t\t\tspellCheck={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, { forwardRef, PropsWithoutRef, ForwardRefExoticComponent, RefAttributes } from 'react';\nimport classNames from 'classnames';\n\nimport { IconProps, IconSize } from './types';\n\nimport './style.scss';\n\nexport type ForwardRefComponent<P, C> = ForwardRefExoticComponent<PropsWithoutRef<P> & RefAttributes<C>>;\n\nconst withEnhance = <P extends IconProps>(\n\tWrappedComponent: React.ComponentType<P>\n): ForwardRefComponent<P, typeof WrappedComponent> => {\n\ttype Ref = React.Ref<typeof WrappedComponent>;\n\ttype EnhanceProps = { forwardedRef?: Ref; noMargin?: boolean; size?: IconSize };\n\n\tconst WithEnhance: React.FC<P & EnhanceProps> = ({ forwardedRef, noMargin, size, ...props }) => {\n\t\tconst className = classNames(\n\t\t\t'ee-svg',\n\t\t\tsize && `ee-icon--${size}`,\n\t\t\tnoMargin && 'ee-icon--no-margin',\n\t\t\tprops.className\n\t\t);\n\n\t\treturn <WrappedComponent {...(props as P)} className={className} ref={forwardedRef} />;\n\t};\n\n\tconst ForwardedComponentWithEnhance = (props: P & EnhanceProps, ref: Ref) => {\n\t\treturn <WithEnhance {...props} forwardedRef={ref} />;\n\t};\n\n\treturn forwardRef(ForwardedComponentWithEnhance);\n};\n\nexport default withEnhance;\n","(function() { module.exports = this[\"eventespresso\"][\"i18n\"]; }());","var _isPlaceholder =\n/*#__PURE__*/\nrequire(\"./_isPlaceholder\");\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\n\nfunction _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n}\n\nmodule.exports = _curry1;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar ContentStateInlineStyle = require(\"./ContentStateInlineStyle\");\n\nvar applyEntityToContentState = require(\"./applyEntityToContentState\");\n\nvar getCharacterRemovalRange = require(\"./getCharacterRemovalRange\");\n\nvar getContentStateFragment = require(\"./getContentStateFragment\");\n\nvar Immutable = require(\"immutable\");\n\nvar insertFragmentIntoContentState = require(\"./insertFragmentIntoContentState\");\n\nvar insertTextIntoContentState = require(\"./insertTextIntoContentState\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar modifyBlockForContentState = require(\"./modifyBlockForContentState\");\n\nvar removeEntitiesAtEdges = require(\"./removeEntitiesAtEdges\");\n\nvar removeRangeFromContentState = require(\"./removeRangeFromContentState\");\n\nvar splitBlockInContentState = require(\"./splitBlockInContentState\");\n\nvar OrderedSet = Immutable.OrderedSet;\n/**\n * `DraftModifier` provides a set of convenience methods that apply\n * modifications to a `ContentState` object based on a target `SelectionState`.\n *\n * Any change to a `ContentState` should be decomposable into a series of\n * transaction functions that apply the required changes and return output\n * `ContentState` objects.\n *\n * These functions encapsulate some of the most common transaction sequences.\n */\n\nvar DraftModifier = {\n  replaceText: function replaceText(contentState, rangeToReplace, text, inlineStyle, entityKey) {\n    var withoutEntities = removeEntitiesAtEdges(contentState, rangeToReplace);\n    var withoutText = removeRangeFromContentState(withoutEntities, rangeToReplace);\n    var character = CharacterMetadata.create({\n      style: inlineStyle || OrderedSet(),\n      entity: entityKey || null\n    });\n    return insertTextIntoContentState(withoutText, withoutText.getSelectionAfter(), text, character);\n  },\n  insertText: function insertText(contentState, targetRange, text, inlineStyle, entityKey) {\n    !targetRange.isCollapsed() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Target range must be collapsed for `insertText`.') : invariant(false) : void 0;\n    return DraftModifier.replaceText(contentState, targetRange, text, inlineStyle, entityKey);\n  },\n  moveText: function moveText(contentState, removalRange, targetRange) {\n    var movedFragment = getContentStateFragment(contentState, removalRange);\n    var afterRemoval = DraftModifier.removeRange(contentState, removalRange, 'backward');\n    return DraftModifier.replaceWithFragment(afterRemoval, targetRange, movedFragment);\n  },\n  replaceWithFragment: function replaceWithFragment(contentState, targetRange, fragment) {\n    var mergeBlockData = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'REPLACE_WITH_NEW_DATA';\n    var withoutEntities = removeEntitiesAtEdges(contentState, targetRange);\n    var withoutText = removeRangeFromContentState(withoutEntities, targetRange);\n    return insertFragmentIntoContentState(withoutText, withoutText.getSelectionAfter(), fragment, mergeBlockData);\n  },\n  removeRange: function removeRange(contentState, rangeToRemove, removalDirection) {\n    var startKey, endKey, startBlock, endBlock;\n\n    if (rangeToRemove.getIsBackward()) {\n      rangeToRemove = rangeToRemove.merge({\n        anchorKey: rangeToRemove.getFocusKey(),\n        anchorOffset: rangeToRemove.getFocusOffset(),\n        focusKey: rangeToRemove.getAnchorKey(),\n        focusOffset: rangeToRemove.getAnchorOffset(),\n        isBackward: false\n      });\n    }\n\n    startKey = rangeToRemove.getAnchorKey();\n    endKey = rangeToRemove.getFocusKey();\n    startBlock = contentState.getBlockForKey(startKey);\n    endBlock = contentState.getBlockForKey(endKey);\n    var startOffset = rangeToRemove.getStartOffset();\n    var endOffset = rangeToRemove.getEndOffset();\n    var startEntityKey = startBlock.getEntityAt(startOffset);\n    var endEntityKey = endBlock.getEntityAt(endOffset - 1); // Check whether the selection state overlaps with a single entity.\n    // If so, try to remove the appropriate substring of the entity text.\n\n    if (startKey === endKey) {\n      if (startEntityKey && startEntityKey === endEntityKey) {\n        var adjustedRemovalRange = getCharacterRemovalRange(contentState.getEntityMap(), startBlock, endBlock, rangeToRemove, removalDirection);\n        return removeRangeFromContentState(contentState, adjustedRemovalRange);\n      }\n    }\n\n    var withoutEntities = removeEntitiesAtEdges(contentState, rangeToRemove);\n    return removeRangeFromContentState(withoutEntities, rangeToRemove);\n  },\n  splitBlock: function splitBlock(contentState, selectionState) {\n    var withoutEntities = removeEntitiesAtEdges(contentState, selectionState);\n    var withoutText = removeRangeFromContentState(withoutEntities, selectionState);\n    return splitBlockInContentState(withoutText, withoutText.getSelectionAfter());\n  },\n  applyInlineStyle: function applyInlineStyle(contentState, selectionState, inlineStyle) {\n    return ContentStateInlineStyle.add(contentState, selectionState, inlineStyle);\n  },\n  removeInlineStyle: function removeInlineStyle(contentState, selectionState, inlineStyle) {\n    return ContentStateInlineStyle.remove(contentState, selectionState, inlineStyle);\n  },\n  setBlockType: function setBlockType(contentState, selectionState, blockType) {\n    return modifyBlockForContentState(contentState, selectionState, function (block) {\n      return block.merge({\n        type: blockType,\n        depth: 0\n      });\n    });\n  },\n  setBlockData: function setBlockData(contentState, selectionState, blockData) {\n    return modifyBlockForContentState(contentState, selectionState, function (block) {\n      return block.merge({\n        data: blockData\n      });\n    });\n  },\n  mergeBlockData: function mergeBlockData(contentState, selectionState, blockData) {\n    return modifyBlockForContentState(contentState, selectionState, function (block) {\n      return block.merge({\n        data: block.getData().merge(blockData)\n      });\n    });\n  },\n  applyEntity: function applyEntity(contentState, selectionState, entityKey) {\n    var withoutEntities = removeEntitiesAtEdges(contentState, selectionState);\n    return applyEntityToContentState(withoutEntities, selectionState, entityKey);\n  }\n};\nmodule.exports = DraftModifier;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nvar nullthrows = function nullthrows(x) {\n  if (x != null) {\n    return x;\n  }\n\n  throw new Error(\"Got unexpected null or undefined\");\n};\n\nmodule.exports = nullthrows;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n\nvar UserAgentData = require(\"./UserAgentData\");\n\nvar VersionRange = require(\"./VersionRange\");\n\nvar mapObject = require(\"./mapObject\");\n\nvar memoizeStringOnly = require(\"./memoizeStringOnly\");\n/**\n * Checks to see whether `name` and `version` satisfy `query`.\n *\n * @param {string} name Name of the browser, device, engine or platform\n * @param {?string} version Version of the browser, engine or platform\n * @param {string} query Query of form \"Name [range expression]\"\n * @param {?function} normalizer Optional pre-processor for range expression\n * @return {boolean}\n */\n\n\nfunction compare(name, version, query, normalizer) {\n  // check for exact match with no version\n  if (name === query) {\n    return true;\n  } // check for non-matching names\n\n\n  if (!query.startsWith(name)) {\n    return false;\n  } // full comparison with version\n\n\n  var range = query.slice(name.length);\n\n  if (version) {\n    range = normalizer ? normalizer(range) : range;\n    return VersionRange.contains(range, version);\n  }\n\n  return false;\n}\n/**\n * Normalizes `version` by stripping any \"NT\" prefix, but only on the Windows\n * platform.\n *\n * Mimics the stripping performed by the `UserAgentWindowsPlatform` PHP class.\n *\n * @param {string} version\n * @return {string}\n */\n\n\nfunction normalizePlatformVersion(version) {\n  if (UserAgentData.platformName === 'Windows') {\n    return version.replace(/^\\s*NT/, '');\n  }\n\n  return version;\n}\n/**\n * Provides client-side access to the authoritative PHP-generated User Agent\n * information supplied by the server.\n */\n\n\nvar UserAgent = {\n  /**\n   * Check if the User Agent browser matches `query`.\n   *\n   * `query` should be a string like \"Chrome\" or \"Chrome > 33\".\n   *\n   * Valid browser names include:\n   *\n   * - ACCESS NetFront\n   * - AOL\n   * - Amazon Silk\n   * - Android\n   * - BlackBerry\n   * - BlackBerry PlayBook\n   * - Chrome\n   * - Chrome for iOS\n   * - Chrome frame\n   * - Facebook PHP SDK\n   * - Facebook for iOS\n   * - Firefox\n   * - IE\n   * - IE Mobile\n   * - Mobile Safari\n   * - Motorola Internet Browser\n   * - Nokia\n   * - Openwave Mobile Browser\n   * - Opera\n   * - Opera Mini\n   * - Opera Mobile\n   * - Safari\n   * - UIWebView\n   * - Unknown\n   * - webOS\n   * - etc...\n   *\n   * An authoritative list can be found in the PHP `BrowserDetector` class and\n   * related classes in the same file (see calls to `new UserAgentBrowser` here:\n   * https://fburl.com/50728104).\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"Name [range expression]\"\n   * @return {boolean}\n   */\n  isBrowser: function isBrowser(query) {\n    return compare(UserAgentData.browserName, UserAgentData.browserFullVersion, query);\n  },\n\n  /**\n   * Check if the User Agent browser uses a 32 or 64 bit architecture.\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"32\" or \"64\".\n   * @return {boolean}\n   */\n  isBrowserArchitecture: function isBrowserArchitecture(query) {\n    return compare(UserAgentData.browserArchitecture, null, query);\n  },\n\n  /**\n   * Check if the User Agent device matches `query`.\n   *\n   * `query` should be a string like \"iPhone\" or \"iPad\".\n   *\n   * Valid device names include:\n   *\n   * - Kindle\n   * - Kindle Fire\n   * - Unknown\n   * - iPad\n   * - iPhone\n   * - iPod\n   * - etc...\n   *\n   * An authoritative list can be found in the PHP `DeviceDetector` class and\n   * related classes in the same file (see calls to `new UserAgentDevice` here:\n   * https://fburl.com/50728332).\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"Name\"\n   * @return {boolean}\n   */\n  isDevice: function isDevice(query) {\n    return compare(UserAgentData.deviceName, null, query);\n  },\n\n  /**\n   * Check if the User Agent rendering engine matches `query`.\n   *\n   * `query` should be a string like \"WebKit\" or \"WebKit >= 537\".\n   *\n   * Valid engine names include:\n   *\n   * - Gecko\n   * - Presto\n   * - Trident\n   * - WebKit\n   * - etc...\n   *\n   * An authoritative list can be found in the PHP `RenderingEngineDetector`\n   * class related classes in the same file (see calls to `new\n   * UserAgentRenderingEngine` here: https://fburl.com/50728617).\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"Name [range expression]\"\n   * @return {boolean}\n   */\n  isEngine: function isEngine(query) {\n    return compare(UserAgentData.engineName, UserAgentData.engineVersion, query);\n  },\n\n  /**\n   * Check if the User Agent platform matches `query`.\n   *\n   * `query` should be a string like \"Windows\" or \"iOS 5 - 6\".\n   *\n   * Valid platform names include:\n   *\n   * - Android\n   * - BlackBerry OS\n   * - Java ME\n   * - Linux\n   * - Mac OS X\n   * - Mac OS X Calendar\n   * - Mac OS X Internet Account\n   * - Symbian\n   * - SymbianOS\n   * - Windows\n   * - Windows Mobile\n   * - Windows Phone\n   * - iOS\n   * - iOS Facebook Integration Account\n   * - iOS Facebook Social Sharing UI\n   * - webOS\n   * - Chrome OS\n   * - etc...\n   *\n   * An authoritative list can be found in the PHP `PlatformDetector` class and\n   * related classes in the same file (see calls to `new UserAgentPlatform`\n   * here: https://fburl.com/50729226).\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"Name [range expression]\"\n   * @return {boolean}\n   */\n  isPlatform: function isPlatform(query) {\n    return compare(UserAgentData.platformName, UserAgentData.platformFullVersion, query, normalizePlatformVersion);\n  },\n\n  /**\n   * Check if the User Agent platform is a 32 or 64 bit architecture.\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"32\" or \"64\".\n   * @return {boolean}\n   */\n  isPlatformArchitecture: function isPlatformArchitecture(query) {\n    return compare(UserAgentData.platformArchitecture, null, query);\n  }\n};\nmodule.exports = mapObject(UserAgent, memoizeStringOnly);","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","var _indexOf =\n/*#__PURE__*/\nrequire(\"./_indexOf\");\n\nfunction _includes(a, list) {\n  return _indexOf(list, a, 0) >= 0;\n}\n\nmodule.exports = _includes;","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar _require = require(\"immutable\"),\n    Map = _require.Map,\n    OrderedSet = _require.OrderedSet,\n    Record = _require.Record; // Immutable.map is typed such that the value for every key in the map\n// must be the same type\n\n\nvar EMPTY_SET = OrderedSet();\nvar defaultRecord = {\n  style: EMPTY_SET,\n  entity: null\n};\nvar CharacterMetadataRecord = Record(defaultRecord);\n\nvar CharacterMetadata = /*#__PURE__*/function (_CharacterMetadataRec) {\n  _inheritsLoose(CharacterMetadata, _CharacterMetadataRec);\n\n  function CharacterMetadata() {\n    return _CharacterMetadataRec.apply(this, arguments) || this;\n  }\n\n  var _proto = CharacterMetadata.prototype;\n\n  _proto.getStyle = function getStyle() {\n    return this.get('style');\n  };\n\n  _proto.getEntity = function getEntity() {\n    return this.get('entity');\n  };\n\n  _proto.hasStyle = function hasStyle(style) {\n    return this.getStyle().includes(style);\n  };\n\n  CharacterMetadata.applyStyle = function applyStyle(record, style) {\n    var withStyle = record.set('style', record.getStyle().add(style));\n    return CharacterMetadata.create(withStyle);\n  };\n\n  CharacterMetadata.removeStyle = function removeStyle(record, style) {\n    var withoutStyle = record.set('style', record.getStyle().remove(style));\n    return CharacterMetadata.create(withoutStyle);\n  };\n\n  CharacterMetadata.applyEntity = function applyEntity(record, entityKey) {\n    var withEntity = record.getEntity() === entityKey ? record : record.set('entity', entityKey);\n    return CharacterMetadata.create(withEntity);\n  }\n  /**\n   * Use this function instead of the `CharacterMetadata` constructor.\n   * Since most content generally uses only a very small number of\n   * style/entity permutations, we can reuse these objects as often as\n   * possible.\n   */\n  ;\n\n  CharacterMetadata.create = function create(config) {\n    if (!config) {\n      return EMPTY;\n    }\n\n    var defaultConfig = {\n      style: EMPTY_SET,\n      entity: null\n    }; // Fill in unspecified properties, if necessary.\n\n    var configMap = Map(defaultConfig).merge(config);\n    var existing = pool.get(configMap);\n\n    if (existing) {\n      return existing;\n    }\n\n    var newCharacter = new CharacterMetadata(configMap);\n    pool = pool.set(configMap, newCharacter);\n    return newCharacter;\n  };\n\n  CharacterMetadata.fromJS = function fromJS(_ref) {\n    var style = _ref.style,\n        entity = _ref.entity;\n    return new CharacterMetadata({\n      style: Array.isArray(style) ? OrderedSet(style) : style,\n      entity: Array.isArray(entity) ? OrderedSet(entity) : entity\n    });\n  };\n\n  return CharacterMetadata;\n}(CharacterMetadataRecord);\n\nvar EMPTY = new CharacterMetadata();\nvar pool = Map([[Map(defaultRecord), EMPTY]]);\nCharacterMetadata.EMPTY = EMPTY;\nmodule.exports = CharacterMetadata;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n *\n * This file is a fork of ContentBlock adding support for nesting references by\n * providing links to children, parent, prevSibling, and nextSibling.\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar findRangesImmutable = require(\"./findRangesImmutable\");\n\nvar Immutable = require(\"immutable\");\n\nvar List = Immutable.List,\n    Map = Immutable.Map,\n    OrderedSet = Immutable.OrderedSet,\n    Record = Immutable.Record,\n    Repeat = Immutable.Repeat;\nvar EMPTY_SET = OrderedSet();\nvar defaultRecord = {\n  parent: null,\n  characterList: List(),\n  data: Map(),\n  depth: 0,\n  key: '',\n  text: '',\n  type: 'unstyled',\n  children: List(),\n  prevSibling: null,\n  nextSibling: null\n};\n\nvar haveEqualStyle = function haveEqualStyle(charA, charB) {\n  return charA.getStyle() === charB.getStyle();\n};\n\nvar haveEqualEntity = function haveEqualEntity(charA, charB) {\n  return charA.getEntity() === charB.getEntity();\n};\n\nvar decorateCharacterList = function decorateCharacterList(config) {\n  if (!config) {\n    return config;\n  }\n\n  var characterList = config.characterList,\n      text = config.text;\n\n  if (text && !characterList) {\n    config.characterList = List(Repeat(CharacterMetadata.EMPTY, text.length));\n  }\n\n  return config;\n};\n\nvar ContentBlockNode = /*#__PURE__*/function (_ref) {\n  _inheritsLoose(ContentBlockNode, _ref);\n\n  function ContentBlockNode() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultRecord;\n\n    /* eslint-disable-next-line constructor-super */\n    return _ref.call(this, decorateCharacterList(props)) || this;\n  }\n\n  var _proto = ContentBlockNode.prototype;\n\n  _proto.getKey = function getKey() {\n    return this.get('key');\n  };\n\n  _proto.getType = function getType() {\n    return this.get('type');\n  };\n\n  _proto.getText = function getText() {\n    return this.get('text');\n  };\n\n  _proto.getCharacterList = function getCharacterList() {\n    return this.get('characterList');\n  };\n\n  _proto.getLength = function getLength() {\n    return this.getText().length;\n  };\n\n  _proto.getDepth = function getDepth() {\n    return this.get('depth');\n  };\n\n  _proto.getData = function getData() {\n    return this.get('data');\n  };\n\n  _proto.getInlineStyleAt = function getInlineStyleAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getStyle() : EMPTY_SET;\n  };\n\n  _proto.getEntityAt = function getEntityAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getEntity() : null;\n  };\n\n  _proto.getChildKeys = function getChildKeys() {\n    return this.get('children');\n  };\n\n  _proto.getParentKey = function getParentKey() {\n    return this.get('parent');\n  };\n\n  _proto.getPrevSiblingKey = function getPrevSiblingKey() {\n    return this.get('prevSibling');\n  };\n\n  _proto.getNextSiblingKey = function getNextSiblingKey() {\n    return this.get('nextSibling');\n  };\n\n  _proto.findStyleRanges = function findStyleRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualStyle, filterFn, callback);\n  };\n\n  _proto.findEntityRanges = function findEntityRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualEntity, filterFn, callback);\n  };\n\n  return ContentBlockNode;\n}(Record(defaultRecord));\n\nmodule.exports = ContentBlockNode;","var equals =\n/*#__PURE__*/\nrequire(\"../equals\");\n\nfunction _indexOf(list, a, idx) {\n  var inf, item; // Array.prototype.indexOf doesn't exist below IE9\n\n  if (typeof list.indexOf === 'function') {\n    switch (typeof a) {\n      case 'number':\n        if (a === 0) {\n          // manually crawl the list to distinguish between +0 and -0\n          inf = 1 / a;\n\n          while (idx < list.length) {\n            item = list[idx];\n\n            if (item === 0 && 1 / item === inf) {\n              return idx;\n            }\n\n            idx += 1;\n          }\n\n          return -1;\n        } else if (a !== a) {\n          // NaN\n          while (idx < list.length) {\n            item = list[idx];\n\n            if (typeof item === 'number' && item !== item) {\n              return idx;\n            }\n\n            idx += 1;\n          }\n\n          return -1;\n        } // non-zero numbers can utilise Set\n\n\n        return list.indexOf(a, idx);\n      // all these types can utilise Set\n\n      case 'string':\n      case 'boolean':\n      case 'function':\n      case 'undefined':\n        return list.indexOf(a, idx);\n\n      case 'object':\n        if (a === null) {\n          // null can utilise Set\n          return list.indexOf(a, idx);\n        }\n\n    }\n  } // anything else not covered above, defer to R.equals\n\n\n  while (idx < list.length) {\n    if (equals(list[idx], a)) {\n      return idx;\n    }\n\n    idx += 1;\n  }\n\n  return -1;\n}\n\nmodule.exports = _indexOf;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n */\n'use strict';\n\nvar AtomicBlockUtils = require(\"./AtomicBlockUtils\");\n\nvar BlockMapBuilder = require(\"./BlockMapBuilder\");\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar CompositeDraftDecorator = require(\"./CompositeDraftDecorator\");\n\nvar ContentBlock = require(\"./ContentBlock\");\n\nvar ContentState = require(\"./ContentState\");\n\nvar DefaultDraftBlockRenderMap = require(\"./DefaultDraftBlockRenderMap\");\n\nvar DefaultDraftInlineStyle = require(\"./DefaultDraftInlineStyle\");\n\nvar DraftEditor = require(\"./DraftEditor.react\");\n\nvar DraftEditorBlock = require(\"./DraftEditorBlock.react\");\n\nvar DraftEntity = require(\"./DraftEntity\");\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar DraftEntityInstance = require(\"./DraftEntityInstance\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar KeyBindingUtil = require(\"./KeyBindingUtil\");\n\nvar RawDraftContentState = require(\"./RawDraftContentState\");\n\nvar RichTextEditorUtil = require(\"./RichTextEditorUtil\");\n\nvar SelectionState = require(\"./SelectionState\");\n\nvar convertFromDraftStateToRaw = require(\"./convertFromDraftStateToRaw\");\n\nvar convertFromRawToDraftState = require(\"./convertFromRawToDraftState\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getDefaultKeyBinding = require(\"./getDefaultKeyBinding\");\n\nvar getVisibleSelectionRect = require(\"./getVisibleSelectionRect\");\n\nvar convertFromHTML = require(\"./convertFromHTMLToContentBlocks\");\n\nvar DraftPublic = {\n  Editor: DraftEditor,\n  EditorBlock: DraftEditorBlock,\n  EditorState: EditorState,\n  CompositeDecorator: CompositeDraftDecorator,\n  Entity: DraftEntity,\n  EntityInstance: DraftEntityInstance,\n  BlockMapBuilder: BlockMapBuilder,\n  CharacterMetadata: CharacterMetadata,\n  ContentBlock: ContentBlock,\n  ContentState: ContentState,\n  RawDraftContentState: RawDraftContentState,\n  SelectionState: SelectionState,\n  AtomicBlockUtils: AtomicBlockUtils,\n  KeyBindingUtil: KeyBindingUtil,\n  Modifier: DraftModifier,\n  RichUtils: RichTextEditorUtil,\n  DefaultDraftBlockRenderMap: DefaultDraftBlockRenderMap,\n  DefaultDraftInlineStyle: DefaultDraftInlineStyle,\n  convertFromHTML: convertFromHTML,\n  convertFromRaw: convertFromRawToDraftState,\n  convertToRaw: convertFromDraftStateToRaw,\n  genKey: generateRandomKey,\n  getDefaultKeyBinding: getDefaultKeyBinding,\n  getVisibleSelectionRect: getVisibleSelectionRect\n};\nmodule.exports = DraftPublic;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar seenKeys = {};\nvar MULTIPLIER = Math.pow(2, 24);\n\nfunction generateRandomKey() {\n  var key;\n\n  while (key === undefined || seenKeys.hasOwnProperty(key) || !isNaN(+key)) {\n    key = Math.floor(Math.random() * MULTIPLIER).toString(32);\n  }\n\n  seenKeys[key] = true;\n  return key;\n}\n\nmodule.exports = generateRandomKey;","// ordered clockwise starting top left\nexport enum LabelPosition {\n\tTOP_LEFT = 'top-left',\n\tTOP_CENTER = 'top-center',\n\tTOP_RIGHT = 'top-right',\n\tRIGHT_TOP = 'right-top',\n\tRIGHT_MIDDLE = 'right-middle',\n\tRIGHT_BOTTOM = 'right-bottom',\n\tBOTTOM_RIGHT = 'bottom-right',\n\tBOTTOM_CENTER = 'bottom-center',\n\tBOTTOM_LEFT = 'bottom-left',\n\tLEFT_BOTTOM = 'left-bottom',\n\tLEFT_MIDDLE = 'left-middle',\n\tLEFT_TOP = 'left-top',\n}\n\nexport interface withLabelProps {\n\tid?: string;\n\tlabel?: string;\n\tlabelClassName?: string;\n\tlabelPosition?: LabelPosition;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar KEY_DELIMITER = '-';\nvar DraftOffsetKey = {\n  encode: function encode(blockKey, decoratorKey, leafKey) {\n    return blockKey + KEY_DELIMITER + decoratorKey + KEY_DELIMITER + leafKey;\n  },\n  decode: function decode(offsetKey) {\n    // Extracts the last two parts of offsetKey and captures the rest in blockKeyParts\n    var _offsetKey$split$reve = offsetKey.split(KEY_DELIMITER).reverse(),\n        leafKey = _offsetKey$split$reve[0],\n        decoratorKey = _offsetKey$split$reve[1],\n        blockKeyParts = _offsetKey$split$reve.slice(2);\n\n    return {\n      // Recomposes the parts of blockKey after reversing them\n      blockKey: blockKeyParts.reverse().join(KEY_DELIMITER),\n      decoratorKey: parseInt(decoratorKey, 10),\n      leafKey: parseInt(leafKey, 10)\n    };\n  }\n};\nmodule.exports = DraftOffsetKey;","var _includes =\n/*#__PURE__*/\nrequire(\"./internal/_includes\");\n\nvar _curry2 =\n/*#__PURE__*/\nrequire(\"./internal/_curry2\");\n/**\n * Returns `true` if the specified value is equal, in [`R.equals`](#equals)\n * terms, to at least one element of the given list; `false` otherwise.\n * Works also with strings.\n *\n * @func\n * @memberOf R\n * @since v0.26.0\n * @category List\n * @sig a -> [a] -> Boolean\n * @param {Object} a The item to compare against.\n * @param {Array} list The array to consider.\n * @return {Boolean} `true` if an equivalent item is in the list, `false` otherwise.\n * @see R.any\n * @example\n *\n *      R.includes(3, [1, 2, 3]); //=> true\n *      R.includes(4, [1, 2, 3]); //=> false\n *      R.includes({ name: 'Fred' }, [{ name: 'Fred' }]); //=> true\n *      R.includes([42], [[42]]); //=> true\n *      R.includes('ba', 'banana'); //=>true\n */\n\n\nvar includes =\n/*#__PURE__*/\n_curry2(_includes);\n\nmodule.exports = includes;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n */\n'use strict';\n\nmodule.exports = function (name) {\n  if (typeof window !== 'undefined' && window.__DRAFT_GKX) {\n    return !!window.__DRAFT_GKX[name];\n  }\n\n  return false;\n};","function _isPlaceholder(a) {\n  return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;\n}\n\nmodule.exports = _isPlaceholder;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar findRangesImmutable = require(\"./findRangesImmutable\");\n\nvar Immutable = require(\"immutable\");\n\nvar List = Immutable.List,\n    Map = Immutable.Map,\n    OrderedSet = Immutable.OrderedSet,\n    Record = Immutable.Record,\n    Repeat = Immutable.Repeat;\nvar EMPTY_SET = OrderedSet();\nvar defaultRecord = {\n  key: '',\n  type: 'unstyled',\n  text: '',\n  characterList: List(),\n  depth: 0,\n  data: Map()\n};\nvar ContentBlockRecord = Record(defaultRecord);\n\nvar decorateCharacterList = function decorateCharacterList(config) {\n  if (!config) {\n    return config;\n  }\n\n  var characterList = config.characterList,\n      text = config.text;\n\n  if (text && !characterList) {\n    config.characterList = List(Repeat(CharacterMetadata.EMPTY, text.length));\n  }\n\n  return config;\n};\n\nvar ContentBlock = /*#__PURE__*/function (_ContentBlockRecord) {\n  _inheritsLoose(ContentBlock, _ContentBlockRecord);\n\n  function ContentBlock(config) {\n    return _ContentBlockRecord.call(this, decorateCharacterList(config)) || this;\n  }\n\n  var _proto = ContentBlock.prototype;\n\n  _proto.getKey = function getKey() {\n    return this.get('key');\n  };\n\n  _proto.getType = function getType() {\n    return this.get('type');\n  };\n\n  _proto.getText = function getText() {\n    return this.get('text');\n  };\n\n  _proto.getCharacterList = function getCharacterList() {\n    return this.get('characterList');\n  };\n\n  _proto.getLength = function getLength() {\n    return this.getText().length;\n  };\n\n  _proto.getDepth = function getDepth() {\n    return this.get('depth');\n  };\n\n  _proto.getData = function getData() {\n    return this.get('data');\n  };\n\n  _proto.getInlineStyleAt = function getInlineStyleAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getStyle() : EMPTY_SET;\n  };\n\n  _proto.getEntityAt = function getEntityAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getEntity() : null;\n  }\n  /**\n   * Execute a callback for every contiguous range of styles within the block.\n   */\n  ;\n\n  _proto.findStyleRanges = function findStyleRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualStyle, filterFn, callback);\n  }\n  /**\n   * Execute a callback for every contiguous range of entities within the block.\n   */\n  ;\n\n  _proto.findEntityRanges = function findEntityRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualEntity, filterFn, callback);\n  };\n\n  return ContentBlock;\n}(ContentBlockRecord);\n\nfunction haveEqualStyle(charA, charB) {\n  return charA.getStyle() === charB.getStyle();\n}\n\nfunction haveEqualEntity(charA, charB) {\n  return charA.getEntity() === charB.getEntity();\n}\n\nmodule.exports = ContentBlock;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/**\n * This function is used to mark string literals representing CSS class names\n * so that they can be transformed statically. This allows for modularization\n * and minification of CSS class names.\n *\n * In static_upstream, this function is actually implemented, but it should\n * eventually be replaced with something more descriptive, and the transform\n * that is used in the main stack should be ported for use elsewhere.\n *\n * @param string|object className to modularize, or an object of key/values.\n *                      In the object case, the values are conditions that\n *                      determine if the className keys should be included.\n * @param [string ...]  Variable list of classNames in the string case.\n * @return string       Renderable space-separated CSS className.\n */\nfunction cx(classNames) {\n  if (typeof classNames == 'object') {\n    return Object.keys(classNames).filter(function (className) {\n      return classNames[className];\n    }).map(replace).join(' ');\n  }\n\n  return Array.prototype.map.call(arguments, replace).join(' ');\n}\n\nfunction replace(str) {\n  return str.replace(/\\//g, '-');\n}\n\nmodule.exports = cx;","\"use strict\";\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\nfunction isElement(node) {\n  if (!node || !node.ownerDocument) {\n    return false;\n  }\n\n  return node.nodeType === Node.ELEMENT_NODE;\n}\n\nmodule.exports = isElement;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\n/**\n * Unicode-enabled replacesments for basic String functions.\n *\n * All the functions in this module assume that the input string is a valid\n * UTF-16 encoding of a Unicode sequence. If it's not the case, the behavior\n * will be undefined.\n *\n * WARNING: Since this module is typechecks-enforced, you may find new bugs\n * when replacing normal String functions with ones provided here.\n */\n'use strict';\n\nvar invariant = require(\"./invariant\"); // These two ranges are consecutive so anything in [HIGH_START, LOW_END] is a\n// surrogate code unit.\n\n\nvar SURROGATE_HIGH_START = 0xD800;\nvar SURROGATE_HIGH_END = 0xDBFF;\nvar SURROGATE_LOW_START = 0xDC00;\nvar SURROGATE_LOW_END = 0xDFFF;\nvar SURROGATE_UNITS_REGEX = /[\\uD800-\\uDFFF]/;\n/**\n * @param {number} codeUnit   A Unicode code-unit, in range [0, 0x10FFFF]\n * @return {boolean}          Whether code-unit is in a surrogate (hi/low) range\n */\n\nfunction isCodeUnitInSurrogateRange(codeUnit) {\n  return SURROGATE_HIGH_START <= codeUnit && codeUnit <= SURROGATE_LOW_END;\n}\n/**\n * Returns whether the two characters starting at `index` form a surrogate pair.\n * For example, given the string s = \"\\uD83D\\uDE0A\", (s, 0) returns true and\n * (s, 1) returns false.\n *\n * @param {string} str\n * @param {number} index\n * @return {boolean}\n */\n\n\nfunction isSurrogatePair(str, index) {\n  !(0 <= index && index < str.length) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isSurrogatePair: Invalid index %s for string length %s.', index, str.length) : invariant(false) : void 0;\n\n  if (index + 1 === str.length) {\n    return false;\n  }\n\n  var first = str.charCodeAt(index);\n  var second = str.charCodeAt(index + 1);\n  return SURROGATE_HIGH_START <= first && first <= SURROGATE_HIGH_END && SURROGATE_LOW_START <= second && second <= SURROGATE_LOW_END;\n}\n/**\n * @param {string} str  Non-empty string\n * @return {boolean}    True if the input includes any surrogate code units\n */\n\n\nfunction hasSurrogateUnit(str) {\n  return SURROGATE_UNITS_REGEX.test(str);\n}\n/**\n * Return the length of the original Unicode character at given position in the\n * String by looking into the UTF-16 code unit; that is equal to 1 for any\n * non-surrogate characters in BMP ([U+0000..U+D7FF] and [U+E000, U+FFFF]); and\n * returns 2 for the hi/low surrogates ([U+D800..U+DFFF]), which are in fact\n * representing non-BMP characters ([U+10000..U+10FFFF]).\n *\n * Examples:\n * - '\\u0020' => 1\n * - '\\u3020' => 1\n * - '\\uD835' => 2\n * - '\\uD835\\uDDEF' => 2\n * - '\\uDDEF' => 2\n *\n * @param {string} str  Non-empty string\n * @param {number} pos  Position in the string to look for one code unit\n * @return {number}      Number 1 or 2\n */\n\n\nfunction getUTF16Length(str, pos) {\n  return 1 + isCodeUnitInSurrogateRange(str.charCodeAt(pos));\n}\n/**\n * Fully Unicode-enabled replacement for String#length\n *\n * @param {string} str  Valid Unicode string\n * @return {number}     The number of Unicode characters in the string\n */\n\n\nfunction strlen(str) {\n  // Call the native functions if there's no surrogate char\n  if (!hasSurrogateUnit(str)) {\n    return str.length;\n  }\n\n  var len = 0;\n\n  for (var pos = 0; pos < str.length; pos += getUTF16Length(str, pos)) {\n    len++;\n  }\n\n  return len;\n}\n/**\n * Fully Unicode-enabled replacement for String#substr()\n *\n * @param {string} str      Valid Unicode string\n * @param {number} start    Location in Unicode sequence to begin extracting\n * @param {?number} length  The number of Unicode characters to extract\n *                          (default: to the end of the string)\n * @return {string}         Extracted sub-string\n */\n\n\nfunction substr(str, start, length) {\n  start = start || 0;\n  length = length === undefined ? Infinity : length || 0; // Call the native functions if there's no surrogate char\n\n  if (!hasSurrogateUnit(str)) {\n    return str.substr(start, length);\n  } // Obvious cases\n\n\n  var size = str.length;\n\n  if (size <= 0 || start > size || length <= 0) {\n    return '';\n  } // Find the actual starting position\n\n\n  var posA = 0;\n\n  if (start > 0) {\n    for (; start > 0 && posA < size; start--) {\n      posA += getUTF16Length(str, posA);\n    }\n\n    if (posA >= size) {\n      return '';\n    }\n  } else if (start < 0) {\n    for (posA = size; start < 0 && 0 < posA; start++) {\n      posA -= getUTF16Length(str, posA - 1);\n    }\n\n    if (posA < 0) {\n      posA = 0;\n    }\n  } // Find the actual ending position\n\n\n  var posB = size;\n\n  if (length < size) {\n    for (posB = posA; length > 0 && posB < size; length--) {\n      posB += getUTF16Length(str, posB);\n    }\n  }\n\n  return str.substring(posA, posB);\n}\n/**\n * Fully Unicode-enabled replacement for String#substring()\n *\n * @param {string} str    Valid Unicode string\n * @param {number} start  Location in Unicode sequence to begin extracting\n * @param {?number} end   Location in Unicode sequence to end extracting\n *                        (default: end of the string)\n * @return {string}       Extracted sub-string\n */\n\n\nfunction substring(str, start, end) {\n  start = start || 0;\n  end = end === undefined ? Infinity : end || 0;\n\n  if (start < 0) {\n    start = 0;\n  }\n\n  if (end < 0) {\n    end = 0;\n  }\n\n  var length = Math.abs(end - start);\n  start = start < end ? start : end;\n  return substr(str, start, length);\n}\n/**\n * Get a list of Unicode code-points from a String\n *\n * @param {string} str        Valid Unicode string\n * @return {array<number>}    A list of code-points in [0..0x10FFFF]\n */\n\n\nfunction getCodePoints(str) {\n  var codePoints = [];\n\n  for (var pos = 0; pos < str.length; pos += getUTF16Length(str, pos)) {\n    codePoints.push(str.codePointAt(pos));\n  }\n\n  return codePoints;\n}\n\nvar UnicodeUtils = {\n  getCodePoints: getCodePoints,\n  getUTF16Length: getUTF16Length,\n  hasSurrogateUnit: hasSurrogateUnit,\n  isCodeUnitInSurrogateRange: isCodeUnitInSurrogateRange,\n  isSurrogatePair: isSurrogatePair,\n  strlen: strlen,\n  substring: substring,\n  substr: substr\n};\nmodule.exports = UnicodeUtils;","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport { LabelPosition } from './types';\nimport type { withLabelProps } from './types';\nimport type { ForwardRefComponent } from '../types';\nimport './style.scss';\n\nconst withLabel = <P extends withLabelProps>(\n\tWrappedComponent: React.ComponentType<P>\n): ForwardRefComponent<P, typeof WrappedComponent> => {\n\ttype Ref = React.Ref<typeof WrappedComponent>;\n\ttype refProps = { forwardedRef: Ref };\n\n\tconst WithLabel: React.FC<P & refProps> = ({\n\t\tforwardedRef,\n\t\tlabel,\n\t\tlabelClassName,\n\t\tlabelPosition = LabelPosition.TOP_LEFT,\n\t\t...props\n\t}) => {\n\t\tconst className = classNames(\n\t\t\t'ee-input__wrapper',\n\t\t\tlabelClassName,\n\t\t\tlabel && 'ee-input-label__wrapper',\n\t\t\tlabel && labelPosition && `ee-input-label__wrapper--${labelPosition}`\n\t\t);\n\n\t\tconst id = props.id && 'ee-' + props.id;\n\n\t\treturn label ? (\n\t\t\t<div className={className}>\n\t\t\t\t<label className='ee-input-label' htmlFor={id}>\n\t\t\t\t\t{label}\n\t\t\t\t</label>\n\t\t\t\t<WrappedComponent {...(props as P)} aria-label={label} id={id} ref={forwardedRef} />\n\t\t\t</div>\n\t\t) : (\n\t\t\t<WrappedComponent {...(props as P)} ref={forwardedRef} id={id} />\n\t\t);\n\t};\n\n\tconst ForwardedComponentWithLabel = (props: P, ref: Ref) => {\n\t\treturn <WithLabel {...props} forwardedRef={ref} />;\n\t};\n\n\treturn React.forwardRef(ForwardedComponentWithLabel);\n};\n\nexport default withLabel;\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar NODE_ENV = process.env.NODE_ENV;\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _has(prop, obj) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = _has;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar Immutable = require(\"immutable\");\n\nvar OrderedMap = Immutable.OrderedMap;\nvar BlockMapBuilder = {\n  createFromArray: function createFromArray(blocks) {\n    return OrderedMap(blocks.map(function (block) {\n      return [block.getKey(), block];\n    }));\n  }\n};\nmodule.exports = BlockMapBuilder;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\n/**\n * Search through an array to find contiguous stretches of elements that\n * match a specified filter function.\n *\n * When ranges are found, execute a specified `found` function to supply\n * the values to the caller.\n */\nfunction findRangesImmutable(haystack, areEqualFn, filterFn, foundFn) {\n  if (!haystack.size) {\n    return;\n  }\n\n  var cursor = 0;\n  haystack.reduce(function (value, nextValue, nextIndex) {\n    if (!areEqualFn(value, nextValue)) {\n      if (filterFn(value)) {\n        foundFn(cursor, nextIndex);\n      }\n\n      cursor = nextIndex;\n    }\n\n    return nextValue;\n  });\n  filterFn(haystack.last()) && foundFn(cursor, haystack.count());\n}\n\nmodule.exports = findRangesImmutable;","\"use strict\";\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\nfunction isHTMLElement(node) {\n  if (!node || !node.ownerDocument) {\n    return false;\n  }\n\n  if (!node.ownerDocument.defaultView) {\n    return node instanceof HTMLElement;\n  }\n\n  if (node instanceof node.ownerDocument.defaultView.HTMLElement) {\n    return true;\n  }\n\n  return false;\n}\n\nmodule.exports = isHTMLElement;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar gkx = require(\"./gkx\");\n\nvar experimentalTreeDataSupport = gkx('draft_tree_data_support');\n/**\n * For a collapsed selection state, remove text based on the specified strategy.\n * If the selection state is not collapsed, remove the entire selected range.\n */\n\nfunction removeTextWithStrategy(editorState, strategy, direction) {\n  var selection = editorState.getSelection();\n  var content = editorState.getCurrentContent();\n  var target = selection;\n  var anchorKey = selection.getAnchorKey();\n  var focusKey = selection.getFocusKey();\n  var anchorBlock = content.getBlockForKey(anchorKey);\n\n  if (experimentalTreeDataSupport) {\n    if (direction === 'forward') {\n      if (anchorKey !== focusKey) {\n        // For now we ignore forward delete across blocks,\n        // if there is demand for this we will implement it.\n        return content;\n      }\n    }\n  }\n\n  if (selection.isCollapsed()) {\n    if (direction === 'forward') {\n      if (editorState.isSelectionAtEndOfContent()) {\n        return content;\n      }\n\n      if (experimentalTreeDataSupport) {\n        var isAtEndOfBlock = selection.getAnchorOffset() === content.getBlockForKey(anchorKey).getLength();\n\n        if (isAtEndOfBlock) {\n          var anchorBlockSibling = content.getBlockForKey(anchorBlock.nextSibling);\n\n          if (!anchorBlockSibling || anchorBlockSibling.getLength() === 0) {\n            // For now we ignore forward delete at the end of a block,\n            // if there is demand for this we will implement it.\n            return content;\n          }\n        }\n      }\n    } else if (editorState.isSelectionAtStartOfContent()) {\n      return content;\n    }\n\n    target = strategy(editorState);\n\n    if (target === selection) {\n      return content;\n    }\n  }\n\n  return DraftModifier.removeRange(content, target, direction);\n}\n\nmodule.exports = removeTextWithStrategy;","import { includes } from 'ramda';\nimport type { Key } from './types';\n\nconst eventHasKey = (key: Key) => (e: React.KeyboardEvent): boolean => e?.key === key;\n\nconst eventKeyIn = (keys: Key[]) => (e: React.KeyboardEvent): boolean => includes(e?.key, keys);\n\nexport const isEnterKey = eventHasKey('Enter');\n\nexport const isEscapeKey = eventKeyIn(['Esc', 'Escape']);\n\nexport const isLeftKey = eventKeyIn(['Left', 'ArrowLeft']);\n\nexport const isRightKey = eventKeyIn(['Right', 'ArrowRight']);\n\nexport const isTabKey = eventHasKey('Tab');\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar randomizeBlockMapKeys = require(\"./randomizeBlockMapKeys\");\n\nvar removeEntitiesAtEdges = require(\"./removeEntitiesAtEdges\");\n\nvar getContentStateFragment = function getContentStateFragment(contentState, selectionState) {\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset(); // Edge entities should be stripped to ensure that we don't preserve\n  // invalid partial entities when the fragment is reused. We do, however,\n  // preserve entities that are entirely within the selection range.\n\n  var contentWithoutEdgeEntities = removeEntitiesAtEdges(contentState, selectionState);\n  var blockMap = contentWithoutEdgeEntities.getBlockMap();\n  var blockKeys = blockMap.keySeq();\n  var startIndex = blockKeys.indexOf(startKey);\n  var endIndex = blockKeys.indexOf(endKey) + 1;\n  return randomizeBlockMapKeys(blockMap.slice(startIndex, endIndex).map(function (block, blockKey) {\n    var text = block.getText();\n    var chars = block.getCharacterList();\n\n    if (startKey === endKey) {\n      return block.merge({\n        text: text.slice(startOffset, endOffset),\n        characterList: chars.slice(startOffset, endOffset)\n      });\n    }\n\n    if (blockKey === startKey) {\n      return block.merge({\n        text: text.slice(startOffset),\n        characterList: chars.slice(startOffset)\n      });\n    }\n\n    if (blockKey === endKey) {\n      return block.merge({\n        text: text.slice(0, endOffset),\n        characterList: chars.slice(0, endOffset)\n      });\n    }\n\n    return block;\n  }));\n};\n\nmodule.exports = getContentStateFragment;","\"use strict\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\nvar DraftEntityInstance = require(\"./DraftEntityInstance\");\n\nvar Immutable = require(\"immutable\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar uuid = require(\"./uuid\");\n\nvar Map = Immutable.Map;\nvar instances = Map();\nvar instanceKey = uuid();\n/**\n * Temporary utility for generating the warnings\n */\n\nfunction logWarning(oldMethodCall, newMethodCall) {\n  console.warn('WARNING: ' + oldMethodCall + ' will be deprecated soon!\\nPlease use \"' + newMethodCall + '\" instead.');\n}\n\n/**\n * A \"document entity\" is an object containing metadata associated with a\n * piece of text in a ContentBlock.\n *\n * For example, a `link` entity might include a `uri` property. When a\n * ContentBlock is rendered in the browser, text that refers to that link\n * entity may be rendered as an anchor, with the `uri` as the href value.\n *\n * In a ContentBlock, every position in the text may correspond to zero\n * or one entities. This correspondence is tracked using a key string,\n * generated via DraftEntity.create() and used to obtain entity metadata\n * via DraftEntity.get().\n */\nvar DraftEntity = {\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.getLastCreatedEntityKey' instead.\n   * ---\n   * Get the random key string from whatever entity was last created.\n   * We need this to support the new API, as part of transitioning to put Entity\n   * storage in contentState.\n   */\n  getLastCreatedEntityKey: function getLastCreatedEntityKey() {\n    logWarning('DraftEntity.getLastCreatedEntityKey', 'contentState.getLastCreatedEntityKey');\n    return DraftEntity.__getLastCreatedEntityKey();\n  },\n\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.createEntity' instead.\n   * ---\n   * Create a DraftEntityInstance and store it for later retrieval.\n   *\n   * A random key string will be generated and returned. This key may\n   * be used to track the entity's usage in a ContentBlock, and for\n   * retrieving data about the entity at render time.\n   */\n  create: function create(type, mutability, data) {\n    logWarning('DraftEntity.create', 'contentState.createEntity');\n    return DraftEntity.__create(type, mutability, data);\n  },\n\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.addEntity' instead.\n   * ---\n   * Add an existing DraftEntityInstance to the DraftEntity map. This is\n   * useful when restoring instances from the server.\n   */\n  add: function add(instance) {\n    logWarning('DraftEntity.add', 'contentState.addEntity');\n    return DraftEntity.__add(instance);\n  },\n\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.getEntity' instead.\n   * ---\n   * Retrieve the entity corresponding to the supplied key string.\n   */\n  get: function get(key) {\n    logWarning('DraftEntity.get', 'contentState.getEntity');\n    return DraftEntity.__get(key);\n  },\n\n  /**\n   * Get all the entities in the content state.\n   */\n  __getAll: function __getAll() {\n    return instances;\n  },\n\n  /**\n   * Load the entity map with the given set of entities.\n   */\n  __loadWithEntities: function __loadWithEntities(entities) {\n    instances = entities;\n    instanceKey = uuid();\n  },\n\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.mergeEntityData' instead.\n   * ---\n   * Entity instances are immutable. If you need to update the data for an\n   * instance, this method will merge your data updates and return a new\n   * instance.\n   */\n  mergeData: function mergeData(key, toMerge) {\n    logWarning('DraftEntity.mergeData', 'contentState.mergeEntityData');\n    return DraftEntity.__mergeData(key, toMerge);\n  },\n\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.replaceEntityData' instead.\n   * ---\n   * Completely replace the data for a given instance.\n   */\n  replaceData: function replaceData(key, newData) {\n    logWarning('DraftEntity.replaceData', 'contentState.replaceEntityData');\n    return DraftEntity.__replaceData(key, newData);\n  },\n  // ***********************************WARNING******************************\n  // --- the above public API will be deprecated in the next version of Draft!\n  // The methods below this line are private - don't call them directly.\n\n  /**\n   * Get the random key string from whatever entity was last created.\n   * We need this to support the new API, as part of transitioning to put Entity\n   * storage in contentState.\n   */\n  __getLastCreatedEntityKey: function __getLastCreatedEntityKey() {\n    return instanceKey;\n  },\n\n  /**\n   * Create a DraftEntityInstance and store it for later retrieval.\n   *\n   * A random key string will be generated and returned. This key may\n   * be used to track the entity's usage in a ContentBlock, and for\n   * retrieving data about the entity at render time.\n   */\n  __create: function __create(type, mutability, data) {\n    return DraftEntity.__add(new DraftEntityInstance({\n      type: type,\n      mutability: mutability,\n      data: data || {}\n    }));\n  },\n\n  /**\n   * Add an existing DraftEntityInstance to the DraftEntity map. This is\n   * useful when restoring instances from the server.\n   */\n  __add: function __add(instance) {\n    instanceKey = uuid();\n    instances = instances.set(instanceKey, instance);\n    return instanceKey;\n  },\n\n  /**\n   * Retrieve the entity corresponding to the supplied key string.\n   */\n  __get: function __get(key) {\n    var instance = instances.get(key);\n    !!!instance ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unknown DraftEntity key: %s.', key) : invariant(false) : void 0;\n    return instance;\n  },\n\n  /**\n   * Entity instances are immutable. If you need to update the data for an\n   * instance, this method will merge your data updates and return a new\n   * instance.\n   */\n  __mergeData: function __mergeData(key, toMerge) {\n    var instance = DraftEntity.__get(key);\n\n    var newData = _objectSpread({}, instance.getData(), toMerge);\n\n    var newInstance = instance.set('data', newData);\n    instances = instances.set(key, newInstance);\n    return newInstance;\n  },\n\n  /**\n   * Completely replace the data for a given instance.\n   */\n  __replaceData: function __replaceData(key, newData) {\n    var instance = DraftEntity.__get(key);\n\n    var newInstance = instance.set('data', newData);\n    instances = instances.set(key, newInstance);\n    return newInstance;\n  }\n};\nmodule.exports = DraftEntity;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar Immutable = require(\"immutable\");\n\nvar Record = Immutable.Record;\nvar defaultRecord = {\n  anchorKey: '',\n  anchorOffset: 0,\n  focusKey: '',\n  focusOffset: 0,\n  isBackward: false,\n  hasFocus: false\n};\n/* $FlowFixMe[unclear-type] This comment suppresses an error found when\n * automatically adding a type annotation with the codemod Komodo/Annotate_\n * exports. To see the error delete this comment and run Flow. */\n\nvar SelectionStateRecord = Record(defaultRecord);\n\nvar SelectionState = /*#__PURE__*/function (_SelectionStateRecord) {\n  _inheritsLoose(SelectionState, _SelectionStateRecord);\n\n  function SelectionState() {\n    return _SelectionStateRecord.apply(this, arguments) || this;\n  }\n\n  var _proto = SelectionState.prototype;\n\n  _proto.serialize = function serialize() {\n    return 'Anchor: ' + this.getAnchorKey() + ':' + this.getAnchorOffset() + ', ' + 'Focus: ' + this.getFocusKey() + ':' + this.getFocusOffset() + ', ' + 'Is Backward: ' + String(this.getIsBackward()) + ', ' + 'Has Focus: ' + String(this.getHasFocus());\n  };\n\n  _proto.getAnchorKey = function getAnchorKey() {\n    return this.get('anchorKey');\n  };\n\n  _proto.getAnchorOffset = function getAnchorOffset() {\n    return this.get('anchorOffset');\n  };\n\n  _proto.getFocusKey = function getFocusKey() {\n    return this.get('focusKey');\n  };\n\n  _proto.getFocusOffset = function getFocusOffset() {\n    return this.get('focusOffset');\n  };\n\n  _proto.getIsBackward = function getIsBackward() {\n    return this.get('isBackward');\n  };\n\n  _proto.getHasFocus = function getHasFocus() {\n    return this.get('hasFocus');\n  }\n  /**\n   * Return whether the specified range overlaps with an edge of the\n   * SelectionState.\n   */\n  ;\n\n  _proto.hasEdgeWithin = function hasEdgeWithin(blockKey, start, end) {\n    var anchorKey = this.getAnchorKey();\n    var focusKey = this.getFocusKey();\n\n    if (anchorKey === focusKey && anchorKey === blockKey) {\n      var selectionStart = this.getStartOffset();\n      var selectionEnd = this.getEndOffset();\n      return start <= selectionStart && selectionStart <= end || // selectionStart is between start and end, or\n      start <= selectionEnd && selectionEnd <= end // selectionEnd is between start and end\n      ;\n    }\n\n    if (blockKey !== anchorKey && blockKey !== focusKey) {\n      return false;\n    }\n\n    var offsetToCheck = blockKey === anchorKey ? this.getAnchorOffset() : this.getFocusOffset();\n    return start <= offsetToCheck && end >= offsetToCheck;\n  };\n\n  _proto.isCollapsed = function isCollapsed() {\n    return this.getAnchorKey() === this.getFocusKey() && this.getAnchorOffset() === this.getFocusOffset();\n  };\n\n  _proto.getStartKey = function getStartKey() {\n    return this.getIsBackward() ? this.getFocusKey() : this.getAnchorKey();\n  };\n\n  _proto.getStartOffset = function getStartOffset() {\n    return this.getIsBackward() ? this.getFocusOffset() : this.getAnchorOffset();\n  };\n\n  _proto.getEndKey = function getEndKey() {\n    return this.getIsBackward() ? this.getAnchorKey() : this.getFocusKey();\n  };\n\n  _proto.getEndOffset = function getEndOffset() {\n    return this.getIsBackward() ? this.getAnchorOffset() : this.getFocusOffset();\n  };\n\n  SelectionState.createEmpty = function createEmpty(key) {\n    return new SelectionState({\n      anchorKey: key,\n      anchorOffset: 0,\n      focusKey: key,\n      focusOffset: 0,\n      isBackward: false,\n      hasFocus: false\n    });\n  };\n\n  return SelectionState;\n}(SelectionStateRecord);\n\nmodule.exports = SelectionState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n * \n */\n\n/**\n * Constants to represent text directionality\n *\n * Also defines a *global* direciton, to be used in bidi algorithms as a\n * default fallback direciton, when no better direction is found or provided.\n *\n * NOTE: Use `setGlobalDir()`, or update `initGlobalDir()`, to set the initial\n *       global direction value based on the application.\n *\n * Part of the implementation of Unicode Bidirectional Algorithm (UBA)\n * Unicode Standard Annex #9 (UAX9)\n * http://www.unicode.org/reports/tr9/\n */\n'use strict';\n\nvar invariant = require(\"./invariant\");\n\nvar NEUTRAL = 'NEUTRAL'; // No strong direction\n\nvar LTR = 'LTR'; // Left-to-Right direction\n\nvar RTL = 'RTL'; // Right-to-Left direction\n\nvar globalDir = null; // == Helpers ==\n\n/**\n * Check if a directionality value is a Strong one\n */\n\nfunction isStrong(dir) {\n  return dir === LTR || dir === RTL;\n}\n/**\n * Get string value to be used for `dir` HTML attribute or `direction` CSS\n * property.\n */\n\n\nfunction getHTMLDir(dir) {\n  !isStrong(dir) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`dir` must be a strong direction to be converted to HTML Direction') : invariant(false) : void 0;\n  return dir === LTR ? 'ltr' : 'rtl';\n}\n/**\n * Get string value to be used for `dir` HTML attribute or `direction` CSS\n * property, but returns null if `dir` has same value as `otherDir`.\n * `null`.\n */\n\n\nfunction getHTMLDirIfDifferent(dir, otherDir) {\n  !isStrong(dir) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`dir` must be a strong direction to be converted to HTML Direction') : invariant(false) : void 0;\n  !isStrong(otherDir) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`otherDir` must be a strong direction to be converted to HTML Direction') : invariant(false) : void 0;\n  return dir === otherDir ? null : getHTMLDir(dir);\n} // == Global Direction ==\n\n/**\n * Set the global direction.\n */\n\n\nfunction setGlobalDir(dir) {\n  globalDir = dir;\n}\n/**\n * Initialize the global direction\n */\n\n\nfunction initGlobalDir() {\n  setGlobalDir(LTR);\n}\n/**\n * Get the global direction\n */\n\n\nfunction getGlobalDir() {\n  if (!globalDir) {\n    this.initGlobalDir();\n  }\n\n  !globalDir ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Global direction not set.') : invariant(false) : void 0;\n  return globalDir;\n}\n\nvar UnicodeBidiDirection = {\n  // Values\n  NEUTRAL: NEUTRAL,\n  LTR: LTR,\n  RTL: RTL,\n  // Helpers\n  isStrong: isStrong,\n  getHTMLDir: getHTMLDir,\n  getHTMLDirIfDifferent: getHTMLDirIfDifferent,\n  // Global Direction\n  setGlobalDir: setGlobalDir,\n  initGlobalDir: initGlobalDir,\n  getGlobalDir: getGlobalDir\n};\nmodule.exports = UnicodeBidiDirection;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar getCorrectDocumentFromNode = require(\"./getCorrectDocumentFromNode\");\n\nvar getSelectionOffsetKeyForNode = require(\"./getSelectionOffsetKeyForNode\");\n/**\n * Get the key from the node's nearest offset-aware ancestor.\n */\n\n\nfunction findAncestorOffsetKey(node) {\n  var searchNode = node;\n\n  while (searchNode && searchNode !== getCorrectDocumentFromNode(node).documentElement) {\n    var key = getSelectionOffsetKeyForNode(searchNode);\n\n    if (key != null) {\n      return key;\n    }\n\n    searchNode = searchNode.parentNode;\n  }\n\n  return null;\n}\n\nmodule.exports = findAncestorOffsetKey;","\"use strict\";\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\nfunction getCorrectDocumentFromNode(node) {\n  if (!node || !node.ownerDocument) {\n    return document;\n  }\n\n  return node.ownerDocument;\n}\n\nmodule.exports = getCorrectDocumentFromNode;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nmodule.exports = {\n  BACKSPACE: 8,\n  TAB: 9,\n  RETURN: 13,\n  ALT: 18,\n  ESC: 27,\n  SPACE: 32,\n  PAGE_UP: 33,\n  PAGE_DOWN: 34,\n  END: 35,\n  HOME: 36,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  DELETE: 46,\n  COMMA: 188,\n  PERIOD: 190,\n  A: 65,\n  Z: 90,\n  ZERO: 48,\n  NUMPAD_0: 96,\n  NUMPAD_9: 105\n};","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\nvar getStyleProperty = require(\"./getStyleProperty\");\n/**\n * @param {DOMNode} element [description]\n * @param {string} name Overflow style property name.\n * @return {boolean} True if the supplied ndoe is scrollable.\n */\n\n\nfunction _isNodeScrollable(element, name) {\n  var overflow = Style.get(element, name);\n  return overflow === 'auto' || overflow === 'scroll';\n}\n/**\n * Utilities for querying and mutating style properties.\n */\n\n\nvar Style = {\n  /**\n   * Gets the style property for the supplied node. This will return either the\n   * computed style, if available, or the declared style.\n   *\n   * @param {DOMNode} node\n   * @param {string} name Style property name.\n   * @return {?string} Style property value.\n   */\n  get: getStyleProperty,\n\n  /**\n   * Determines the nearest ancestor of a node that is scrollable.\n   *\n   * NOTE: This can be expensive if used repeatedly or on a node nested deeply.\n   *\n   * @param {?DOMNode} node Node from which to start searching.\n   * @return {?DOMWindow|DOMElement} Scroll parent of the supplied node.\n   */\n  getScrollParent: function getScrollParent(node) {\n    if (!node) {\n      return null;\n    }\n\n    var ownerDocument = node.ownerDocument;\n\n    while (node && node !== ownerDocument.body) {\n      if (_isNodeScrollable(node, 'overflow') || _isNodeScrollable(node, 'overflowY') || _isNodeScrollable(node, 'overflowX')) {\n        return node;\n      }\n\n      node = node.parentNode;\n    }\n\n    return ownerDocument.defaultView || ownerDocument.parentWindow;\n  }\n};\nmodule.exports = Style;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n'use strict';\n\nvar getDocumentScrollElement = require(\"./getDocumentScrollElement\");\n\nvar getUnboundedScrollPosition = require(\"./getUnboundedScrollPosition\");\n/**\n * Gets the scroll position of the supplied element or window.\n *\n * The return values are bounded. This means that if the scroll position is\n * negative or exceeds the element boundaries (which is possible using inertial\n * scrolling), you will get zero or the maximum scroll position, respectively.\n *\n * If you need the unbound scroll position, use `getUnboundedScrollPosition`.\n *\n * @param {DOMWindow|DOMElement} scrollable\n * @return {object} Map with `x` and `y` keys.\n */\n\n\nfunction getScrollPosition(scrollable) {\n  var documentScrollElement = getDocumentScrollElement(scrollable.ownerDocument || scrollable.document);\n\n  if (scrollable.Window && scrollable instanceof scrollable.Window) {\n    scrollable = documentScrollElement;\n  }\n\n  var scrollPosition = getUnboundedScrollPosition(scrollable);\n  var viewport = scrollable === documentScrollElement ? scrollable.ownerDocument.documentElement : scrollable;\n  var xMax = scrollable.scrollWidth - viewport.clientWidth;\n  var yMax = scrollable.scrollHeight - viewport.clientHeight;\n  scrollPosition.x = Math.max(0, Math.min(scrollPosition.x, xMax));\n  scrollPosition.y = Math.max(0, Math.min(scrollPosition.y, yMax));\n  return scrollPosition;\n}\n\nmodule.exports = getScrollPosition;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\n/**\n * Utility method for determining whether or not the value returned\n * from a handler indicates that it was handled.\n */\nfunction isEventHandled(value) {\n  return value === 'handled' || value === true;\n}\n\nmodule.exports = isEventHandled;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-dom-server.browser.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom-server.browser.development.js');\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _default = function _default(r1, r2) {\n  if (r1.offset === r2.offset) {\n    return r2.length - r1.length;\n  }\n\n  return r1.offset - r2.offset;\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = splitReactElement;\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _server = _interopRequireDefault(require(\"react-dom/server\"));\n\n// see http://w3c.github.io/html/syntax.html#writing-html-documents-elements\nvar VOID_TAGS = ['area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'link', 'meta', 'param', 'source', 'track', 'wbr'];\n\nfunction splitReactElement(element) {\n  if (VOID_TAGS.indexOf(element.type) !== -1) {\n    return _server[\"default\"].renderToStaticMarkup(element);\n  }\n\n  var tags = _server[\"default\"].renderToStaticMarkup(_react[\"default\"].cloneElement(element, {}, '\\r')).split('\\r');\n\n  (0, _invariant[\"default\"])(tags.length > 1, \"convertToHTML: Element of type \".concat(element.type, \" must render children\"));\n  (0, _invariant[\"default\"])(tags.length < 3, \"convertToHTML: Element of type \".concat(element.type, \" cannot use carriage return character\"));\n  return {\n    start: tags[0],\n    end: tags[1]\n  };\n}","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var _curry1 =\n/*#__PURE__*/\nrequire(\"./internal/_curry1\");\n\nvar _has =\n/*#__PURE__*/\nrequire(\"./internal/_has\");\n\nvar _isArguments =\n/*#__PURE__*/\nrequire(\"./internal/_isArguments\"); // cover IE < 9 keys issues\n\n\nvar hasEnumBug = !\n/*#__PURE__*/\n{\n  toString: null\n}.propertyIsEnumerable('toString');\nvar nonEnumerableProps = ['constructor', 'valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString']; // Safari bug\n\nvar hasArgsEnumBug =\n/*#__PURE__*/\nfunction () {\n  'use strict';\n\n  return arguments.propertyIsEnumerable('length');\n}();\n\nvar contains = function contains(list, item) {\n  var idx = 0;\n\n  while (idx < list.length) {\n    if (list[idx] === item) {\n      return true;\n    }\n\n    idx += 1;\n  }\n\n  return false;\n};\n/**\n * Returns a list containing the names of all the enumerable own properties of\n * the supplied object.\n * Note that the order of the output array is not guaranteed to be consistent\n * across different JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> [k]\n * @param {Object} obj The object to extract properties from\n * @return {Array} An array of the object's own properties.\n * @see R.keysIn, R.values\n * @example\n *\n *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']\n */\n\n\nvar keys = typeof Object.keys === 'function' && !hasArgsEnumBug ?\n/*#__PURE__*/\n_curry1(function keys(obj) {\n  return Object(obj) !== obj ? [] : Object.keys(obj);\n}) :\n/*#__PURE__*/\n_curry1(function keys(obj) {\n  if (Object(obj) !== obj) {\n    return [];\n  }\n\n  var prop, nIdx;\n  var ks = [];\n\n  var checkArgsLength = hasArgsEnumBug && _isArguments(obj);\n\n  for (prop in obj) {\n    if (_has(prop, obj) && (!checkArgsLength || prop !== 'length')) {\n      ks[ks.length] = prop;\n    }\n  }\n\n  if (hasEnumBug) {\n    nIdx = nonEnumerableProps.length - 1;\n\n    while (nIdx >= 0) {\n      prop = nonEnumerableProps[nIdx];\n\n      if (_has(prop, obj) && !contains(ks, prop)) {\n        ks[ks.length] = prop;\n      }\n\n      nIdx -= 1;\n    }\n  }\n\n  return ks;\n});\nmodule.exports = keys;","/**\n *  Copyright (c) 2014-2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  global.Immutable = factory();\n}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n      return isIterable(value) ? value : Seq(value);\n    }\n\n\n  createClass(KeyedIterable, Iterable);\n    function KeyedIterable(value) {\n      return isKeyed(value) ? value : KeyedSeq(value);\n    }\n\n\n  createClass(IndexedIterable, Iterable);\n    function IndexedIterable(value) {\n      return isIndexed(value) ? value : IndexedSeq(value);\n    }\n\n\n  createClass(SetIterable, Iterable);\n    function SetIterable(value) {\n      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n    }\n\n\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n\n\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  // Used for setting prototype methods that IE8 chokes on.\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  var CHANGE_LENGTH = { value: false };\n  var DID_ALTER = { value: false };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  // http://jsperf.com/copy-array-inline\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^32−1.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || (size !== undefined && begin <= -size)) &&\n      (end === undefined || (size !== undefined && end >= size));\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ?\n      defaultIndex :\n      index < 0 ?\n        Math.max(0, size + index) :\n        size === undefined ?\n          index :\n          Math.min(size, index);\n  }\n\n  /* global Symbol */\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n\n  function Iterator(next) {\n      this.next = next;\n    }\n\n    Iterator.prototype.toString = function() {\n      return '[Iterator]';\n    };\n\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect =\n  Iterator.prototype.toSource = function () { return this.toString(); }\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {\n      value: value, done: false\n    });\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (\n      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]\n    );\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n    function Seq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        isIterable(value) ? value.toSeq() : seqFromValue(value);\n    }\n\n    Seq.of = function(/*...values*/) {\n      return Seq(arguments);\n    };\n\n    Seq.prototype.toSeq = function() {\n      return this;\n    };\n\n    Seq.prototype.toString = function() {\n      return this.__toString('Seq {', '}');\n    };\n\n    Seq.prototype.cacheResult = function() {\n      if (!this._cache && this.__iterateUncached) {\n        this._cache = this.entrySeq().toArray();\n        this.size = this._cache.length;\n      }\n      return this;\n    };\n\n    // abstract __iterateUncached(fn, reverse)\n\n    Seq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, true);\n    };\n\n    // abstract __iteratorUncached(type, reverse)\n\n    Seq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, true);\n    };\n\n\n\n  createClass(KeyedSeq, Seq);\n    function KeyedSeq(value) {\n      return value === null || value === undefined ?\n        emptySequence().toKeyedSeq() :\n        isIterable(value) ?\n          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :\n          keyedSeqFromValue(value);\n    }\n\n    KeyedSeq.prototype.toKeyedSeq = function() {\n      return this;\n    };\n\n\n\n  createClass(IndexedSeq, Seq);\n    function IndexedSeq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n    }\n\n    IndexedSeq.of = function(/*...values*/) {\n      return IndexedSeq(arguments);\n    };\n\n    IndexedSeq.prototype.toIndexedSeq = function() {\n      return this;\n    };\n\n    IndexedSeq.prototype.toString = function() {\n      return this.__toString('Seq [', ']');\n    };\n\n    IndexedSeq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, false);\n    };\n\n    IndexedSeq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, false);\n    };\n\n\n\n  createClass(SetSeq, Seq);\n    function SetSeq(value) {\n      return (\n        value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value\n      ).toSetSeq();\n    }\n\n    SetSeq.of = function(/*...values*/) {\n      return SetSeq(arguments);\n    };\n\n    SetSeq.prototype.toSetSeq = function() {\n      return this;\n    };\n\n\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\n\n\n  createClass(ArraySeq, IndexedSeq);\n    function ArraySeq(array) {\n      this._array = array;\n      this.size = array.length;\n    }\n\n    ArraySeq.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n    };\n\n    ArraySeq.prototype.__iterate = function(fn, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ArraySeq.prototype.__iterator = function(type, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}\n      );\n    };\n\n\n\n  createClass(ObjectSeq, KeyedSeq);\n    function ObjectSeq(object) {\n      var keys = Object.keys(object);\n      this._object = object;\n      this._keys = keys;\n      this.size = keys.length;\n    }\n\n    ObjectSeq.prototype.get = function(key, notSetValue) {\n      if (notSetValue !== undefined && !this.has(key)) {\n        return notSetValue;\n      }\n      return this._object[key];\n    };\n\n    ObjectSeq.prototype.has = function(key) {\n      return this._object.hasOwnProperty(key);\n    };\n\n    ObjectSeq.prototype.__iterate = function(fn, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        if (fn(object[key], key, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ObjectSeq.prototype.__iterator = function(type, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, key, object[key]);\n      });\n    };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(IterableSeq, IndexedSeq);\n    function IterableSeq(iterable) {\n      this._iterable = iterable;\n      this.size = iterable.length || iterable.size;\n    }\n\n    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      var iterations = 0;\n      if (isIterator(iterator)) {\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (fn(step.value, iterations++, this) === false) {\n            break;\n          }\n        }\n      }\n      return iterations;\n    };\n\n    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      if (!isIterator(iterator)) {\n        return new Iterator(iteratorDone);\n      }\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step : iteratorValue(type, iterations++, step.value);\n      });\n    };\n\n\n\n  createClass(IteratorSeq, IndexedSeq);\n    function IteratorSeq(iterator) {\n      this._iterator = iterator;\n      this._iteratorCache = [];\n    }\n\n    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      while (iterations < cache.length) {\n        if (fn(cache[iterations], iterations++, this) === false) {\n          return iterations;\n        }\n      }\n      var step;\n      while (!(step = iterator.next()).done) {\n        var val = step.value;\n        cache[iterations] = val;\n        if (fn(val, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n\n    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      return new Iterator(function()  {\n        if (iterations >= cache.length) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          cache[iterations] = step.value;\n        }\n        return iteratorValue(type, iterations, cache[iterations++]);\n      });\n    };\n\n\n\n\n  // # pragma Helper functions\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq =\n      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :\n      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :\n      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :\n      typeof value === 'object' ? new ObjectSeq(value) :\n      undefined;\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of [k, v] entries, '+\n        'or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) ||\n      (typeof value === 'object' && new ObjectSeq(value));\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values, or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return (\n      isArrayLike(value) ? new ArraySeq(value) :\n      isIterator(value) ? new IteratorSeq(value) :\n      hasIterator(value) ? new IterableSeq(value) :\n      undefined\n    );\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    }\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ?\n      fromJSWith(converter, json, '', {'': json}) :\n      fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n    return json;\n  }\n\n  function isPlainObj(value) {\n    return value && (value.constructor === Object || value.constructor === undefined);\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (typeof valueA.valueOf === 'function' &&\n        typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    if (typeof valueA.equals === 'function' &&\n        typeof valueB.equals === 'function' &&\n        valueA.equals(valueB)) {\n      return true;\n    }\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (\n      !isIterable(b) ||\n      a.size !== undefined && b.size !== undefined && a.size !== b.size ||\n      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||\n      isKeyed(a) !== isKeyed(b) ||\n      isIndexed(a) !== isIndexed(b) ||\n      isOrdered(a) !== isOrdered(b)\n    ) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function(v, k)  {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function(v, k)  {\n      if (notAssociative ? !a.has(v) :\n          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n    function Repeat(value, times) {\n      if (!(this instanceof Repeat)) {\n        return new Repeat(value, times);\n      }\n      this._value = value;\n      this.size = times === undefined ? Infinity : Math.max(0, times);\n      if (this.size === 0) {\n        if (EMPTY_REPEAT) {\n          return EMPTY_REPEAT;\n        }\n        EMPTY_REPEAT = this;\n      }\n    }\n\n    Repeat.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Repeat []';\n      }\n      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n    };\n\n    Repeat.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._value : notSetValue;\n    };\n\n    Repeat.prototype.includes = function(searchValue) {\n      return is(this._value, searchValue);\n    };\n\n    Repeat.prototype.slice = function(begin, end) {\n      var size = this.size;\n      return wholeSlice(begin, end, size) ? this :\n        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n    };\n\n    Repeat.prototype.reverse = function() {\n      return this;\n    };\n\n    Repeat.prototype.indexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return 0;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.lastIndexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return this.size;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.__iterate = function(fn, reverse) {\n      for (var ii = 0; ii < this.size; ii++) {\n        if (fn(this._value, ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}\n      );\n    };\n\n    Repeat.prototype.equals = function(other) {\n      return other instanceof Repeat ?\n        is(this._value, other._value) :\n        deepEqual(other);\n    };\n\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n    function Range(start, end, step) {\n      if (!(this instanceof Range)) {\n        return new Range(start, end, step);\n      }\n      invariant(step !== 0, 'Cannot step a Range by 0');\n      start = start || 0;\n      if (end === undefined) {\n        end = Infinity;\n      }\n      step = step === undefined ? 1 : Math.abs(step);\n      if (end < start) {\n        step = -step;\n      }\n      this._start = start;\n      this._end = end;\n      this._step = step;\n      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n      if (this.size === 0) {\n        if (EMPTY_RANGE) {\n          return EMPTY_RANGE;\n        }\n        EMPTY_RANGE = this;\n      }\n    }\n\n    Range.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Range []';\n      }\n      return 'Range [ ' +\n        this._start + '...' + this._end +\n        (this._step > 1 ? ' by ' + this._step : '') +\n      ' ]';\n    };\n\n    Range.prototype.get = function(index, notSetValue) {\n      return this.has(index) ?\n        this._start + wrapIndex(this, index) * this._step :\n        notSetValue;\n    };\n\n    Range.prototype.includes = function(searchValue) {\n      var possibleIndex = (searchValue - this._start) / this._step;\n      return possibleIndex >= 0 &&\n        possibleIndex < this.size &&\n        possibleIndex === Math.floor(possibleIndex);\n    };\n\n    Range.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      begin = resolveBegin(begin, this.size);\n      end = resolveEnd(end, this.size);\n      if (end <= begin) {\n        return new Range(0, 0);\n      }\n      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n    };\n\n    Range.prototype.indexOf = function(searchValue) {\n      var offsetValue = searchValue - this._start;\n      if (offsetValue % this._step === 0) {\n        var index = offsetValue / this._step;\n        if (index >= 0 && index < this.size) {\n          return index\n        }\n      }\n      return -1;\n    };\n\n    Range.prototype.lastIndexOf = function(searchValue) {\n      return this.indexOf(searchValue);\n    };\n\n    Range.prototype.__iterate = function(fn, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(value, ii, this) === false) {\n          return ii + 1;\n        }\n        value += reverse ? -step : step;\n      }\n      return ii;\n    };\n\n    Range.prototype.__iterator = function(type, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      var ii = 0;\n      return new Iterator(function()  {\n        var v = value;\n        value += reverse ? -step : step;\n        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n      });\n    };\n\n    Range.prototype.equals = function(other) {\n      return other instanceof Range ?\n        this._start === other._start &&\n        this._end === other._end &&\n        this._step === other._step :\n        deepEqual(this, other);\n    };\n\n\n  var EMPTY_RANGE;\n\n  createClass(Collection, Iterable);\n    function Collection() {\n      throw TypeError('Abstract');\n    }\n\n\n  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);function SetCollection() {}\n\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var imul =\n    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?\n    Math.imul :\n    function imul(a, b) {\n      a = a | 0; // int\n      b = b | 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int\n    };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n    if (o === true) {\n      return 1;\n    }\n    var type = typeof o;\n    if (type === 'number') {\n      var h = o | 0;\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n      return smi(h);\n    }\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n    if (hash === undefined) {\n      hash = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n    return hash;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined &&\n               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function() {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = (function() {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }());\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1: // Element\n          return node.uniqueID;\n        case 9: // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(\n      size !== Infinity,\n      'Cannot perform this action with an infinite size.'\n    );\n  }\n\n  createClass(Map, KeyedCollection);\n\n    // @pragma Construction\n\n    function Map(value) {\n      return value === null || value === undefined ? emptyMap() :\n        isMap(value) && !isOrdered(value) ? value :\n        emptyMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    Map.prototype.toString = function() {\n      return this.__toString('Map {', '}');\n    };\n\n    // @pragma Access\n\n    Map.prototype.get = function(k, notSetValue) {\n      return this._root ?\n        this._root.get(0, undefined, k, notSetValue) :\n        notSetValue;\n    };\n\n    // @pragma Modification\n\n    Map.prototype.set = function(k, v) {\n      return updateMap(this, k, v);\n    };\n\n    Map.prototype.setIn = function(keyPath, v) {\n      return this.updateIn(keyPath, NOT_SET, function()  {return v});\n    };\n\n    Map.prototype.remove = function(k) {\n      return updateMap(this, k, NOT_SET);\n    };\n\n    Map.prototype.deleteIn = function(keyPath) {\n      return this.updateIn(keyPath, function()  {return NOT_SET});\n    };\n\n    Map.prototype.update = function(k, notSetValue, updater) {\n      return arguments.length === 1 ?\n        k(this) :\n        this.updateIn([k], notSetValue, updater);\n    };\n\n    Map.prototype.updateIn = function(keyPath, notSetValue, updater) {\n      if (!updater) {\n        updater = notSetValue;\n        notSetValue = undefined;\n      }\n      var updatedValue = updateInDeepMap(\n        this,\n        forceIterator(keyPath),\n        notSetValue,\n        updater\n      );\n      return updatedValue === NOT_SET ? undefined : updatedValue;\n    };\n\n    Map.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._root = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyMap();\n    };\n\n    // @pragma Composition\n\n    Map.prototype.merge = function(/*...iters*/) {\n      return mergeIntoMapWith(this, undefined, arguments);\n    };\n\n    Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, merger, iters);\n    };\n\n    Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.merge === 'function' ?\n          m.merge.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoMapWith(this, deepMerger, arguments);\n    };\n\n    Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n    };\n\n    Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.mergeDeep === 'function' ?\n          m.mergeDeep.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator));\n    };\n\n    Map.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator, mapper));\n    };\n\n    // @pragma Mutability\n\n    Map.prototype.withMutations = function(fn) {\n      var mutable = this.asMutable();\n      fn(mutable);\n      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n    };\n\n    Map.prototype.asMutable = function() {\n      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n    };\n\n    Map.prototype.asImmutable = function() {\n      return this.__ensureOwner();\n    };\n\n    Map.prototype.wasAltered = function() {\n      return this.__altered;\n    };\n\n    Map.prototype.__iterator = function(type, reverse) {\n      return new MapIterator(this, type, reverse);\n    };\n\n    Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      this._root && this._root.iterate(function(entry ) {\n        iterations++;\n        return fn(entry[1], entry[0], this$0);\n      }, reverse);\n      return iterations;\n    };\n\n    Map.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeMap(this.size, this._root, ownerID, this.__hash);\n    };\n\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn;\n\n\n  // #pragma Trie Nodes\n\n\n\n    function ArrayMapNode(ownerID, entries) {\n      this.ownerID = ownerID;\n      this.entries = entries;\n    }\n\n    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && entries.length === 1) {\n        return; // undefined\n      }\n\n      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n        return createNodes(ownerID, entries, key, value);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new ArrayMapNode(ownerID, newEntries);\n    };\n\n\n\n\n    function BitmapIndexedNode(ownerID, bitmap, nodes) {\n      this.ownerID = ownerID;\n      this.bitmap = bitmap;\n      this.nodes = nodes;\n    }\n\n    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));\n      var bitmap = this.bitmap;\n      return (bitmap & bit) === 0 ? notSetValue :\n        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);\n    };\n\n    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var bit = 1 << keyHashFrag;\n      var bitmap = this.bitmap;\n      var exists = (bitmap & bit) !== 0;\n\n      if (!exists && value === NOT_SET) {\n        return this;\n      }\n\n      var idx = popCount(bitmap & (bit - 1));\n      var nodes = this.nodes;\n      var node = exists ? nodes[idx] : undefined;\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n      if (newNode === node) {\n        return this;\n      }\n\n      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n      }\n\n      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n        return nodes[idx ^ 1];\n      }\n\n      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n        return newNode;\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n      var newNodes = exists ? newNode ?\n        setIn(nodes, idx, newNode, isEditable) :\n        spliceOut(nodes, idx, isEditable) :\n        spliceIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.bitmap = newBitmap;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n    };\n\n\n\n\n    function HashArrayMapNode(ownerID, count, nodes) {\n      this.ownerID = ownerID;\n      this.count = count;\n      this.nodes = nodes;\n    }\n\n    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var node = this.nodes[idx];\n      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n    };\n\n    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var removed = value === NOT_SET;\n      var nodes = this.nodes;\n      var node = nodes[idx];\n\n      if (removed && !node) {\n        return this;\n      }\n\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n      if (newNode === node) {\n        return this;\n      }\n\n      var newCount = this.count;\n      if (!node) {\n        newCount++;\n      } else if (!newNode) {\n        newCount--;\n        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n          return packNodes(ownerID, nodes, newCount, idx);\n        }\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.count = newCount;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new HashArrayMapNode(ownerID, newCount, newNodes);\n    };\n\n\n\n\n    function HashCollisionNode(ownerID, keyHash, entries) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entries = entries;\n    }\n\n    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n\n      var removed = value === NOT_SET;\n\n      if (keyHash !== this.keyHash) {\n        if (removed) {\n          return this;\n        }\n        SetRef(didAlter);\n        SetRef(didChangeSize);\n        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n      }\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && len === 2) {\n        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n    };\n\n\n\n\n    function ValueNode(ownerID, keyHash, entry) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entry = entry;\n    }\n\n    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n    };\n\n    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n      var keyMatch = is(key, this.entry[0]);\n      if (keyMatch ? value === this.entry[1] : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n\n      if (removed) {\n        SetRef(didChangeSize);\n        return; // undefined\n      }\n\n      if (keyMatch) {\n        if (ownerID && ownerID === this.ownerID) {\n          this.entry[1] = value;\n          return this;\n        }\n        return new ValueNode(ownerID, this.keyHash, [key, value]);\n      }\n\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n    };\n\n\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate =\n  HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  }\n\n  BitmapIndexedNode.prototype.iterate =\n  HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  }\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  }\n\n  createClass(MapIterator, Iterator);\n\n    function MapIterator(map, type, reverse) {\n      this._type = type;\n      this._reverse = reverse;\n      this._stack = map._root && mapIteratorFrame(map._root);\n    }\n\n    MapIterator.prototype.next = function() {\n      var type = this._type;\n      var stack = this._stack;\n      while (stack) {\n        var node = stack.node;\n        var index = stack.index++;\n        var maxIndex;\n        if (node.entry) {\n          if (index === 0) {\n            return mapIteratorValue(type, node.entry);\n          }\n        } else if (node.entries) {\n          maxIndex = node.entries.length - 1;\n          if (index <= maxIndex) {\n            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n          }\n        } else {\n          maxIndex = node.nodes.length - 1;\n          if (index <= maxIndex) {\n            var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n            if (subNode) {\n              if (subNode.entry) {\n                return mapIteratorValue(type, subNode.entry);\n              }\n              stack = this._stack = mapIteratorFrame(subNode, stack);\n            }\n            continue;\n          }\n        }\n        stack = this._stack = this._stack.__prev;\n      }\n      return iteratorDone();\n    };\n\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes = idx1 === idx2 ?\n      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :\n      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ?\n      existing.mergeDeep(value) :\n      is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function(existing, value, key)  {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function(x ) {return x.size !== 0});\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function(collection ) {\n      var mergeIntoMap = merger ?\n        function(value, key)  {\n          collection.update(key, NOT_SET, function(existing )\n            {return existing === NOT_SET ? value : merger(existing, value, key)}\n          );\n        } :\n        function(value, key)  {\n          collection.set(key, value);\n        }\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    invariant(\n      isNotSet || (existing && existing.set),\n      'invalid keyPath'\n    );\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(\n      nextExisting,\n      keyPathIter,\n      notSetValue,\n      updater\n    );\n    return nextUpdated === nextExisting ? existing :\n      nextUpdated === NOT_SET ? existing.remove(key) :\n      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - ((x >> 1) & 0x55555555);\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n    x = (x + (x >> 4)) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  createClass(List, IndexedCollection);\n\n    // @pragma Construction\n\n    function List(value) {\n      var empty = emptyList();\n      if (value === null || value === undefined) {\n        return empty;\n      }\n      if (isList(value)) {\n        return value;\n      }\n      var iter = IndexedIterable(value);\n      var size = iter.size;\n      if (size === 0) {\n        return empty;\n      }\n      assertNotInfinite(size);\n      if (size > 0 && size < SIZE) {\n        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n      }\n      return empty.withMutations(function(list ) {\n        list.setSize(size);\n        iter.forEach(function(v, i)  {return list.set(i, v)});\n      });\n    }\n\n    List.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    List.prototype.toString = function() {\n      return this.__toString('List [', ']');\n    };\n\n    // @pragma Access\n\n    List.prototype.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      if (index >= 0 && index < this.size) {\n        index += this._origin;\n        var node = listNodeFor(this, index);\n        return node && node.array[index & MASK];\n      }\n      return notSetValue;\n    };\n\n    // @pragma Modification\n\n    List.prototype.set = function(index, value) {\n      return updateList(this, index, value);\n    };\n\n    List.prototype.remove = function(index) {\n      return !this.has(index) ? this :\n        index === 0 ? this.shift() :\n        index === this.size - 1 ? this.pop() :\n        this.splice(index, 1);\n    };\n\n    List.prototype.insert = function(index, value) {\n      return this.splice(index, 0, value);\n    };\n\n    List.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = this._origin = this._capacity = 0;\n        this._level = SHIFT;\n        this._root = this._tail = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyList();\n    };\n\n    List.prototype.push = function(/*...values*/) {\n      var values = arguments;\n      var oldSize = this.size;\n      return this.withMutations(function(list ) {\n        setListBounds(list, 0, oldSize + values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(oldSize + ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.pop = function() {\n      return setListBounds(this, 0, -1);\n    };\n\n    List.prototype.unshift = function(/*...values*/) {\n      var values = arguments;\n      return this.withMutations(function(list ) {\n        setListBounds(list, -values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.shift = function() {\n      return setListBounds(this, 1);\n    };\n\n    // @pragma Composition\n\n    List.prototype.merge = function(/*...iters*/) {\n      return mergeIntoListWith(this, undefined, arguments);\n    };\n\n    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, merger, iters);\n    };\n\n    List.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoListWith(this, deepMerger, arguments);\n    };\n\n    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, deepMergerWith(merger), iters);\n    };\n\n    List.prototype.setSize = function(size) {\n      return setListBounds(this, 0, size);\n    };\n\n    // @pragma Iteration\n\n    List.prototype.slice = function(begin, end) {\n      var size = this.size;\n      if (wholeSlice(begin, end, size)) {\n        return this;\n      }\n      return setListBounds(\n        this,\n        resolveBegin(begin, size),\n        resolveEnd(end, size)\n      );\n    };\n\n    List.prototype.__iterator = function(type, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      return new Iterator(function()  {\n        var value = values();\n        return value === DONE ?\n          iteratorDone() :\n          iteratorValue(type, index++, value);\n      });\n    };\n\n    List.prototype.__iterate = function(fn, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      var value;\n      while ((value = values()) !== DONE) {\n        if (fn(value, index++, this) === false) {\n          break;\n        }\n      }\n      return index;\n    };\n\n    List.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        return this;\n      }\n      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n    };\n\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn =\n  ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n\n    function VNode(array, ownerID) {\n      this.array = array;\n      this.ownerID = ownerID;\n    }\n\n    // TODO: seems like these methods are very similar\n\n    VNode.prototype.removeBefore = function(ownerID, level, index) {\n      if (index === level ? 1 << level : 0 || this.array.length === 0) {\n        return this;\n      }\n      var originIndex = (index >>> level) & MASK;\n      if (originIndex >= this.array.length) {\n        return new VNode([], ownerID);\n      }\n      var removingFirst = originIndex === 0;\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[originIndex];\n        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && removingFirst) {\n          return this;\n        }\n      }\n      if (removingFirst && !newChild) {\n        return this;\n      }\n      var editable = editableVNode(this, ownerID);\n      if (!removingFirst) {\n        for (var ii = 0; ii < originIndex; ii++) {\n          editable.array[ii] = undefined;\n        }\n      }\n      if (newChild) {\n        editable.array[originIndex] = newChild;\n      }\n      return editable;\n    };\n\n    VNode.prototype.removeAfter = function(ownerID, level, index) {\n      if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n        return this;\n      }\n      var sizeIndex = ((index - 1) >>> level) & MASK;\n      if (sizeIndex >= this.array.length) {\n        return this;\n      }\n\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[sizeIndex];\n        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n          return this;\n        }\n      }\n\n      var editable = editableVNode(this, ownerID);\n      editable.array.splice(sizeIndex + 1);\n      if (newChild) {\n        editable.array[sizeIndex] = newChild;\n      }\n      return editable;\n    };\n\n\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ?\n        iterateLeaf(node, offset) :\n        iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : (left - offset) >> level;\n      var to = ((right - offset) >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        do {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(\n            array && array[idx], level - SHIFT, offset + (idx << level)\n          );\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function(list ) {\n        index < 0 ?\n          setListBounds(list, index).set(0, value) :\n          setListBounds(list, 0, index + 1).set(index, value)\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = (index >>> level) & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << (list._level + SHIFT)) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[(rawIndex >>> level) & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ?\n      listNodeFor(list, newCapacity - 1) :\n      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n    // Merge Tail into tree.\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = (oldTailOffset >>> level) & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = (newOrigin >>> newLevel) & MASK;\n        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);\n  }\n\n  createClass(OrderedMap, Map);\n\n    // @pragma Construction\n\n    function OrderedMap(value) {\n      return value === null || value === undefined ? emptyOrderedMap() :\n        isOrderedMap(value) ? value :\n        emptyOrderedMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    OrderedMap.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedMap.prototype.toString = function() {\n      return this.__toString('OrderedMap {', '}');\n    };\n\n    // @pragma Access\n\n    OrderedMap.prototype.get = function(k, notSetValue) {\n      var index = this._map.get(k);\n      return index !== undefined ? this._list.get(index)[1] : notSetValue;\n    };\n\n    // @pragma Modification\n\n    OrderedMap.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._map.clear();\n        this._list.clear();\n        return this;\n      }\n      return emptyOrderedMap();\n    };\n\n    OrderedMap.prototype.set = function(k, v) {\n      return updateOrderedMap(this, k, v);\n    };\n\n    OrderedMap.prototype.remove = function(k) {\n      return updateOrderedMap(this, k, NOT_SET);\n    };\n\n    OrderedMap.prototype.wasAltered = function() {\n      return this._map.wasAltered() || this._list.wasAltered();\n    };\n\n    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._list.__iterate(\n        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},\n        reverse\n      );\n    };\n\n    OrderedMap.prototype.__iterator = function(type, reverse) {\n      return this._list.fromEntrySeq().__iterator(type, reverse);\n    };\n\n    OrderedMap.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      var newList = this._list.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        this._list = newList;\n        return this;\n      }\n      return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n    };\n\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) { // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});\n        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n    function ToKeyedSequence(indexed, useKeys) {\n      this._iter = indexed;\n      this._useKeys = useKeys;\n      this.size = indexed.size;\n    }\n\n    ToKeyedSequence.prototype.get = function(key, notSetValue) {\n      return this._iter.get(key, notSetValue);\n    };\n\n    ToKeyedSequence.prototype.has = function(key) {\n      return this._iter.has(key);\n    };\n\n    ToKeyedSequence.prototype.valueSeq = function() {\n      return this._iter.valueSeq();\n    };\n\n    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;\n      var reversedSequence = reverseFactory(this, true);\n      if (!this._useKeys) {\n        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};\n      }\n      return reversedSequence;\n    };\n\n    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;\n      var mappedSequence = mapFactory(this, mapper, context);\n      if (!this._useKeys) {\n        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};\n      }\n      return mappedSequence;\n    };\n\n    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var ii;\n      return this._iter.__iterate(\n        this._useKeys ?\n          function(v, k)  {return fn(v, k, this$0)} :\n          ((ii = reverse ? resolveSize(this) : 0),\n            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),\n        reverse\n      );\n    };\n\n    ToKeyedSequence.prototype.__iterator = function(type, reverse) {\n      if (this._useKeys) {\n        return this._iter.__iterator(type, reverse);\n      }\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var ii = reverse ? resolveSize(this) : 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n      });\n    };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(ToIndexedSequence, IndexedSeq);\n    function ToIndexedSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToIndexedSequence.prototype.includes = function(value) {\n      return this._iter.includes(value);\n    };\n\n    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);\n    };\n\n    ToIndexedSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, iterations++, step.value, step)\n      });\n    };\n\n\n\n  createClass(ToSetSequence, SetSeq);\n    function ToSetSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToSetSequence.prototype.has = function(key) {\n      return this._iter.includes(key);\n    };\n\n    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);\n    };\n\n    ToSetSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, step.value, step.value, step);\n      });\n    };\n\n\n\n  createClass(FromEntriesSequence, KeyedSeq);\n    function FromEntriesSequence(entries) {\n      this._iter = entries;\n      this.size = entries.size;\n    }\n\n    FromEntriesSequence.prototype.entrySeq = function() {\n      return this._iter.toSeq();\n    };\n\n    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(entry ) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return fn(\n            indexedIterable ? entry.get(1) : entry[1],\n            indexedIterable ? entry.get(0) : entry[0],\n            this$0\n          );\n        }\n      }, reverse);\n    };\n\n    FromEntriesSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          // Check if entry exists first so array access doesn't throw for holes\n          // in the parent iteration.\n          if (entry) {\n            validateEntry(entry);\n            var indexedIterable = isIterable(entry);\n            return iteratorValue(\n              type,\n              indexedIterable ? entry.get(0) : entry[0],\n              indexedIterable ? entry.get(1) : entry[1],\n              step\n            );\n          }\n        }\n      });\n    };\n\n\n  ToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n    flipSequence.flip = function()  {return iterable};\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function()  {return iterable.reverse()};\n      return reversedSequence;\n    };\n    flipSequence.has = function(key ) {return iterable.includes(key)};\n    flipSequence.includes = function(key ) {return iterable.has(key)};\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);\n    }\n    flipSequence.__iteratorUncached = function(type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n        return new Iterator(function()  {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return iterable.__iterator(\n        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n        reverse\n      );\n    }\n    return flipSequence;\n  }\n\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n    mappedSequence.has = function(key ) {return iterable.has(key)};\n    mappedSequence.get = function(key, notSetValue)  {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ?\n        notSetValue :\n        mapper.call(context, v, key, iterable);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(\n        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},\n        reverse\n      );\n    }\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(\n          type,\n          key,\n          mapper.call(context, entry[1], key, iterable),\n          step\n        );\n      });\n    }\n    return mappedSequence;\n  }\n\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n    reversedSequence.reverse = function()  {return iterable};\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n        flipSequence.reverse = function()  {return iterable.flip()};\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function(key, notSetValue) \n      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};\n    reversedSequence.has = function(key )\n      {return iterable.has(useKeys ? key : -1 - key)};\n    reversedSequence.includes = function(value ) {return iterable.includes(value)};\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);\n    };\n    reversedSequence.__iterator =\n      function(type, reverse)  {return iterable.__iterator(type, !reverse)};\n    return reversedSequence;\n  }\n\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n    if (useKeys) {\n      filterSequence.has = function(key ) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n      filterSequence.get = function(key, notSetValue)  {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?\n          v : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    }\n    return filterSequence;\n  }\n\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        0,\n        function(a ) {return a + 1}\n      );\n    });\n    return groups.asImmutable();\n  }\n\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}\n      );\n    });\n    var coerce = iterableClass(iterable);\n    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});\n  }\n\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size;\n\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable);\n\n    // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ?\n          iterable.get(index + resolvedBegin, notSetValue) :\n          notSetValue;\n      }\n    }\n\n    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k)  {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&\n                 iterations !== sliceSize;\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function(type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    }\n\n    return sliceSeq;\n  }\n\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c) \n        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}\n      );\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function()  {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step, k, v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function(v ) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ?\n          keyedSeqFromValue(v) :\n          indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n      return v;\n    }).filter(function(v ) {return v.size !== 0});\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (singleton === iterable ||\n          isKeyedIterable && isKeyed(singleton) ||\n          isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(\n      function(sum, seq)  {\n        if (sum !== undefined) {\n          var size = seq.size;\n          if (size !== undefined) {\n            return sum + size;\n          }\n        }\n      },\n      0\n    );\n    return concatSeq;\n  }\n\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n    flatSequence.__iterateUncached = function(fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {var this$0 = this;\n        iter.__iterate(function(v, k)  {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(iterable, 0);\n      return iterations;\n    }\n    flatSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    }\n    return flatSequence;\n  }\n\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(\n      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}\n    ).flatten(true);\n  }\n\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 -1;\n    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k) \n        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&\n        fn(v, iterations++, this$0) !== false},\n        reverse\n      );\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function()  {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2 ?\n          iteratorValue(type, iterations++, separator) :\n          iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(\n      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}\n    ).toArray();\n    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(\n      isKeyedIterable ?\n      function(v, i)  { entries[i].length = 2; } :\n      function(v, i)  { entries[i] = v[1]; }\n    );\n    return isKeyedIterable ? KeyedSeq(entries) :\n      isIndexed(iterable) ? IndexedSeq(entries) :\n      SetSeq(entries);\n  }\n\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = iterable.toSeq()\n        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})\n        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;\n  }\n\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function(fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function(type, reverse) {\n      var iterators = iters.map(function(i )\n        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}\n      );\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function()  {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function(i ) {return i.next()});\n          isDone = steps.some(function(s ) {return s.done});\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(\n          type,\n          iterations++,\n          zipper.apply(null, steps.map(function(s ) {return s.value}))\n        );\n      });\n    };\n    return zipSequence\n  }\n\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable :\n      isIndexed(iterable) ? IndexedIterable :\n      SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create(\n      (\n        isKeyed(iterable) ? KeyedSeq :\n        isIndexed(iterable) ? IndexedSeq :\n        SetSeq\n      ).prototype\n    );\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n      iter = getIterator(Iterable(keyPath));\n    }\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n    function Record(defaultValues, name) {\n      var hasInitialized;\n\n      var RecordType = function Record(values) {\n        if (values instanceof RecordType) {\n          return values;\n        }\n        if (!(this instanceof RecordType)) {\n          return new RecordType(values);\n        }\n        if (!hasInitialized) {\n          hasInitialized = true;\n          var keys = Object.keys(defaultValues);\n          setProps(RecordTypePrototype, keys);\n          RecordTypePrototype.size = keys.length;\n          RecordTypePrototype._name = name;\n          RecordTypePrototype._keys = keys;\n          RecordTypePrototype._defaultValues = defaultValues;\n        }\n        this._map = Map(values);\n      };\n\n      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n      RecordTypePrototype.constructor = RecordType;\n\n      return RecordType;\n    }\n\n    Record.prototype.toString = function() {\n      return this.__toString(recordName(this) + ' {', '}');\n    };\n\n    // @pragma Access\n\n    Record.prototype.has = function(k) {\n      return this._defaultValues.hasOwnProperty(k);\n    };\n\n    Record.prototype.get = function(k, notSetValue) {\n      if (!this.has(k)) {\n        return notSetValue;\n      }\n      var defaultVal = this._defaultValues[k];\n      return this._map ? this._map.get(k, defaultVal) : defaultVal;\n    };\n\n    // @pragma Modification\n\n    Record.prototype.clear = function() {\n      if (this.__ownerID) {\n        this._map && this._map.clear();\n        return this;\n      }\n      var RecordType = this.constructor;\n      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n    };\n\n    Record.prototype.set = function(k, v) {\n      if (!this.has(k)) {\n        throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n      }\n      var newMap = this._map && this._map.set(k, v);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.remove = function(k) {\n      if (!this.has(k)) {\n        return this;\n      }\n      var newMap = this._map && this._map.remove(k);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);\n    };\n\n    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);\n    };\n\n    Record.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map && this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return makeRecord(this, newMap, ownerID);\n    };\n\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn =\n  RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection);\n\n    // @pragma Construction\n\n    function Set(value) {\n      return value === null || value === undefined ? emptySet() :\n        isSet(value) && !isOrdered(value) ? value :\n        emptySet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    Set.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Set.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    Set.prototype.toString = function() {\n      return this.__toString('Set {', '}');\n    };\n\n    // @pragma Access\n\n    Set.prototype.has = function(value) {\n      return this._map.has(value);\n    };\n\n    // @pragma Modification\n\n    Set.prototype.add = function(value) {\n      return updateSet(this, this._map.set(value, true));\n    };\n\n    Set.prototype.remove = function(value) {\n      return updateSet(this, this._map.remove(value));\n    };\n\n    Set.prototype.clear = function() {\n      return updateSet(this, this._map.clear());\n    };\n\n    // @pragma Composition\n\n    Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);\n      iters = iters.filter(function(x ) {return x.size !== 0});\n      if (iters.length === 0) {\n        return this;\n      }\n      if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n        return this.constructor(iters[0]);\n      }\n      return this.withMutations(function(set ) {\n        for (var ii = 0; ii < iters.length; ii++) {\n          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});\n        }\n      });\n    };\n\n    Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (!iters.every(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (iters.some(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.merge = function() {\n      return this.union.apply(this, arguments);\n    };\n\n    Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return this.union.apply(this, iters);\n    };\n\n    Set.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator));\n    };\n\n    Set.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator, mapper));\n    };\n\n    Set.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);\n    };\n\n    Set.prototype.__iterator = function(type, reverse) {\n      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);\n    };\n\n    Set.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return this.__make(newMap, ownerID);\n    };\n\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map ? set :\n      newMap.size === 0 ? set.__empty() :\n      set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set);\n\n    // @pragma Construction\n\n    function OrderedSet(value) {\n      return value === null || value === undefined ? emptyOrderedSet() :\n        isOrderedSet(value) ? value :\n        emptyOrderedSet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    OrderedSet.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedSet.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    OrderedSet.prototype.toString = function() {\n      return this.__toString('OrderedSet {', '}');\n    };\n\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection);\n\n    // @pragma Construction\n\n    function Stack(value) {\n      return value === null || value === undefined ? emptyStack() :\n        isStack(value) ? value :\n        emptyStack().unshiftAll(value);\n    }\n\n    Stack.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Stack.prototype.toString = function() {\n      return this.__toString('Stack [', ']');\n    };\n\n    // @pragma Access\n\n    Stack.prototype.get = function(index, notSetValue) {\n      var head = this._head;\n      index = wrapIndex(this, index);\n      while (head && index--) {\n        head = head.next;\n      }\n      return head ? head.value : notSetValue;\n    };\n\n    Stack.prototype.peek = function() {\n      return this._head && this._head.value;\n    };\n\n    // @pragma Modification\n\n    Stack.prototype.push = function(/*...values*/) {\n      if (arguments.length === 0) {\n        return this;\n      }\n      var newSize = this.size + arguments.length;\n      var head = this._head;\n      for (var ii = arguments.length - 1; ii >= 0; ii--) {\n        head = {\n          value: arguments[ii],\n          next: head\n        };\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pushAll = function(iter) {\n      iter = IndexedIterable(iter);\n      if (iter.size === 0) {\n        return this;\n      }\n      assertNotInfinite(iter.size);\n      var newSize = this.size;\n      var head = this._head;\n      iter.reverse().forEach(function(value ) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      });\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pop = function() {\n      return this.slice(1);\n    };\n\n    Stack.prototype.unshift = function(/*...values*/) {\n      return this.push.apply(this, arguments);\n    };\n\n    Stack.prototype.unshiftAll = function(iter) {\n      return this.pushAll(iter);\n    };\n\n    Stack.prototype.shift = function() {\n      return this.pop.apply(this, arguments);\n    };\n\n    Stack.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._head = undefined;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyStack();\n    };\n\n    Stack.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      var resolvedBegin = resolveBegin(begin, this.size);\n      var resolvedEnd = resolveEnd(end, this.size);\n      if (resolvedEnd !== this.size) {\n        // super.slice(begin, end);\n        return IndexedCollection.prototype.slice.call(this, begin, end);\n      }\n      var newSize = this.size - resolvedBegin;\n      var head = this._head;\n      while (resolvedBegin--) {\n        head = head.next;\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    // @pragma Mutability\n\n    Stack.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeStack(this.size, this._head, ownerID, this.__hash);\n    };\n\n    // @pragma Iteration\n\n    Stack.prototype.__iterate = function(fn, reverse) {\n      if (reverse) {\n        return this.reverse().__iterate(fn);\n      }\n      var iterations = 0;\n      var node = this._head;\n      while (node) {\n        if (fn(node.value, iterations++, this) === false) {\n          break;\n        }\n        node = node.next;\n      }\n      return iterations;\n    };\n\n    Stack.prototype.__iterator = function(type, reverse) {\n      if (reverse) {\n        return this.reverse().__iterator(type);\n      }\n      var iterations = 0;\n      var node = this._head;\n      return new Iterator(function()  {\n        if (node) {\n          var value = node.value;\n          node = node.next;\n          return iteratorValue(type, iterations++, value);\n        }\n        return iteratorDone();\n      });\n    };\n\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  /**\n   * Contributes additional methods to a constructor\n   */\n  function mixin(ctor, methods) {\n    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols &&\n      Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n\n  mixin(Iterable, {\n\n    // ### Conversion to other types\n\n    toArray: function() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });\n      return array;\n    },\n\n    toIndexedSeq: function() {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}\n      ).__toJS();\n    },\n\n    toJSON: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}\n      ).__toJS();\n    },\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: function() {\n      assertNotInfinite(this.size);\n      var object = {};\n      this.__iterate(function(v, k)  { object[k] = v; });\n      return object;\n    },\n\n    toOrderedMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function() {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function() {\n      return isIndexed(this) ? this.toIndexedSeq() :\n        isKeyed(this) ? this.toKeyedSeq() :\n        this.toSetSeq();\n    },\n\n    toStack: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n\n    // ### Common JavaScript methods and properties\n\n    toString: function() {\n      return '[Iterable]';\n    },\n\n    __toString: function(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function() {var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function(searchValue) {\n      return this.some(function(value ) {return is(value, searchValue)});\n    },\n\n    entries: function() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function(v, k, c)  {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    findEntry: function(predicate, context) {\n      var found;\n      this.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findLastEntry: function(predicate, context) {\n      return this.toSeq().reverse().findEntry(predicate, context);\n    },\n\n    forEach: function(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function(v ) {\n        isFirst ? (isFirst = false) : (joined += separator);\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function(reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n      this.__iterate(function(v, k, c)  {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n      return reduction;\n    },\n\n    reduceRight: function(reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n\n    // ### More sequential methods\n\n    butLast: function() {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});\n    },\n\n    count: function(predicate, context) {\n      return ensureSize(\n        predicate ? this.toSeq().filter(predicate, context) : this\n      );\n    },\n\n    countBy: function(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function(other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function() {\n      var iterable = this;\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};\n      return entriesSequence;\n    },\n\n    filterNot: function(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findLast: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    first: function() {\n      return this.find(returnTrue);\n    },\n\n    flatMap: function(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function() {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function(searchKey, notSetValue) {\n      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);\n    },\n\n    getIn: function(searchKeyPath, notSetValue) {\n      var nested = this;\n      // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n      var iter = forceIterator(searchKeyPath);\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n      return nested;\n    },\n\n    groupBy: function(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: function(searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n\n    isSubset: function(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function(value ) {return iter.includes(value)});\n    },\n\n    isSuperset: function(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n\n    keySeq: function() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function() {\n      return this.toSeq().reverse().first();\n    },\n\n    max: function(comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function(comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n\n    minBy: function(mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n\n    rest: function() {\n      return this.slice(1);\n    },\n\n    skip: function(amount) {\n      return this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function(amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function(amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n\n    takeWhile: function(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    valueSeq: function() {\n      return this.toIndexedSeq();\n    },\n\n\n    // ### Hashable Object\n\n    hashCode: function() {\n      return this.__hash || (this.__hash = hashIterable(this));\n    }\n\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n  IterablePrototype.inspect =\n  IterablePrototype.toSource = function() { return this.toString(); };\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes;\n\n  // Temporary warning about using length\n  (function () {\n    try {\n      Object.defineProperty(IterablePrototype, 'length', {\n        get: function () {\n          if (!Iterable.noLengthWarning) {\n            var stack;\n            try {\n              throw new Error();\n            } catch (error) {\n              stack = error.stack;\n            }\n            if (stack.indexOf('_wrapObject') === -1) {\n              console && console.warn && console.warn(\n                'iterable.length has been deprecated, '+\n                'use iterable.size or iterable.count(). '+\n                'This warning will become a silent error in a future version. ' +\n                stack\n              );\n              return this.size;\n            }\n          }\n        }\n      });\n    } catch (e) {}\n  })();\n\n\n\n  mixin(KeyedIterable, {\n\n    // ### More sequential methods\n\n    flip: function() {\n      return reify(this, flipFactory(this));\n    },\n\n    findKey: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLastKey: function(predicate, context) {\n      return this.toSeq().reverse().findKey(predicate, context);\n    },\n\n    keyOf: function(searchValue) {\n      return this.findKey(function(value ) {return is(value, searchValue)});\n    },\n\n    lastKeyOf: function(searchValue) {\n      return this.findLastKey(function(value ) {return is(value, searchValue)});\n    },\n\n    mapEntries: function(mapper, context) {var this$0 = this;\n      var iterations = 0;\n      return reify(this,\n        this.toSeq().map(\n          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}\n        ).fromEntrySeq()\n      );\n    },\n\n    mapKeys: function(mapper, context) {var this$0 = this;\n      return reify(this,\n        this.toSeq().flip().map(\n          function(k, v)  {return mapper.call(context, k, v, this$0)}\n        ).flip()\n      );\n    }\n\n  });\n\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};\n\n\n\n  mixin(IndexedIterable, {\n\n    // ### Conversion to other types\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, false);\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function(searchValue) {\n      var key = this.toKeyedSeq().keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function(searchValue) {\n      var key = this.toKeyedSeq().reverse().keyOf(searchValue);\n      return key === undefined ? -1 : key;\n\n      // var index =\n      // return this.toSeq().reverse().indexOf(searchValue);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function(index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(\n        this,\n        numArgs === 1 ?\n          spliced :\n          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n      );\n    },\n\n\n    // ### More collection methods\n\n    findLastIndex: function(predicate, context) {\n      var key = this.toKeyedSeq().findLastKey(predicate, context);\n      return key === undefined ? -1 : key;\n    },\n\n    first: function() {\n      return this.get(0);\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return (index < 0 || (this.size === Infinity ||\n          (this.size !== undefined && index > this.size))) ?\n        notSetValue :\n        this.find(function(_, key)  {return key === index}, undefined, notSetValue);\n    },\n\n    has: function(index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ?\n        this.size === Infinity || index < this.size :\n        this.indexOf(index) !== -1\n      );\n    },\n\n    interpose: function(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function(/*...iterables*/) {\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    last: function() {\n      return this.get(-1);\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function(/*, ...iterables */) {\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n\n    zipWith: function(zipper/*, ...iterables */) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n\n  });\n\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n\n  mixin(SetIterable, {\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function(value) {\n      return this.has(value);\n    },\n\n\n    // ### More sequential methods\n\n    keySeq: function() {\n      return this.valueSeq();\n    }\n\n  });\n\n  SetIterable.prototype.has = IterablePrototype.includes;\n\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype);\n\n\n  // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    }\n  }\n\n  function neg(predicate) {\n    return function() {\n      return -predicate.apply(this, arguments);\n    }\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : value;\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n    var size = iterable.__iterate(\n      keyed ?\n        ordered ?\n          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :\n          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :\n        ordered ?\n          function(v ) { h = 31 * h + hash(v) | 0; } :\n          function(v ) { h = h + hash(v) | 0; }\n    );\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n\n    Iterable: Iterable,\n\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS\n\n  };\n\n  return Immutable;\n\n}));","(function() { module.exports = this[\"ReactDOM\"]; }());","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n'use strict';\n\nvar validateFormat = process.env.NODE_ENV !== \"production\" ? function (format) {\n  if (format === undefined) {\n    throw new Error('invariant(...): Second argument must be a string.');\n  }\n} : function (format) {};\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments to provide\n * information about what broke and what you were expecting.\n *\n * The invariant message will be stripped in production, but the invariant will\n * remain to ensure logic does not differ in production.\n */\n\nfunction invariant(condition, format) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return String(args[argIndex++]);\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // Skip invariant's own stack frame.\n\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n"],"sourceRoot":""}